function s(){}function Oc(){function a(){M=!0;F&&F.addClass&&F.addClass("touchon")}function b(){M=!1;F&&F.removeClass&&F.removeClass("touchon")}function c(e){if(e&&e.changedTouches&&e.changedTouches[0]){var f=e.changedTouches[0];h++;if(F&&G)if(G._fixed||h<=g){var B;if(B=G._fixed||q){B=G.getBoundingClientRect();var p=B.top,V=B.right,M=B.bottom,n=f.clientX,f=f.clientY;B=n>=B.left&&n<=V&&f>=p&&f<=M?!0:!1}B?(G._fixed&&e.preventDefault(),a()):b()}else clearTimeout(l),b(),window.removeEventListener("touchmove",
c,!0);else h>g&&(b(),window.removeEventListener("touchmove",c,!0))}}function e(a,b){a&&a[0]&&(f(a)&&b.preventDefault(),V=setTimeout(function(){a.trigger($.Event("tap"))},0))}function f(a){if(a&&(a=a[0])&&1==a.nodeType&&a.hasAttribute("tap")&&"disabled"!=a.getAttribute("tap"))return!0}if(!ha&&!E)return $(document.body).click(function(a){var b=$(a.target),c=b.closest("a,input,select,textarea");f(c)&&a.preventDefault();b.trigger($.Event("tap"))});var g=2,l,q,B,h=0,F,G,V,M=!1;window.addEventListener("touchstart",
function(e){window.clearTimeout(V);b();q=!1;h=0;B=e.touches[0].target;F=$(B).closest("[tap],[fixed],a[href]");(G=F[0])?G.hasAttribute("fixed")?(e.preventDefault(),G._fixed=!0,a()):(l=setTimeout(function(){q=!0;a()},50),delete G._fixed):G=F=null;window.addEventListener("touchmove",c,!0)},!0);window.addEventListener("touchend",function(a){window.clearTimeout(V);if(F&&M||h<=g){var f;if(!(f=F)){f=$;var G;G=B&&3===B.nodeType?B.parentNode:B;f=f(G)}e(f,a)}h=0;clearTimeout(l);q=!1;window.removeEventListener("touchmove",
c,!0);b()},!0)}function Za(a,b,c,e){return 1>(a/=e/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b}function Ca(a,b){b||(b={});if(b.dom){var c=b.dom[0].getBoundingClientRect().top,e=b.dom[0].getBoundingClientRect().height;if(b.banner){var f=b.dom.find("li").eq(0),g=f.attr("userAction");!f.hasClass("hasLogged")&&(0>c&&-c<e||0<=c)&&g&&(f.addClass("hasLogged"),setTimeout(function(){lg("user_action","1.0",{clickid:"bannerlist",userAction:g})},200))}}var l=b.onStep;b.banner&&(b.onStep=function(a){l&&l();if(b.banner&&
2==a&&b.exposalUrl&&b.requestJDOnce&&(0>c&&-c<e||0<=c)){var f=b.exposalUrl,g=new Image;g.src=f;g.onerror=function(a){console.log(a)};g.onload=function(){};b.requestJDOnce=!1}b.banner&&(a=b.dom.find("li").eq(a-1),!a.hasClass("hasLogged")&&(0>c&&-c<e||0<=c)&&(f=a.attr("userAction"),a.addClass("hasLogged"),lg("user_action","1.0",{clickid:"bannerlist",userAction:f})))});Z("//static-o2o.360buyimg.com/daojia/js/Swipe7.js").done(function(){setTimeout(function(){$(a).each(function(){Swipe7(this,b)})},1)}).fail(function(){})}function N(a){a||
(a={});"string"===typeof a&&(a={title:"温馨提示",msg:a});a.title||!1===a.title||(a.title="温馨提示");a.button&&a.button.length||(a.button=[{text:"好"}]);var b=a,c=a.button;new (ba.View.extend({events:{"click li[index]":"buttonHandler","tap .qd":"closeWin","click .c":"onlyForOrder"},initialize:function(a){a=h("s")(b);this.$el.html(a);document.body.appendChild(this.el);var c=this;v.off("hashchange.Alert").on("hashchange.Alert",function(){c.close()});v.off("popstate.Alert").on("popstate.Alert",
function(){c.close()})},onlyForOrder:function(){if(1==a.button.length&&"知道啦"==a.button[0].text){var b=c[0].callback;b?(b=b(this.$el))&&!0!==b.close||this.close():this.close()}},buttonHandler:function(a){a=$(a.currentTarget).attr("index");(a=c&&c[a]&&c[a].callback)?(a=a(this.$el))&&!0!==a.close||this.close():this.close()},closeWin:function(b){a.isBlankClose&&this.close()},close:function(){var b=this;"order"==a.type?setTimeout(function(){b.remove();v.off("hashchange.Alert")},800):(this.remove(),v.off("hashchange.Alert"))}}))}
function ia(a){var b=a=a||{};new (ba.View.extend({events:{"click .c":"handleBlank","click .ib":"closeWin","click .bind-phone":"bindPhone","click .verification":"verification"},initialize:function(){var a=h("t")(b);this.$el.html(a);document.body.appendChild(this.el);var e=this;v.off("hashchange.Alert").on("hashchange.Alert",function(){e.close()});v.off("popstate.Alert").on("popstate.Alert",function(){e.close()});v.bind("touchmove",function(a){a.preventDefault()})},
handleBlank:function(a){a=$(a.target);a.hasClass("i3")||0<a.parents(".i3").length||this.close()},closeWin:function(a){$(a.currentTarget).hasClass("verification")||this.close()},bindPhone:function(b){b=z("o2o_m_h5_sid");var e=z("deviceid_pdj_jd"),f=encodeURIComponent(location.href.split("#")[0]+a.oldHash);location.href="https://msc.jd.com/phone/loginpage/wcoo/index?IsH5=true&source=7&sid="+b+"&deviceId="+e+"&returnUrl="+f},verification:function(){a.callback(a.context,
this)},close:function(){this.remove();v.off("hashchange.Alert");v.unbind("touchmove")}}))}function Pc(a){var b=a=a||{};new (ba.View.extend({events:{"click .c":"handleBlank","click .ib":"verification","click .ia":"getVerifyCode","input .i6":"handleInputCode","focus .i6":"handleFocus","blur .i6":"handleBlur","click .i9":"handleClearCode"},initialize:function(){var a=h("u")(b);this.$el.html(a);document.body.appendChild(this.el);
var e=this;v.off("hashchange.Alert").on("hashchange.Alert",function(){e.close()});v.off("popstate.Alert").on("popstate.Alert",function(){e.close()});v.bind("touchmove",function(a){a.preventDefault()});e.getVerifyCode()},handleBlank:function(a){a=$(a.target);a.hasClass("i3")||0<a.parents(".i3").length||this.close()},verification:function(b){$(b.currentTarget).hasClass("disabled")||(b=this.$(".i6").val())&&a.context.submit(null,b,this)},getVerifyCode:function(a){var b=
this,f=a?$(a.currentTarget):b.$(".ia"),g=59;b.hasVerify=!0;if(!f.hasClass("disabled")){f.addClass("disabled");a&&Hb().done(function(a){b.$(".i7").text(a.caller)}).fail(function(a){n(a.msg)});f.text("("+g+"s)重新获取");var l=setInterval(function(){1<g?(g--,f.text("("+g+"s)重新获取")):(clearInterval(l),g=59,f.text("获取验证码"),f.removeClass("disabled"))},1E3)}},handleInputCode:function(){var a=this.$(".i6");this.hasVerify?(this.$(".i9").show(),6==a.val().length&&this.$(".ib").removeClass("disabled")):
a.val("");6<a.val().length?a.val(a.val().substr(0,6)):""===a.val()?this.handleClearCode():6>a.val().length&&this.$(".ib").addClass("disabled")},handleFocus:function(){this.$(".i3").css("top","-40px")},handleBlur:function(){this.$(".i3").css("top","-20px")},handleClearCode:function(){this.$("input").val("");this.$(".i9").hide();this.$(".ib").addClass("disabled")},close:function(){this.remove();v.off("hashchange.Alert");this.$("input").blur();
v.unbind("touchmove")}}))}function Pa(a,b){var c=a=a||{};new (ba.View.extend({events:{"click .c":"handleBlank","click .mt":"closeWin"},initialize:function(){var a=h(b||"v")(c);this.$el.html(a);document.body.appendChild(this.el);var f=this;v.off("hashchange.Alert").on("hashchange.Alert",function(){f.close()});v.off("popstate.Alert").on("popstate.Alert",function(){f.close()});v.bind("touchmove",function(a){$(a.target).hasClass("i3")||0<$(a.target).closest(".i3").length||
a.preventDefault()})},handleBlank:function(a){a=$(a.target);a.hasClass("i3")||0<a.parents(".i3").length||this.close()},closeWin:function(a){this.close()},close:function(){this.remove();v.off("hashchange.Alert");v.unbind("touchmove")}}))}function Ib(a){var b;$("input[pattern],select",a).each(function(){var a="password"===this.type?this.value:$.trim(this.value),e=this.getAttribute("vtitle")||"",f=this.getAttribute("optional");if(""===a){if(!f)return b=e+"不能为空",!1}else{if("SELECT"===
this.tagName.toUpperCase()&&((a=this.getAttribute("invalidSelectedIndex"))&&K(a)===this.selectedIndex||-1===this.selectedIndex))return b=(a=this.getAttribute("vtips"))||"请选择"+e,!1;if("INPUT"===this.tagName.toUpperCase()&&!this.checkValidity())return b=(a=this.getAttribute("vtips"))||"请输入正确的"+e,!1}});return b}function z(a){for(var b=document.cookie.split("; "),c=0;c<b.length;c++){var e=b[c].split("=");if(e[0]==a)return decodeURIComponent((e[1]||"").trim())}return""}function Y(a,b,c){var e=a+"="+encodeURIComponent(b)+
";path=/;";2<arguments.length&&(e+="Max-Age="+3600*c);document.cookie=e}function T(a){document.cookie=a+"=;path=/;Max-Age=-1"}function Z(a,b){if(Z[a]){if(Z[a].done)return $.Deferred(function(a){a.resolve()});if(Z[a].loading)return Z[a].Deferred}Z[a]={loading:!0,Deferred:$.Deferred(function(c){var e=document.createElement("script");e.src=a;if(b&&_.isObject(b))for(var f in b)e.setAttribute(f,b[f]);e.onload=function(){Z[a].done=!0;Z[a].loading=!1;Z[a].Deferred=null;c.resolve(e)};e.onerror=function(){Z[a]=
null;c.reject()};document.getElementsByTagName("head")[0].appendChild(e)})};return Z[a].Deferred}function ra(a){if(!0===a){if(ra.ready=!0,a=ra._callbacks,delete ra._callbacks,a)for(var b=0;b<a.length;b++)a[b]()}else"function"===typeof a&&(ra.ready?a():ra._callbacks.push(a))}function R(a,b,c,e,f){function g(){var g=a.$(c),l=g.length;if(!(2>l)&&(g=e?g[l-1]:g[l-3])){var h=g.getBoundingClientRect(),g=v.height()||480,l=v.width()||480,F=h.top,G=h.right,h=h.width;f&&G<l+10?setTimeout(function(){$.proxy(b,
a)()},500):0<h&&_.isNumber(F)&&F<g+99&&$.proxy(b,a)()}}a._scroll_IntervalId=window.setInterval(function(){g()},f?500:125);var l=$.proxy(a.destroy||_.noop,a);a.destroy=function(){window.clearInterval(a._scroll_IntervalId);l&&l()}}function n(a,b){function c(a,b){b||(b={});var c='<tr><td><div class="e">'+(b.hasIcon?'<i class="a0 a1 '+b.hasIcon+'"></i>':"")+"<p>"+(a||"")+"</p></div></td></tr>",e=document.createElement("table");e.className="d";e.innerHTML=c;document.body.appendChild(e);
return e}b||(b={});if(a){if(!1===b.auto){var e=c(a,b);return function(){$(e).remove()}}if(n.$table){var f=n.$table,g=f.find("td div p");g.html()!==a&&(clearTimeout(n.timeoutId),g.html(a||""),f.fadeIn(200),n.timeoutId=setTimeout(function(){f.fadeOut(500,function(){$(this).remove()});delete n.$table},1E3))}else e=c(a,b),clearTimeout(n.timeoutId),n.$table=$(e),n.timeoutId=setTimeout(function(){$(e).fadeOut(500,function(){$(this).remove();delete n.$table})},1E3)}}function $a(a){if(a&&E){var b;a.addEventListener("touchstart",
function(c){b=a.scrollTop;0>=b?a.scrollTop=1:b+a.offsetHeight>=a.scrollHeight&&(a.scrollTop=a.scrollHeight-a.offsetHeight-1)},!1)}}function Jb(){var a="ontouchstart"in window;return{start:a?"touchstart":"mousedown",move:a?"touchmove":"mousemove",end:a?"touchend touchcancel":"mouseup mouseout"}}function hb(a,b,c){var e=Jb(),f=$(window),g,l,q,B,h=0,F="ontouchstart"in window,G=function(a){if(F){for(var b=[],c=null,e=0,f=a.touches.length;e<f;e++)c=a.touches[e],b.push({x:c.pageX,y:c.pageY});return b}return[{x:a.pageX,
y:a.pageY}]};f.bind(e.start,function(a){a.stopPropagation();g=G(a)[0].x;h=l=G(a)[0].y});f.bind(e.move,function(c){c.stopPropagation();var e="";c=c.clientY||((c.changedTouches||[])[0]||{}).clientY;h>c?e="up":h<c&&(e="down");h=c;b(e,a)});f.bind(e.end,function(b){b||(b={});b.stopPropagation();q=b.clientX||((b.changedTouches||[])[0]||{}).pageX;h=B=b.clientY||((b.changedTouches||[])[0]||{}).pageY;Math.abs(q-g);Math.abs(B-l);f.bind("scroll",_.debounce(function(){c("end",a)}.bind(a),150))})}function ib(){var a=
Jb(),b=$(window);b.unbind("scroll");b.unbind(a.start);b.unbind(a.move);b.unbind(a.end)}function ja(a){return!!(a&&oa(a.longitude)&&oa(a.latitude))}function sa(a){return $.Deferred(function(b){if(a){var c=sa.savedCoords_||u.getItem("_getLocation_saved_coords_");if(ja(c))return b.resolve(c)}if(I&&(Ka||da)){var c=A("lng"),e=A("lat"),c={longitude:c,latitude:e},e=A("longitude"),f=A("latitude"),e={longitude:e,latitude:f};return(c=ja(c)?c:ja(e)?e:null)?(c.coord_type="1",b.resolve(c)):b.reject()}if(navigator&&
navigator.geolocation){setTimeout(function(){b.reject()},2E4);try{navigator.geolocation.getCurrentPosition(function(a){a=(a||{}).coords;ja(a)?(a.coord_type="1",sa.savedCoords_=a,u.setItem("_getLocation_saved_coords_",a),b.resolve(a)):b.reject()},function(a){b.reject(a)},{enableHighAcuracy:!0,timeout:E?1500:5E3,maximumAge:3E3,accuracy:2E3})}catch(g){b.reject()}}else b.reject()})}function ab(a){if(ta){var b=A("code");a=a||window.location.href;if(b)r({functionId:"client/qqmenu",body:{},code:b},"GET").done(function(b){return a});
else{A("_vacf");var b="http://proxy.svip.qq.com/cgi-bin/auth_redirect?appid=101273182&redirect_uri=",c,e=window.location.protocol+"//"+window.location.host;c=e+"/client?functionId=client/qqmenu&appName=paidaojia&platCode=H5&h5_redirect_url="+encodeURIComponent(a);return c=b+encodeURIComponent(c)}}else return b="https://passport.m.jd.com/user/login.action?v=1&returnurl=",c="/client?functionId=login/returnPassport&platCode=H5&appName=paidaojia&appVersion="+appVersion+"&body=",e=window.location.protocol+
"//"+window.location.host,a=a||window.location.href,a=a.replace(/sid=[a-zA-Z0-9]*/,""),a='{"returnLink": "'+a+'"}',c=e+c+encodeURIComponent(a),b+=encodeURIComponent(c),console.log("returnUrl "+c),b}function X(a){a=ab(a);u.removeItem("hasFenxiang");w(a)}function jb(a,b){return a&&_.isString(a)?a.replace(new RegExp("^\\"+b+"*"),""):a}function xa(a){a=(a||window.location.hash).toString();var b=a.lastIndexOf("#");return-1===b?"":a.substring(b+1)}function kb(a,b){b=b||xa();var c="/";b.charAt(b.length-
1)===c&&(c="");return b+c+a}function ea(a){"string"===(typeof a).toString().toLowerCase()&&(a=a.split("/"));for(var b={},c=0;c<a.length;c++){var e=a[c],f=e.indexOf(":");if(-1!==f){var g=e.substr(0,f),e=e.substr(f+1);b[g]=e}}return b}function K(a){return parseInt(a,10)}function oa(a){return parseFloat(a,10)}function w(a,b){setTimeout(function(){window.location.href=a},b||0)}function Qa(a){a||(a={});Manager.goTo({hash:encodeURI("success"==a.result?"#orderopresult/result:success/payType:"+a.payType+
"/paymentType:"+a.paymentType+"/grossAmount:"+a.grossAmount+"/sendTime:"+a.sendTime+"/orderId:"+(a.orderId||"")+"/settleType:"+a.settleType:"#orderopresult/result:failure/failtype:"+(a.failtype||""))})}function Kb(a){var b={},c,e;$("input[name],textarea[name],select[name]",a).each(function(){var a=this.type;if("checkbox"!==a&&"radio"!==a||this.checked)c=this.name,e=this.value,b[c]=e});return b}function lb(a,b,c,e,f,g){b=b||{};c||(c={});g&&(g=W(g));g||(g={});if(-1!=window.location.href.indexOf("marketindex")&&
"web"==a)return b.url?-1!=b.url.indexOf("?")?"2"==b.type?b.url+"&isMarket=true&longitude="+c.longitude+"&latitude="+c.latitude+"&appVersion="+appVersion+"&platCode"+platCode:b.url+"&isMarket=true":"2"==b.type?b.url+"?isMarket=true&longitude="+c.longitude+"&latitude="+c.latitude+"&appVersion="+appVersion+"&platCode"+platCode:b.url+"?isMarket=true":"javascript:void 0;";"web"==a&&"2"==b.type&&(-1!=b.url.indexOf("?")?b.url=b.url+"&longitude="+c.longitude+"&latitude="+c.latitude+"&appVersion="+appVersion+
"&platCode"+platCode:b.url=b.url+"?longitude="+c.longitude+"&latitude="+c.latitude+"&appVersion="+appVersion+"&platCode"+platCode);var l;if(b.url&&b.url.match(/#/i)){l=b.url;var q="cityId:"+encodeURIComponent(c.cityId||c.cityCode||c.areaCode||"")+"/lng:"+(c.longitude||"")+"/lat:"+(c.latitude||"");l=""==q?l:(l+"&"+q).replace(/[&?]{1,2}/,"/")}else l=b.url&&Lb(b.url,"cityId="+encodeURIComponent(c.cityId||c.cityCode||c.areaCode||"")+"&city="+encodeURIComponent(c.city||c.cityName||"")+"&lng="+(c.longitude||
"")+"&lat="+(c.latitude||"")+"&coordType="+(c.coordType||""))+"&djAppVersion="+appVersion;b={web:l,jdweb:Lb(b.url,"cityId="+encodeURIComponent(c.cityId||c.cityCode||c.areaCode||"")+"&city="+encodeURIComponent(c.city||c.cityName||"")+"&lng="+(c.longitude||"")+"&lat="+(c.latitude||"")+"&sid="+z("o2o_m_h5_sid")+"&coordType="+(c.coordType||""))+"&djAppVersion="+appVersion,channelPage:"#channelPage/channelId:"+b.channelId+"/channelName:"+encodeURIComponent(c),storeList:"#storeList/storetypeId:"+(b.venderIndustryType||
"")+"/promotionInfoId:"+(f||"")+"/jumpType:"+(b.jumpType||""),storeListByKey:"#indexSearchToStore",store:"#storeHome/storeId:"+b.storeId+"/orgCode:"+b.orgCode+"/formFenxiang:"+(e||"false")+(b.skuId?"/skuId:"+b.skuId+"/fromAnchor:true":"")+(g&&g.res_type?"/res_type:"+g.res_type:""),glbstore:"#storeHome/storeId:"+b.storeId+"/formFenxiang:"+(e||"false")+(b.skuId?"/skuId:"+b.skuId+"/fromAnchor:true":""),productDetail:"#goodsDetails/skuId:"+b.skuId+"/storeId:"+b.storeId+"/orgCode:"+b.orgCode,activityDetail:"#activityPage/actNativeId:"+
b.activityId,activityBusy:"#activityPage/actNativeId:"+b.activityId+"/storeId:"+b.storeId+"/activityBusy:true",home:"#index",seckill:"#grabList/res_type:"+g.res_type+"/longitude:"+(c.longitude||"")+"/latitude:"+(c.latitude||"")+"/city:"+encodeURIComponent(c.city||c.cityName||""),storeActDetail:c&&c.longitude?"#storeActivityPage/activityId:"+b.activityId+"/longitude:"+c.longitude+"/latitude:"+c.latitude+"/actFrom:address":"#storeActivityPage/activityId:"+b.activityId+"/storeId:"+b.storeId+"/actFrom:store",
goodsList:"#purchTickets/couponId:"+(b.couponId?b.couponId:b.limitId)+"/stationNo:"+(b.stationNo?b.stationNo:b.storeId)};b[a]&&g&&g.res_unit&&(c=b[a],-1!=c.indexOf("#")?b[a]=b[a]+"/res_unit:"+g.res_unit+"/res_type:"+g.res_type+"/unit_index:"+g.unit_index+"/res_name:"+(encodeURIComponent(g.res_name||"")+"/tpl:"+g.styleTpl):-1!=c.indexOf("&")||-1!=c.indexOf("?")?b[a]=b[a]+"&res_unit="+g.res_unit+"&res_type="+g.res_type+"&unit_index="+g.unit_index+"&res_name="+(encodeURIComponent(g.res_name||"")+"&tpl="+
g.styleTpl):-1==c.indexOf("javascript")&&(b[a]=b[a]+"?res_unit="+g.res_unit+"&res_type="+g.res_type+"&unit_index="+g.unit_index+"&res_name="+(encodeURIComponent(g.res_name||"")+"&tpl="+g.styleTpl)));return b[a]||"javascript:void 0;"}function L(a,b){Manager.animation=0<arguments.length?a:"prev";b=_.isNumber(b)?b:-1;history.go(b)}function x(a){E?Qc(a):Manager.goTo(a)}function Qc(a){a||(a={});var b=a.hash;if("string"===typeof b){var b="#"==b.charAt(0)?b:"#"+b,c=a.data,e=(Manager.addLinkid.i||0)+2;"data"in
a&&(Manager._transfer_data={},Manager._transfer_data[e]=c);var f=document.createElement("A");f.href=b+"/LID:"+e;document.body.appendChild(f);setTimeout(function(){setTimeout(function(){var a=$(f);a.click();setTimeout(function(){a.remove()},1E4)},0)},0)}}function Mb(a){var b=a.match(/\#newPay\b/)?"newPay":"cashier";I?(a="#"+b+"/token:"+encodeURIComponent(mb("payToken",a))+"/appFrom:"+encodeURIComponent(mb("from",a)||"")+"/source:"+encodeURIComponent(mb("paySource",a)||""),x({hash:a})):(a=a.replace("#"+
b,"&h5hash="+b+"#"+b),w(a))}function W(a){if("string"!==typeof a)return null;try{return JSON.parse(a)}catch(b){return null}}function Nb(a){if(""===Ob)return a;a=a.charAt(0).toUpperCase()+a.substr(1);return Ob+a}function Pb(){return/page\=((orderlist))/i.test(window.location.href.toString().trim())}function A(a,b){var c=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"),c=(b||window.location.search).substr(1).match(c);return null!=c?unescape(c[2]):null}function mb(a,b){b=b||window.location.href;if("string"!==
typeof b)return"";var c=b.indexOf("?");if(-1===c)return"";for(var e=b.indexOf("#"),c=(-1===e?b.substring(c+1):b.substring(c+1,e)).split("&"),e=0;e<c.length;e++){var f=c[e],g,l=f.indexOf("=");-1===l?(g=f,f=""):(g=f.substring(0,l),f=f.substring(l+1));if(g==a)return decodeURIComponent(f)}return""}function Lb(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function Rc(a){nb();try{lg("order_id","1.0",{click_id:"order_succ_20160714_1",order_id:(a||"0").toString(),user_pin:z("PDJ_H5_PIN")})}catch(b){}}
function Da(a,b){nb();try{lg("order_id","1.0",{click_id:a,order_id:(b||"0").toString(),user_pin:z("PDJ_H5_PIN")})}catch(c){}}function Ra(a,b,c,e){window.jap||(window.jap={});window.jap.extParams||(window.jap.extParams={});window.jap.extParams.long=a;window.jap.extParams.Lati=b;window.jap.extParams.city=c;window.jap.extParams.poi=e}function nb(){(window.jap||{}).account=z("PDJ_H5_PIN")}function Sc(){window.addEventListener("hashchange",function(a){nb()},!0);var a=z("PDJ_H5_PIN");t.getLocalCurrent();
window.jap||(window.jap={});_.extend(window.jap,{anchorpvflag:1,siteId:"UA-J2011-19",topic:"traffic-oom",account:a,adsCookieName:"",jumpAppEnable:1,__cookie_jda:"__tra",__cookie_jdb:"__trb",__cookie_jdc:"__trc",__cookie_jdu:"__tru",__cookie_jdv:"__trv",logType:"h5",extParams:window.jap.extParams||{}});try{window.h5abtest=JSON.parse(z("h5abtest"))}catch(b){}return Z("//static-o2o.360buyimg.com/daojia/js/logbi.m.js")}function Tc(a,b){var c=a=parseInt(a),e=(new Date).getTime()/1E3,f=b.$el;b.countTimeInterval=setInterval(function(){var g,
l,q;0==$("body").has(f).length?clearInterval(b.countTimeInterval):0!=f.height()&&(q=(new Date).getTime()/1E3,0==a?(clearTimeout(b.countTimeInterval),window.location.reload()):(q=parseInt(q-e),a=c-q,0>a&&(clearTimeout(b.countTimeInterval),a=0),l=a,q=parseInt(l%60),g=parseInt(l/3600),l=parseInt((l-3600*g)/60),g=La(g),l=La(l),q=La(q),b.$('[node-type="sy"]').html("<i>"+g+"</i>:<i>"+l+"</i>:<i>"+q+"</i>")))},1E3)}function La(a){a=parseInt(a);10>a&&(a="0"+a);return a}function Ea(){return navigator.userAgent||
""}function Qb(){for(var a=["","-webkit-","-ms-","-moz-","-o-"],b="",c=0;c<a.length;c++)b+="position:"+a[c]+"sticky;";a=document.createElement("div");c=document.body;a.style.cssText="display:none;"+b;c.appendChild(a);b=/sticky/i.test(window.getComputedStyle(a).position);c.removeChild(a);return b}function Uc(a){var b;if(a){var c=a.normal,e=a.fixedNav,f=a.fixedTop||0,g=a.view,l=a.from;a.normal&&a.fixedNav&&0!=c.length&&0!=e.length&&(Qb()?c.addClass("sticky"):(clearInterval(b),b=setInterval(function(){if(g){if(0==
$("body").has(g).length){clearInterval(b);return}if(0==g.height()){"stroeHomeShare"==l&&clearInterval(b);return}}c.get(0).getBoundingClientRect().top<=f?(e.show(),c.css("opacity",0)):(e.hide(),c.css("opacity",1))},10)))}}function Vc(){if(goShopActivity||jShopShare){var a=A("longitude"),b=A("latitude"),c=A("addressId");c?C.switchLocalDefaultAddress(c):Fa({longitude:a,latitude:b,needMatch:1}).done(function(a){a||(a={});ja(a)&&(a=t.formatAddressData(a),t.saveLocalCurrent(a))})}}function ua(a,b){var c=
a.currentTarget,e=$(c).attr("_skuId"),f=$(c).attr("_storeId"),g=$(c).attr("_orgCode"),l=[{id:e,num:1}],q=$(c).parents(".scrolling").find('[_skuid="'+e+'"]'),q=q.map(function(a,b){if(b.className==c.className)return b});if(""==e)return n("请先选择商品规格"),!1;b?b.addgoods(e,c).done(function(a,b){b||(b={});q.each(function(a,b){Ga(b)})}).fail(function(a){a||(a={});$.each((a.result||{}).itemList||[],function(a,b){$.each(b.skuList,function(a,b){if(e==b.skuId){var c=b.cartNum;q.each(function(a,b){$(b).hasClass("storeSearchCart")?
Rb(b,c):$(b).hasClass("AddCartAdd")&&Sb(b,c)})}})});n(a.msg)}):Tb(null,l,f,g).done(function(a,b){b||(b={});0==b.code&&n(b.msg);q.each(function(a,b){Ga(b)})}).fail(function(a){a||(a={});n(a.msg)})}function Ga(a,b,c,e){$(a).hasClass("hideAddCart")&&(b=$(a),b.closest(".ei").addClass("switchHide"),b.siblings(".Box").find(".show").text(1));$(a).hasClass("ge")&&$(a).addClass("addSuccess");$(a).hasClass("storeSearchCart")&&Rb(a);$(a).hasClass("AddCartAdd")&&Sb(a)}function Sb(a,
b){var c=$(a),e=c.siblings("label");c.siblings(".reduce");b?c=1*b:(c=1*e.text(),c++);e.html(c)}function Rb(a,b){var c=$(a),e=c.closest("li"),f=c.siblings("label"),c=c.siblings(".reduce"),g;b?g=1*b:(g=1*f.text(),g++);f.removeClass("hide").addClass("show").html(g);e.attr("_num",g);c.removeClass("hide").addClass("show")}function Sa(a,b){var c=a.currentTarget,e=$(c).attr("_skuId");$(c).attr("_storeId");$(c).attr("_orgCode");var f=K($(c).siblings("label").text())-1,g=$(c).parents(".scrolling").find('[_skuid="'+
e+'"]'),g=g.map(function(a,b){if(b.className==c.className)return b});if(0==f)return b.minusgoods(e).done(function(a){g.each(function(a,b){ya(b)})}).fail(function(a){a||(a={});n(a.msg)}),!1;b.minusgoods(e).done(function(a){g.each(function(a,b){ya(b)})}).fail(function(a){a||(a={});$.each((a.result||{}).itemList||[],function(a,b){$.each(b.skuList,function(a,b){if(e==b.skuId){var c=b.cartNum;g.each(function(a,b){$(b).siblings("label").html(c);ya(b,c)})}})});n(a.msg)})}function ya(a,b){var c=$(a),e=c.siblings("label");
c.siblings(".add");var f,g=function(){f=0;c.hasClass("AddCartReduce")?(e.html(f),c.closest(".ei").removeClass("switchHide"),c.closest(".Box").siblings(".ek").removeClass("hideAddCart")):(e.html(f).removeClass("show").addClass("hide"),c.removeClass("show").addClass("hide"))};b?(f=1*b,e.html(f)):0==b?g():1<1*e.text()?(f=1*e.text(),f--,e.html(f)):g()}function Ub(a){a||(a=[]);var b=!1;$.each(a,function(a,e){if("invalidate"!=e.suitType)return b=!0,!1});return b}function Wc(a){a||
(a=[]);var b=!1,c=!1;$.each(a,function(a,f){"invalidate"==f.suitType?c=!0:b=!0});return!b&&c?!0:!1}function Vb(a){var b=v.width();a=a.length;return 321>b?17>a?!1:!0:26>a?!1:!0}function ob(a,b,c){a||(a={});c=a.discountTips||[];for(var e=[],f=0;f<c.length;f++){var g=c[f];g&&g.desc&&e.push(g.color?'<em style="color:#'+g.color+'">'+g.desc+"</em>":g.desc)}c=e.join("");return(c?"<span TheDiscountTips>"+c+"</span>":"")+(b?"":a.discountPromotionTip||"")}function bb(a,b,c){var e=/iPhone|iPad/gi.test(navigator.appVersion);
c=c||{to:"home"};var f=/(SAMSUNG).*(Chrome)/i.test(navigator.userAgent)||0<navigator.userAgent.indexOf("SAMSUNG-SM-G9"),g=window.getUnionSeries?window.getUnionSeries():"{}";c.__clsparams=g;c=encodeURIComponent(JSON.stringify(c));g="openApp.jddj://communication?body="+c;f?(a.attr("target",""),g="intent://daojia/?body="+c+"#Intent;scheme=opendaojia;package=com.jingdong.pdj;end"):e?a.attr("target",""):(a.attr("target","opentarget"),e=$('iframe[name="opentarget"]'),0==e.length&&(e=$('<iframe name="opentarget" style="display:none;"></iframe>').hide(),
$(document.body).append(e)));a.attr("href",g);a.bind("click",function(){setTimeout(function(){window.location.href=b?b:window.location.protocol+"//"+window.location.host+"/activity/download.html"},1600)})}function Xc(a,b,c){if(-1!==a.toString().indexOf(b))return a;var e=a.indexOf("#"),f=a.indexOf("?"),g="?"+b+"="+c;-1!=f&&(g="&"+b+"="+c);return-1!=e?(b=a.substring(0,e),a=a.substring(e,a.length),b+g+a):a+g}function Yc(){var a=window.navigator.userAgent,b;if(E)try{b=getCommonParams()}catch(c){b=A("commonParams",
a)}else ha&&(b=window.djJava.getCommonParams());return b}function Zc(a,b){if(E)initShareInfo(a,b.title,b.desc,b.imgUrl,!0);else if(ha)try{window.djJava.initShareInfo(a,b.title,b.desc,b.imgUrl,!0)}catch(c){}}function pb(a){var b="",b="daojia.jd.com"==window.location.host?"wxfca9a073810e992d":"wxb70a96a67e7b16fa";return a="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+b+"&redirect_uri="+encodeURIComponent(window.location.protocol+"//"+window.location.host+"/client?functionId=client/h5redirecturl&appName=paidaojia&platCode=H5&h5_redirect_url="+
encodeURIComponent(a))+"&response_type=code&scope=snsapi_base#wechat_redirect"}function pa(){r({functionId:"user/redDot",body:{}},"GET").done(function(a){window.clearTimeout(pa.timeoutId);a=a||{};window.hasWaitPayOrder=a.hasWaitPayOrder;window.showFaxianTabFromApi=!1===(a.welfareTab||{}).hide||!1;!0===window.showFaxianTabFromApi?la.setItem("showFaxianTab","on"):la.removeItem("showFaxianTab");var b=a.welfareTab||{},c=b.unReadFeedNum,e=b.type,f=$("[unReadFeedNum]");_.isNumber(c)&&0!=c&&0<f.length&&
1==e?(f.html(c).show(),$("[FuliMessage]").html(h("dz")(b)).show(),pa.timeoutId=window.setTimeout(function(){$("[FuliMessage]").hide()},1E3*b.times)):$("[unReadFeedNum],[FuliMessage]").html("").hide();_.isNumber(c)?window.unReadFeedNum=c:delete window.unReadFeedNum;b&&!b.hide&&2==e&&$("[CouponsMessage]").html(h("dz")(b)).show();$("[CouponsMessage]").click(function(){$("[CouponsMessage]").html("").hide()});a.hasWaitPayOrder?$(".o .orderList").addClass("news"):$(".o .orderList").removeClass("news");
a.hasPoint?($(".o .mine").addClass("news"),$(".integral").addClass("news")):($(".o .mine").removeClass("news"),$(".integral").removeClass("news"))}).fail(function(a){a=a||{};201==a.code&&(window.hasWaitPayOrder=!1)})}function Wb(a,b,c){Ta[a]&&(window.clearTimeout(Ta[a]),delete Ta[a]);return Ta[a]=window.setTimeout(function(){b();delete Ta[a]},c)}function $c(){var a={},a=_.extend(a,ba.Events);a.listenTo(Manager,"change:to",function(a,c){Xb()})}function Xb(){try{if(E)location.href=
'openapp.jdmobile://communication?params={"action":"sh_showImgTitle","imageUrl":"http://static-o2o.360buyimg.com/daojia/new/images/store/title.png"}';else if(ha){var a={imageUrl:"http://static-o2o.360buyimg.com/daojia/new/images/store/title.png",isShow:"Y"};AndroidNavi&&AndroidNavi.setTitle(JSON.stringify(a))}}catch(b){}}function ad(){var a={type:"clear_js",display:"",position:"",icon:"",title:"",jump:""};Ha?window.webkit.messageHandlers.MobileNavi.postMessage({method:"configBtnSince610",params:JSON.stringify({clear_js:a}),
callBackName:null,callBackId:null}):"6.1.0"<=Ea().split(";")[2]?window.MobileNavi&&MobileNavi.configBtnSince610(JSON.stringify({clear_js:a})):window.MobileNavi&&MobileNavi.configBtn(JSON.stringify(a))}function bd(){try{var a={homepage:{type:"homepage",display:"hide",position:"inside",icon:"",title:"",jump:""},cart:{type:"cart",display:"hide",position:"inside",icon:"",title:"",jump:""},message:{type:"message",display:"hide",position:"inside",icon:"",title:"",jump:""},calendar:{type:"calendar",display:"hide",
position:"inside",icon:"",title:"",jump:""},search:{type:"search",display:"hide",position:"inside",icon:"",title:"",jump:""},custom:[{type:"custom",display:"show",position:"inside",icon:"http://static-o2o.360buyimg.com/daojia/new/images/store/index.png",title:"到家首页",jump:window.location.protocol+"//"+window.location.host+"/html/index.html#index/jdappcustombutton:true"},{type:"custom",display:"show",position:"outside",icon:"http://static-o2o.360buyimg.com/daojia/new/images/store/order.png",title:"我的订单",
jump:window.location.protocol+"//"+window.location.host+"/html/index.html#orderlist"}]};Ha?window.webkit.messageHandlers.MobileNavi.postMessage({method:"configBtnSince610",params:JSON.stringify(a),callBackName:null,callBackId:null}):window.MobileNavi&&MobileNavi.configBtnSince610(JSON.stringify(a))}catch(b){}}function Yb(a,b){N({title:"温馨提示",msg:a||"您还没有登录",button:[{text:"取消"},{text:"去登录",callback:function(){sessionStorage.getItem("isFenxiang")?X():X(b)}}]})}function cd(a,b){var c=Zb.getItem(b),e;
if(c&&(e=W(c)))return $.Deferred(function(a){a.resolve(e.result,e,{isCache:!0})})}function r(a,b,c){r.random||(r.random=1);(a||{}).cid||(b||{}).functionId||(c=b,b=a);var e={};_.isObject(c)&&(e=c,c=e.type);var f;e.cache&&(f=JSON.stringify(b));a&&a.oldHash&&(b.body=_.extend({ref:a.oldHash},b.body));b.body=JSON.stringify(b.body);b.appVersion=appVersion;b.appName=appName;b.platCode=platCode;b.jdDevice=dd;ja(sa.savedCoords_)&&(b.lng_pos=sa.savedCoords_.longitude,b.lat_pos=sa.savedCoords_.latitude);var g=
t.getLocalCurrent();ja(g)&&(b.lng=g.longitude,b.lat=g.latitude,b.city_id=g.cityId||g.cityCode||g.areaCode,b.poi=g.poi||g.title);z("__jda")&&(b.jda=z("__jda"));delete e.type;delete e.cache;return f&&cd(a,f)||$.Deferred(function(a){var g=$.ajax(_.extend({url:"/client?_djrandom="+(new Date).getTime()+r.random++,type:c||"GET",data:b,timeout:9999,dataType:"json",success:function(c,e,g){$("#container .loading").remove();c||(c={});e=c.code;c.abTest&&(Array.isArray(c.abTest)?0<c.abTest.length&&0>=window.h5abtest.filter(function(a){return a.experimentName==
c.abTest[0].experimentName}).length&&(window.h5abtest=window.h5abtest.concat(c.abTest)):0>=window.h5abtest.filter(function(a){return a.experimentName==c.abTest.experimentName}).length&&window.h5abtest.push(c.abTest),Y("h5abtest",JSON.stringify(window.h5abtest),c.abTest.duration/3600/1E3));if(c.success||0==e||9==e)f&&Zb.setItem(f,g.responseText),a.resolve(c.result,c);else{if(403==e)return w("blacklistMsg.html");114==e&&(c.type="unlogin",c.msg="您还没有登录",C.clearLocalAddressList());204==e&&X();-1==b.functionId.indexOf("cashier")&&
"account/applyContract"!=b.functionId||lg("user_action","1.0",{clickid:b.functionId,user_pin:z("PDJ_H5_PIN"),code:e,succ:"no"});-1==b.functionId.indexOf("cashier")&&"account/applyContract"!=b.functionId||lg("user_action","1.0",{clickid:"cashier",function_id:b.functionId,error:JSON.stringify(c)});a.reject(c)}},error:function(c){$("#container .loading").remove();c=c||{};-1==b.functionId.indexOf("cashier")&&"account/applyContract"!=b.functionId||lg("user_action","1.0",{clickid:b.functionId,user_pin:z("PDJ_H5_PIN"),
msg:c&&c.msg,code:c.code,type:c.type});-1==b.functionId.indexOf("cashier")&&"account/applyContract"!=b.functionId||lg("user_action","1.0",{clickid:"cashier",function_id:b.functionId,error:JSON.stringify(c)});a.reject({type:"network",msg:"网络开小差，请稍后再试哦~[0001]"})}},e));a.xhr=g})}function ed(){var a=this,b=arguments;return $.Deferred(function(c){r.apply(a,b).done(function(){c.resolve.apply(this,arguments)}).fail(function(e){e||(e={});"network"===e.type?r.apply(a,b).done(function(){c.resolve.apply(this,
arguments)}).fail(function(){c.reject.apply(this,arguments)}):c.reject.apply(this,arguments)})})}function $b(a,b,c){return r(a,{functionId:"address/search",body:{region:b,key:c}})}function Fa(a){return r({functionId:"local/getAddressN",body:{longitude:a.longitude,latitude:a.latitude,coord_type:a.coord_type||"2",needMatch:a.needMatch||0}},{cache:!0})}function fd(a,b){return r(a,{functionId:"local/getLineDistance",body:{threshold:3E3,coordinateFrom:b.coordinateFrom,coordinateTo:b.coordinateTo}},"GET")}
function gd(a,b){b||(b={});return r(a,{functionId:"cartV3_3_0/queryallcarts",body:{lng:b.longitude,lat:b.latitude,positionType:2}})}function hd(a,b){b||(b={});return r(a,{functionId:"cartV3_3_0/getFixedResource",body:{channelType:7,cityId:b.cityId,platform:3,longtitude:b.longitude,latitude:b.latitude}},"POST")}function Tb(a,b,c,e){return r(a,{functionId:"cartV3_3_0/addItem",body:{skus:b,storeId:c,orgCode:e}})}function id(a,b,c,e){return r(a,{functionId:"cartV3_3_0/removeItem",body:{skus:b,storeId:c,
orgCode:e}})}function cb(a,b,c,e,f){return r(a,{functionId:"cartV3_3_0/changeItemNum",body:{skus:b,storeId:c,orgCode:e,chgNumReturnType:0,isAdd:f}})}function jd(a,b,c,e){return r(a,{functionId:"cartV3_3_0/checkItem",body:{skus:b,storeId:c,orgCode:e}})}function kd(a,b,c,e){return r(a,{functionId:"cartV3_3_0/uncheckItem",body:{skus:b,storeId:c,orgCode:e}})}function ld(a,b,c){return r(a,{functionId:"cartV3_3_0/checkAllItems",body:{storeId:b,orgCode:c}})}function md(a,b,c){return r(a,{functionId:"cartV3_3_0/uncheckAllItems",
body:{storeId:b,orgCode:c}})}function nd(a,b,c,e,f){return r(a,{functionId:"cartV3_3_0/removesinglecart",body:{storeId:b,orgCode:c,lng:e,lat:f,positionType:2,isReturnCart:!1}})}function ac(a,b){return r(a,{functionId:"cartV3_3_0/verifySettle",body:b})}function bc(a,b){return r(a,{functionId:"cartV3_3_0/removeGift",body:b})}function od(a,b){return r(a,{functionId:"cartV3_3_0/mergeOrderGetGoods",body:b},"POST")}function pd(a,b){return r(a,{functionId:"cartV3_3_0/mergeOrderGetBundleDiscountSku",body:b},
"GET")}function cc(a,b){b||(b={});var c={functionId:"indexh5/getIndex",body:{address:b.title||b.poi||b.address,city:b.city||b.cityName,longitude:b.longitude,latitude:b.latitude,coordType:"2",h5From:I?"jdapp":"",isglb:b.isglb||"",currentPage:b.currentPage||"",storeId:b.storeId||"",activityId:b.activityId||"",isIndex:b.isIndex},jda:z("__jda"),platCode:"h5"};return r(a,c,{cache:!0})}function qb(a,b,c,e,f,g){c||(c={});var l={functionId:"zone/recommendStoreList",body:{channelId:e||"",city:c.city||c.cityName,
longitude:c.longitude,latitude:c.latitude,currentPage:b,pageSize:10,areaCode:c.cityId||c.areaCode||c.cityCode,coordType:"2",platform:"1",rankType:0===f?0:f},platCode:"h5"};g||setTimeout(function(){qb(a,b+1,c,e,f,!0)},100);return ed(a,l,{cache:!0})}function rb(a,b){return r(a,{functionId:"msgcenter/findRedPointByPin",body:{pin:b.djPin,cityId:b.cityId,platform:3}},"GET")}function qd(a,b){return r(a,{functionId:"address/xrStoreList",body:{areaCode:b.areaCode,longitude:b.longitude,latitude:b.latitude,
coordType:2}},"GET")}function rd(a,b){return r(a,{functionId:"address/newStoreList",body:{areaCode:b.areaCode,longitude:b.longitude,latitude:b.latitude,coordType:2}},"GET")}function sd(a,b){return r(a,{functionId:"promotionGame/redPacket/get",body:{userChannel:b.userChannel}},"GET")}function td(){var a={functionId:"act/getActivityFirst",body:{activityId:-1!=window.location.host.indexOf("daojia")?"34232":"451"}};return r(a,"GET")}function ud(a){a||(a={});return r({functionId:"zone/syncSeckillFloor",
body:{address:a.title||a.poi||a.address,city:a.city||a.cityName,longitude:a.longitude,latitude:a.latitude,coordType:"2",h5From:I?"jdapp":"",isglb:a.isglb||"",currentPage:a.currentPage||"",storeId:a.storeId||"",activityId:a.activityId||"",isIndex:a.isIndex},platCode:"h5"},"GET")}function sb(a,b){return r(a,{functionId:"order/info",body:{orderId:b}},{timeout:6E4})}function vd(a,b){return r(a,{functionId:"order/urge",body:b},"POST")}function wd(a,b){return r(a,{functionId:"order/stateMapNew",body:b},
"GET")}function xd(a,b){return r(a,{functionId:"complain/complainDeliveryMan",body:b},"GET")}function yd(a,b){return r(a,{functionId:"order/checkOrderCommentStatus",body:{orderId:b.orderId,shopId:b.storeId}})}function dc(a,b){return r(a,{functionId:"order/orderDelete",body:{orderId:b}},"POST")}function ec(a,b){return r(a,{functionId:"order/orderCancel",body:{orderId:b.orderId.toString(),cancelReason:b.code}},"POST")}function zd(a,b){return r(a,{functionId:"check/checkBeforeToStoreDetail",body:b},
"POST")}function Ad(a,b){return r(a,{functionId:"check/checkBeforeToProductDetail",body:b},"POST")}function fc(a,b){return r(a,{functionId:"activity/getRedPackActivityInfo",body:{orderNo:b.orderId,reqPage:b.source}},"GET")}function gc(a,b){return r(a,{functionId:"order/productInfo",body:b},"POST")}function Bd(a,b){return r(a,{functionId:"cashier/getProxyPayInfo",body:b},"POST")}function Cd(a,b){return r(a,{functionId:"cashier/wechatProxyPay",body:b},"POST")}function Dd(a){return r({functionId:"other/finish/wxcoupon",
body:{orderId:a.orderId}},"POST")}function hc(a){return r({functionId:"login/returnJDPayPassport",body:{},auth:a},{type:"POST",async:!1})}function Ed(a,b){return r(a,{functionId:"searchHistory/addHistory",body:{key:b.key}})}function Fd(a,b){return r(a,{functionId:"homeSearch/searchByStoreToMorePost",body:{longitude:b.longitude,latitude:b.latitude,type:2,key:b.key,industryTags:b.industryTags||[],catIds:b.catIds||[],sortType:b.sortType,page:b.page,pageSize:10,storeIds:b.storeIds,promotLabels:b.promotLabels,
discountRange:b.discountRange,timeTag:b.timeTag}},{type:"POST",cache:!0})}function Gd(a,b){return r(a,{functionId:"marketsettle/getCurrentAccountNew",body:b})}function Hd(a,b){return r(a,{functionId:"order/backout",body:b},"POST")}function Id(a,b){return r(a,{functionId:"voucher/getVoucherListFive",body:b},{cache:!0})}function Jd(a,b){return r(a,{functionId:"invoiceweb/insertInvoiceInfo",body:b},"POST")}function Kd(a,b){return r(a,{functionId:"invoiceweb/deleteInvoiceInfo",body:b},"GET")}function Ld(a,
b){return r(a,{functionId:"invoiceweb/updateInvoiceInfo",body:b},"POST")}function ic(a,b){return $.Deferred(function(c){ta?r(a,{functionId:"webpay/qqPaySign",body:{tradeName:b.tradeName,merchantOrderNum:b.merchantOrderNum,appId:1,source:2,os:ha&&"OS01"||E&&"OS02"||jc&&"OS03"||kc&&"OS04"||lc&&"OS05",osVersion:"",deviceType:db&&"DT01"||!db&&"DT03",paySource:5}},{type:"POST",timeout:6E4}).done(function(a,b){c.resolve(a,b,!1)}).fail(function(a){c.reject(a)}):(P&&z("openid_pdj_jd")&&_.extend(b,{openId:z("openid_pdj_jd")}),
Md(a,b).done(function(a,b){if(a&&mc){var g=a.split("#");a=g[0]+"&channel=wyqb#"+g[1]}c.resolve(a,b,!0)}).fail(function(a){c.reject(a)}))})}function Md(a,b){var c=ha&&"OS01"||E&&"OS02"||jc&&"OS03"||kc&&"OS04"||lc&&"OS05",e=db&&"DT01"||!db&&"DT03",f=b.merchantOrderNum,f=b.paySuccessUrl?b.paySuccessUrl:location.protocol+"//"+location.host+location.pathname+"#orderopresult/result:success/payType:pay/orderId:"+f+(b.groupPay?"/groupPay:"+b.groupPay:""),g=P?2:O?1:3;za&&(f=f.replace("#","?auth="+za+"#"),
g=7);I&&(g="6.6.4"<nc?63:6);tb&&(g=12);O&&(f="openApp.jddj://communication?body="+encodeURIComponent(JSON.stringify({params:{},to:"orderList"})));return r(a,{functionId:"webpay/sign",body:{tradeName:b.tradeName,merchantOrderNum:b.merchantOrderNum,paySuccessUrl:f,appId:1,source:2,paySource:g,os:c,osVersion:"",deviceType:e,openId:b.openId||""}},{type:"POST",timeout:6E4})}function Nd(a,b){return r(a,{functionId:"webpay/new/pay/finish",body:{token:b.token,tradeNum:b.tradeNum}},"POST")}function oc(a){return r({functionId:"cashier/initCashierPageInfo",
body:{token:a.token}},"POST")}function pc(a){return r({functionId:"cashier/weChatPrePay",body:{token:a.token,openId:a.openid,orderId:a.orderId,freeTag:a.freeTag}},"POST")}function qc(a){return r({functionId:"cashier/jdPay",body:{token:a.token,orderId:a.orderId,version:appVersion||"4.5"}},"POST")}function Od(a){return r({functionId:"cashier/iousPay",body:{token:a.token,orderId:a.orderId}},"POST")}function rc(a){return r({functionId:"cashier/aliPay",body:{token:a.token,orderId:a.orderId}},"POST")}function ma(a){return r({functionId:"cashier/getPayRecordStatus",
body:{token:a.token}},"POST")}function Pd(a,b){mqq.tenpay.pay({tokenId:a,pubAcc:"3255297693",pubAccHint:"京东到家"},function(a){a=a||{};"0"==a.resultCode?x({hash:"#orderopresult/result:success/payType:pay/orderId:"+b}):0!==a.resultCode?x({hash:"#orderdetail/orderId:"+b}):x({hash:"#orderopresult/result:fail/failtype:pay/orderId:"+b})})}function Hb(a){return r(a,{functionId:"other/voicecode/trigger",body:{}},"POST")}function sc(a){return r({functionId:"account/applyContract",body:{paySource:a.paySource,
payWay:a.payWay,platCode:O&&E?"ios":""}},"POST")}function tc(a){return r({functionId:"cashier/getFreePayRecordStatus",body:{token:a.token,orderId:a.orderId,paySource:a.paySource}},"GET")}function uc(a){return r({functionId:"cashier/getPayDescribe",body:{token:a.token,orderId:a.orderId}},"GET")}function Qd(a,b){return r(a,{functionId:"act/getActivityFirst",body:{longitude:b.longitude,latitude:b.latitude,activityId:b.activityId,city:b.city||b.cityName,shareFlag:b.shareFlag,coordType:2,currentPage:b.currentPage}})}
function Rd(a,b){b={functionId:"act/getActivitySecond",body:{longitude:b.longitude,latitude:b.latitude,activityId:b.activityId,city:b.city||b.cityName,coordType:2,stores:b.stores}};return r(a,b,"post")}function Sd(a,b){return r(a,{functionId:"product/detailV2_2",body:{skuId:b.skuId,storeId:b.storeId,orgCode:b.orgCode,buyNum:1}})}function Td(a,b){return r(a,{functionId:"productsearch/getTwoDimensionsRecommendSkusNew",body:{storeId:b.storeId,venderId:b.venderId,skuId:b.skuId}})}function Ua(a,b,c){if(window.predata&&
!1!==Ua.usePredata&&c&&da){Ua.usePredata=!1;var e=predata[predata.functionIdHash.storeHome];if(e&&"loading"==e.state)return $.Deferred(function(a){e.callback=function(){"ok"==e.state?a.resolve(e.resp.result,e.resp):a.reject({})}});if(e&&"ok"==e.state)return $.Deferred(function(a){a.resolve(e.resp.result,e.resp)})}return r(a,{functionId:"store/storeDetailV220",body:{storeId:b.storeId,skuId:b.skuId,activityId:b.activityId,promotionType:b.promotionType,longitude:b.longitude,latitude:b.latitude}})}function Ud(a,
b){return r(a,{functionId:"share/getStationCoupon",body:{orgCode:b.orgCode,storeId:b.storeId}})}function vc(a,b){return r(a,{functionId:"productsearch/search",body:{key:b.key||"",catId:b.catId||"",storeId:b.storeId,sortType:b.sortType,page:b.page,pageSize:b.pageSize||10,cartUuid:b.cartUuid||"",promotLable:b.promotLable||"",skuId:b.skuId,timeTag:b.timeTag}},{cache:!0})}function ub(a,b){return r(a,{functionId:"get/getCounpon",body:{code:b.code,fromSource:b.fromSource,storeNo:b.storeNo,operType:b.operType,
isFans:b.isFans,isFloor:b.isFloor,needCouponGo:b.needCouponGo}})}function wc(a,b){return r(a,{functionId:"comment/queryDetail",body:{storeId:b.storeId,type:b.type||"",qual:b.qual,page:b.page,pageSize:10}})}function xc(a,b){return r(a,{functionId:"comment/queryDetail",body:{storeId:b.storeId,tagKey:b.tagKey||"",qual:b.qual,page:b.page,pageSize:10}})}function Vd(a,b){return r(a,{functionId:"comment/myComment",body:{page:b.page,pageSize:10}})}function Ia(a,b){return r(a,{functionId:"store/doFollow",
body:b})}function Wd(a,b){return r(a,{functionId:"store/getFollowStoreList",body:b})}function Xd(a,b){return r(a,{functionId:"coupon/applyGoods",body:{couponId:b.couponId,stationNo:b.stationNo}},"POST")}function vb(a){return r({functionId:"addresspdj/getAddressList",body:a||{}})}function yc(a){return r({functionId:"addresspdj/addAddress",body:a},"POST")}function zc(a){return r({functionId:"addresspdj/updateAddress",body:a},"POST")}function Va(a,b,c,e){return r(a,{functionId:"user/newCouponList",body:{startIndex:b,
dataSize:c,state:e}})}function Ac(a){return r(a,{functionId:"user/updatecouponread",body:{}})}function Yd(a,b){var c={functionId:"share/exchangeCouponByCode",body:{exchangeCode:b,channel:A("channel")||""}};return r(a,c)}function wb(a,b){return r(a,{functionId:"mine/getUserAccountInfo",body:{fromSource:2}})}function Zd(a,b){b||(b={});return r(a,{functionId:"mine/getModuleInfo",body:{fromSource:2,channelType:8,cityId:b.cityId?b.cityId:-1,platform:3,longtitude:b.longitude,latitude:b.latitude}})}function $d(a,
b){return r(a,{functionId:"user/showfeedbackbanner",body:{bannerType:b.bannerType}},{type:"POST",cache:!0})}function Bc(a,b){return r(a,{functionId:"user/addfeedback",body:b},"POST")}function eb(a){var b={functionId:"lauch/getdongdongswitch",body:{}},c=Ea();return-1!=c.indexOf("jdapp")&&"4.4.0"<=c.split(";")[2]?r(a,b,{cache:!0}):$.Deferred(function(a){$("#container .loading").remove();a.resolve(!1)})}function ae(a,b){return r(a,{functionId:"msgcenter/msgList",body:{cityId:b.cityId,platform:3}})}function be(a,
b){return r(a,{functionId:"msgcenter/notifyTypeList",body:{cityId:b.cityId||-1,platform:3,pageIndex:b.pageIndex,pageSize:10,msgType:b.msgType}})}function ce(a,b){return r(a,{functionId:"msgcenter/updateReadPointStatus",body:{cityId:b.cityId||-1,platform:3,msgType:b.msgType}})}function de(a,b,c,e){return r(a,{functionId:"feed/pagelist",body:{pageSize:10,currentPage:b||0,careType:c,cityId:e.cityId,longitude:e.longitude,latitude:e.latitude}})}function Cc(a,b){return r(a,{functionId:"memberPoints/userPointsDetail",
body:{pageSize:30,pageNo:b}},"GET")}function ee(a){a={functionId:"vip/pay",body:{cardType:10,paySource:a.paySource,url:a.url,vpId:a.vpId}};return r(a,"POST")}function fe(a){a={functionId:"vip/qryReduceItem",body:{}};return r(a,"POST")}function ge(a){a={functionId:"vip/qryReduceItemByCardNo",body:{cardNo:a.cardNo}};return r(a,"POST")}function he(a){a={functionId:"vip/getUserVipPurchaseRecord",body:{}};return r(a,"POST")}function ie(a){a={functionId:"vip/getAutoRenewDesc",body:{}};return r(a,"POST")}
function Dc(a){a={functionId:"vip/openAutoRenew",body:{paySource:a.paySource,url:a.url,platform:a.platform,vpId:a.vpId}};return r(a,"POST")}function je(a){a={functionId:"vip/managerAutoRenew",body:{}};return r(a,"POST")}function ke(a){a={functionId:"vip/cancelAutoRenew",body:{}};return r(a,"POST")}function Ec(a){return r({functionId:"complain/uploadImg",body:{mediaId:a}})}function ca(){if(ca.done)return $.Deferred(function(a){a.resolve()});if(ca.loading)return ca.Deferred;ca.loading=!0;ca.Deferred=
$.Deferred(function(a){Z(window.location.protocol+"//res.wx.qq.com/open/js/jweixin-1.2.0.js").done(function(){var b=window.location.href.split("#")[0];url=pb(b);r({functionId:"js/sdk",body:{url:b}},"GET").done(function(b){b||(b={});Wa=b.appId;wx.config({debug:!1,appId:Wa,timestamp:b.timestamp,nonceStr:b.noncestr,signature:b.signature,jsApiList:"onMenuShareTimeline onMenuShareAppMessage onMenuShareQQ onMenuShareWeibo getLocation showOptionMenu chooseImage uploadImage getLocalImgData".split(" ")});
delete ca.loading;delete ca.Deferred;ca.done=!0;a.resolve()}).fail(function(b){delete ca.loading;delete ca.Deferred;a.reject()})}).fail(function(){delete ca.loading;delete ca.Deferred;a.reject()})});return ca.Deferred}function le(a){a=encodeURIComponent(xb(a));if(!Wa)return a;-1==a.indexOf("storeHome")&&-1==a.indexOf("storeLocate")||a.replace("channel=weixin_gzh","channel=orgShare");return"https://open.weixin.qq.com/connect/oauth2/authorize?appid="+Wa+"&redirect_uri="+encodeURIComponent(window.location.protocol+
"//"+window.location.host+"/client?functionId=client/h5redirecturl&appName=paidaojia&platCode=H5&h5_redirect_url="+encodeURIComponent(a))+"&response_type=code&scope=snsapi_base#wechat_redirect"}function fa(a){P&&ca().done(function(){a.link=a.isPacket?xb(a.link):le(a.link||window.location.href);-1!=a.link.indexOf("storeHome")?(a.title||(a.title="好友为你分享一个好店"),a.desc||(a.desc="京东到家，为你而来，足不出户，即刻到家！")):-1!=a.link.indexOf("goodsDetails")?(a.title||(a.title="好友为你分享一个商品"),a.desc||(a.desc="京东到家，为你而来，足不出户，即刻到家！")):
-1!=a.link.indexOf("activityPage")?(a.title||(a.title="促销活动"),a.desc||(a.desc="京东到家，超值促销活动，优惠多多，抢购了！")):(a.title||(a.title="京东到家-1小时送达"),a.desc||(a.desc="超市、生鲜、外卖、医药，数万款附近商品，足不出户，1小时送上门！"));a.imgUrl||(a.imgUrl="http://static-o2o.360buyimg.com/daojia/new/images/icon/pdj.png");a.img_url=a.imgUrl;a.appid=Wa;a.success=function(){-1!=window.location.href.indexOf("storeHome")?lg("user_action","1.0",{Is_success:"true",pagename:"storeHome"}):-1!=window.location.href.indexOf("goodsDetails")?lg("user_action",
"1.0",{Is_success:"true",pagename:"goodsDetails"}):-1!=window.location.href.indexOf("activityPage")?lg("user_action","1.0",{Is_success:"true",pagename:"cmsActivity"}):-1!=window.location.href.indexOf("reportActivity")?lg("user_action","1.0",{Is_success:"true",pagename:"reportActivity"}):-1==window.location.href.indexOf("newPay")&&-1==window.location.href.indexOf("cashier")||w("#orderlist")};wx.ready(function(){wx.showOptionMenu();var b=-1!=a.link.indexOf("storeShare")||-1!=a.link.indexOf("goodsShare")?
{title:a.title+","+a.desc,imgUrl:a.imgUrl,link:a.link,success:a.success,img_url:a.imgUrl}:-1!=a.link.indexOf("activityPage")?{title:a.desc,imgUrl:a.imgUrl,link:a.link,success:a.success,img_url:a.imgUrl}:a;WeixinJSBridge&&WeixinJSBridge.on("menu:share:timeline",function(a){me(b)});wx.onMenuShareQQ(a);wx.onMenuShareWeibo(a);WeixinJSBridge&&WeixinJSBridge.on("menu:share:appmessage",function(b){ne(a)})})})}function Ma(){var a=window.location.href;if(-1!=a.indexOf("shopCartList")||-1!=a.indexOf("shopSettlement")||
-1!=a.indexOf("orderdetail")||-1!=a.indexOf("newPay"))a=oe;var b={title:"京东到家-1小时送达",desc:"超市、生鲜、外卖、医药，数万款附近商品，足不出户，1小时送上门！",link:a,imgUrl:"http://static-o2o.360buyimg.com/daojia/new/images/icon/pdj.png"};-1!=a.indexOf("activityPage")&&(b.title="促销活动",b.desc="京东到家，超值促销活动，优惠多多，抢购了！");fa(b)}function xb(a){if(-1!==a.toString().indexOf("fenxiang"))return a;var b=a.indexOf("#"),c=a.indexOf("?"),e="?fenxiang=true";-1!=a.indexOf("activityPage")&&(e="?fenxiang=true&channel=H5");-1!=c&&(e="&fenxiang=true",
-1!=a.indexOf("activityPage")&&(e="&fenxiang=true&channel=H5"));return-1!=b?(c=a.substring(0,b),a=a.substring(b,a.length),c+e+a):a+e}function ne(a){WeixinJSBridge&&WeixinJSBridge.invoke("sendAppMessage",a,function(b){Fc(b,a);_report("send_msg",b.err_msg)})}function me(a){WeixinJSBridge&&WeixinJSBridge.invoke("shareTimeline",a,function(b){Fc(b,a);_report("timeline",b.err_msg)})}function Fc(a,b){"send_app_msg:cancel"!=a.err_msg&&"share_timeline:cancel"!=a.err_msg&&b.success&&b.success()}function pe(a){var b=
0,c=60,e=$(".a02");a.addEventListener("touchstart",function(e){c=K($(a).css("bottom").replace("px",""));b=e.changedTouches[0].clientY});a.addEventListener("touchmove",function(f){f.preventDefault();if("block"==e.css("display"))return!1;f=f.changedTouches[0].clientY;var g=b-f+c;60>g&&0<f-b&&(g=60);250>=a.offsetTop&&0>f-b?$(a).css("top","250px"):($(a).css("top","auto"),$(a).css("bottom",g+"px"))});a.addEventListener("touchend",function(f){if("block"==e.css("display"))return!1;f=f.changedTouches[0].clientY;
var g=b-f+c;60>g&&0<f-b&&(g=60);250>=a.offsetTop&&0>f-b?($(a).css("top","250px"),c=window.screen.height-340):($(a).css("bottom",g+"px"),c=g)})}function h(a){return s.compile(a,h.s[a])}var na=function(){function a(a){return null==a?String(a):yb[E.call(a)]||"object"}function b(b){return"function"==a(b)}function c(a){return null!=a&&a==a.window}function e(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function f(b){return"object"==a(b)}function g(a){return f(a)&&!c(a)&&Object.getPrototypeOf(a)==Object.prototype}
function l(a){return"number"==typeof a.length}function q(a){return Xa.call(a,function(a){return null!=a})}function h(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function H(a){return a in zb?zb[a]:zb[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function F(a,b){return"number"!=typeof b||qe[h(a)]?b:b+"px"}function G(a){return"children"in a?Aa.call(a.children):y.map(a.childNodes,function(a){if(1==a.nodeType)return a})}
function V(a,b,c){for(D in b)c&&(g(b[D])||L(b[D]))?(g(b[D])&&!g(a[D])&&(a[D]={}),L(b[D])&&!L(a[D])&&(a[D]=[]),V(a[D],b[D],c)):b[D]!==S&&(a[D]=b[D])}function n(a,b){return null==b?y(a):y(a).filter(b)}function U(a,c,e,f){return b(c)?c.call(a,e,f):c}function r(a,b){var c=a.className||"",e=c&&c.baseVal!==S;if(b===S)return e?c.baseVal:c;e?c.baseVal=b:a.className=b}function s(a){try{return a?"true"==a||("false"==a?!1:"null"==a?null:+a+""==a?+a:/^[\[\{]/.test(a)?y.parseJSON(a):a):a}catch(b){return a}}function p(a,
b){b(a);for(var c=0,e=a.childNodes.length;c<e;c++)p(a.childNodes[c],b)}var S,D,y,t,v=[],Aa=v.slice,Xa=v.filter,aa=window.document,Ab={},zb={},qe={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},w=/^\s*<(\w+|!)[^>]*>/,x=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,C=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,z=/^(?:body|html)$/i,A=/([A-Z])/g,Bb="val css html text data width height offset".split(" "),Cb=aa.createElement("table"),Gc=aa.createElement("tr"),
Hc={tr:aa.createElement("tbody"),tbody:Cb,thead:Cb,tfoot:Cb,td:Gc,th:Gc,"*":aa.createElement("div")},re=/complete|loaded|interactive/,se=/^[\w-]*$/,yb={},E=yb.toString,u={},I,J,K=aa.createElement("div"),N={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},L=Array.isArray||function(a){return a instanceof
Array};u.matches=function(a,b){if(!b||!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var e;e=a.parentNode;(c=!e)&&(e=K).appendChild(a);e=~u.qsa(e,b).indexOf(a);c&&K.removeChild(a);return e};I=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})};J=function(a){return Xa.call(a,function(b,c){return a.indexOf(b)==c})};u.fragment=function(a,b,c){var e,f,l;x.test(a)&&(e=y(aa.createElement(RegExp.$1)));
e||(a.replace&&(a=a.replace(C,"<$1></$2>")),b===S&&(b=w.test(a)&&RegExp.$1),b in Hc||(b="*"),l=Hc[b],l.innerHTML=""+a,e=y.each(Aa.call(l.childNodes),function(){l.removeChild(this)}));g(c)&&(f=y(e),y.each(c,function(a,b){if(-1<Bb.indexOf(a))f[a](b);else f.attr(a,b)}));return e};u.Z=function(a,b){a=a||[];a.__proto__=y.fn;a.selector=b||"";return a};u.isZ=function(a){return a instanceof u.Z};u.init=function(a,c){var e;if(a)if("string"==typeof a)if(a=a.trim(),"<"==a[0]&&w.test(a))e=u.fragment(a,RegExp.$1,
c),a=null;else{if(c!==S)return y(c).find(a);e=u.qsa(aa,a)}else{if(b(a))return y(aa).ready(a);if(u.isZ(a))return a;if(L(a))e=q(a);else if(f(a))e=[a],a=null;else if(w.test(a))e=u.fragment(a.trim(),RegExp.$1,c),a=null;else{if(c!==S)return y(c).find(a);e=u.qsa(aa,a)}}else return u.Z();return u.Z(e,a)};y=function(a,b){return u.init(a,b)};y.extend=function(a){var b,c=Aa.call(arguments,1);"boolean"==typeof a&&(b=a,a=c.shift());c.forEach(function(c){V(a,c,b)});return a};u.qsa=function(a,b){var c,f="#"==b[0],
g=!f&&"."==b[0],l=f||g?b.slice(1):b,q=se.test(l);return e(a)&&q&&f?(c=a.getElementById(l))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:Aa.call(q&&!f?g?a.getElementsByClassName(l):a.getElementsByTagName(b):a.querySelectorAll(b))};y.contains=aa.documentElement.contains?function(a,b){return a!==b&&a.contains(b)}:function(a,b){for(;b&&(b=b.parentNode);)if(b===a)return!0;return!1};y.type=a;y.isFunction=b;y.isWindow=c;y.isArray=L;y.isPlainObject=g;y.isEmptyObject=function(a){for(var b in a)return!1;return!0};
y.inArray=function(a,b,c){return v.indexOf.call(b,a,c)};y.camelCase=I;y.trim=function(a){return null==a?"":String.prototype.trim.call(a)};y.uuid=0;y.support={};y.expr={};y.map=function(a,b){var c,e=[],f;if(l(a))for(f=0;f<a.length;f++)c=b(a[f],f),null!=c&&e.push(c);else for(f in a)c=b(a[f],f),null!=c&&e.push(c);return 0<e.length?y.fn.concat.apply([],e):e};y.each=function(a,b){var c;if(l(a))for(c=0;c<a.length&&!1!==b.call(a[c],c,a[c]);c++);else for(c in a)if(!1===b.call(a[c],c,a[c]))break;return a};
y.grep=function(a,b){return Xa.call(a,b)};window.JSON&&(y.parseJSON=JSON.parse);y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){yb["[object "+b+"]"]=b.toLowerCase()});y.fn={forEach:v.forEach,reduce:v.reduce,push:v.push,sort:v.sort,indexOf:v.indexOf,concat:v.concat,map:function(a){return y(y.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return y(Aa.apply(this,arguments))},ready:function(a){re.test(aa.readyState)&&aa.body?a(y):aa.addEventListener("DOMContentLoaded",
function(){a(y)},!1);return this},get:function(a){return a===S?Aa.call(this):this[0<=a?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){v.every.call(this,function(b,c){return!1!==a.call(b,c,b)});return this},filter:function(a){return b(a)?this.not(this.not(a)):y(Xa.call(this,function(b){return u.matches(b,a)}))},add:function(a,b){return y(J(this.concat(y(a,
b))))},is:function(a){return 0<this.length&&u.matches(this[0],a)},not:function(a){var c=[];if(b(a)&&a.call!==S)this.each(function(b){a.call(this,b)||c.push(this)});else{var e="string"==typeof a?this.filter(a):l(a)&&b(a.item)?Aa.call(a):y(a);this.forEach(function(a){0>e.indexOf(a)&&c.push(a)})}return y(c)},has:function(a){return this.filter(function(){return f(a)?y.contains(this,a):y(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];
return a&&!f(a)?a:y(a)},last:function(){var a=this[this.length-1];return a&&!f(a)?a:y(a)},find:function(a){var b=this;return a?"object"==typeof a?y(a).filter(function(){var a=this;return v.some.call(b,function(b){return y.contains(b,a)})}):1==this.length?y(u.qsa(this[0],a)):this.map(function(){return u.qsa(this,a)}):y()},closest:function(a,b){var c=this[0],f=!1;for("object"==typeof a&&(f=y(a));c&&!(f?0<=f.indexOf(c):u.matches(c,a));)c=c!==b&&!e(c)&&c.parentNode;return y(c)},parents:function(a){for(var b=
[],c=this;0<c.length;)c=y.map(c,function(a){if((a=a.parentNode)&&!e(a)&&0>b.indexOf(a))return b.push(a),a});return n(b,a)},parent:function(a){return n(J(this.pluck("parentNode")),a)},children:function(a){return n(this.map(function(){return G(this)}),a)},contents:function(){return this.map(function(){return Aa.call(this.childNodes)})},siblings:function(a){return n(this.map(function(a,b){return Xa.call(G(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=
""})},pluck:function(a){return y.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display="");if("none"==getComputedStyle(this,"").getPropertyValue("display")){var a=this.style,b=this.nodeName,c,e;Ab[b]||(c=aa.createElement(b),aa.body.appendChild(c),e=getComputedStyle(c,"").getPropertyValue("display"),c.parentNode.removeChild(c),"none"==e&&(e="block"),Ab[b]=e);a.display=Ab[b]}})},replaceWith:function(a){return this.before(a).remove()},
clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=y(this);(a===S?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return y(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return y(this.pluck("nextElementSibling")).filter(a||"*")},nextAll:function(a){for(var b=y(),c=this.next();c.length;){if("undefined"===typeof a||c.is(a))b=b.add(c);
c=c.next()}return b},prevAll:function(a){for(var b=y(),c=this.prev();c.length;){if("undefined"===typeof a||c.is(a))b=b.add(c);c=c.prev()}return b},html:function(a){return 0 in arguments?this.each(function(b){var c=this.innerHTML;y(this).empty().append(U(this,a,b,c))}):0 in this?this[0].innerHTML:null},text:function(a){return 0 in arguments?this.each(function(b){b=U(this,a,b,this.textContent);this.textContent=null==b?"":""+b}):0 in this?this[0].textContent:null},attr:function(a,b){var c;return"string"!=
typeof a||1 in arguments?this.each(function(c){if(1===this.nodeType)if(f(a))for(D in a){var e=D;c=a[D];null==c?this.removeAttribute(e):this.setAttribute(e,c)}else e=a,c=U(this,b,c,this.getAttribute(a)),null==c?this.removeAttribute(e):this.setAttribute(e,c)}):this.length&&1===this[0].nodeType?!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:S},removeAttr:function(a){return this.each(function(){1===this.nodeType&&a.split(" ").forEach(function(a){this.removeAttribute(a)},this)})},prop:function(a,
b){a=N[a]||a;return 1 in arguments?this.each(function(c){this[a]=U(this,b,c,this[a])}):this[0]&&this[0][a]},data:function(a,b){var c="data-"+a.replace(A,"-$1").toLowerCase(),c=1 in arguments?this.attr(c,b):this.attr(c);return null!==c?s(c):S},val:function(a){return 0 in arguments?this.each(function(b){this.value=U(this,a,b,this.value)}):this[0]&&(this[0].multiple?y(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(a){if(a)return this.each(function(b){var c=
y(this);b=U(this,a,b,c.offset());var e=c.offsetParent().offset();b={top:b.top-e.top,left:b.left-e.left};"static"==c.css("position")&&(b.position="relative");c.css(b)});if(!this.length)return null;var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(b,c){if(2>arguments.length){var e=this[0];if("string"==typeof b)return e?e.style[I(b)]||getComputedStyle(e,"").getPropertyValue(b):
void 0;if(L(b)){if(!e)return;var f={},g=getComputedStyle(e,"");y.each(b,function(a,b){f[b]=e.style[I(b)]||g.getPropertyValue(b)});return f}}var l="";if("string"==a(b))c||0===c?l=h(b)+":"+F(b,c):this.each(function(){this.style.removeProperty(h(b))});else for(D in b)b[D]||0===b[D]?l+=h(D)+":"+F(D,b[D])+";":this.each(function(){this.style.removeProperty(h(D))});return this.each(function(){this.style.cssText+=";"+l})},index:function(a){return a?this.indexOf(y(a)[0]):this.parent().children().indexOf(this[0])},
hasClass:function(a){return a?v.some.call(this,function(a){return this.test(r(a))},H(a)):!1},addClass:function(a){return a?this.each(function(b){if("className"in this){t=[];var c=r(this);U(this,a,b,c).split(/\s+/g).forEach(function(a){y(this).hasClass(a)||t.push(a)},this);t.length&&r(this,c+(c?" ":"")+t.join(" "))}}):this},removeClass:function(a){return this.each(function(b){if("className"in this){if(a===S)return r(this,"");t=r(this);U(this,a,b,t).split(/\s+/g).forEach(function(a){t=t.replace(H(a),
" ")});r(this,t.trim())}})},toggleClass:function(a,b){return a?this.each(function(c){var e=y(this);U(this,a,c,r(this)).split(/\s+/g).forEach(function(a){(b===S?!e.hasClass(a):b)?e.addClass(a):e.removeClass(a)})}):this},scrollTop:function(a){if(this.length){var b="scrollTop"in this[0];return a===S?b?this[0].scrollTop:this[0].pageYOffset:this.each(b?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})}},scrollLeft:function(a){if(this.length){var b="scrollLeft"in this[0];return a===
S?b?this[0].scrollLeft:this[0].pageXOffset:this.each(b?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})}},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),e=z.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(y(a).css("margin-top"))||0;c.left-=parseFloat(y(a).css("margin-left"))||0;e.top+=parseFloat(y(b[0]).css("border-top-width"))||0;e.left+=parseFloat(y(b[0]).css("border-left-width"))||0;return{top:c.top-e.top,left:c.left-
e.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||aa.body;a&&!z.test(a.nodeName)&&"static"==y(a).css("position");)a=a.offsetParent;return a})}};y.fn.detach=y.fn.remove;["width","height"].forEach(function(a){var b=a.replace(/./,function(a){return a[0].toUpperCase()});y.fn[a]=function(f){var g,l=this[0];return f===S?c(l)?l["inner"+b]:e(l)?l.documentElement["scroll"+b]:(g=this.offset())&&g[a]:this.each(function(b){l=y(this);l.css(a,U(this,f,b,l[a]()))})}});["after",
"prepend","before","append"].forEach(function(b,c){var e=c%2;y.fn[b]=function(){var b,f=y.map(arguments,function(c){b=a(c);return"object"==b||"array"==b||null==c?c:u.fragment(c)}),g,l=1<this.length;return 1>f.length?this:this.each(function(a,b){g=e?b:b.parentNode;b=0==c?b.nextSibling:1==c?b.firstChild:2==c?b:null;var q=y.contains(aa.documentElement,g);f.forEach(function(a){if(l)a=a.cloneNode(!0);else if(!g)return y(a).remove();g.insertBefore(a,b);q&&p(a,function(a){null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||
a.type&&"text/javascript"!==a.type||a.src||window.eval.call(window,a.innerHTML)})})})};y.fn[e?b+"To":"insert"+(c?"Before":"After")]=function(a){y(a)[b](this);return this}});u.Z.prototype=y.fn;u.uniq=J;u.deserializeValue=s;y.zepto=u;return y}();window.Zepto=window.jQuery=na;void 0===window.$&&(window.$=na);(function(a){function b(a){return a._zid||(a._zid=H++)}function c(a,c,f,g){c=e(c);if(c.ns)var l=new RegExp("(?:^| )"+c.ns.replace(" "," .* ?")+"(?: |$)");return(r[b(a)]||[]).filter(function(a){return a&&
(!c.e||a.e==c.e)&&(!c.ns||l.test(a.ns))&&(!f||b(a.fn)===b(f))&&(!g||a.sel==g)})}function e(a){a=(""+a).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}function f(a){return S[a]||t&&p[a]||a}function g(c,g,l,h,B,H,G){var n=b(c),V=r[n]||(r[n]=[]);g.split(/\s/).forEach(function(b){if("ready"==b)return a(document).ready(l);var g=e(b);g.fn=l;g.sel=B;g.e in S&&(l=function(b){var c=b.relatedTarget;if(!c||c!==this&&!a.contains(this,c))return g.fn.apply(this,arguments)});var Bb=(g.del=H)||l;g.proxy=
function(a){a=q(a);if(!a.isImmediatePropagationStopped()){a.data=h;var b=Bb.apply(c,a._args==F?[a]:[a].concat(a._args));!1===b&&(a.preventDefault(),a.stopPropagation());return b}};g.i=V.length;V.push(g);"addEventListener"in c&&c.addEventListener(f(g.e),g.proxy,g.del&&!t&&g.e in p||!!G)})}function l(a,e,g,l,q){var h=b(a);(e||"").split(/\s/).forEach(function(b){c(a,b,g,l).forEach(function(b){delete r[h][b.i];"removeEventListener"in a&&a.removeEventListener(f(b.e),b.proxy,b.del&&!t&&b.e in p||!!q)})})}
function q(b,c){if(c||!b.isDefaultPrevented)if(c||(c=b),a.each(u,function(a,e){var f=c[a];b[a]=function(){this[e]=D;return f&&f.apply(c,arguments)};b[e]=y}),c.defaultPrevented!==F?c.defaultPrevented:"returnValue"in c?!1===c.returnValue:c.getPreventDefault&&c.getPreventDefault())b.isDefaultPrevented=D;return b}function h(a){var b,c={originalEvent:a};for(b in a)v.test(b)||a[b]===F||(c[b]=a[b]);return q(c,a)}var H=1,F,G=Array.prototype.slice,V=a.isFunction,n=function(a){return"string"==typeof a},r={},
s={},t="onfocusin"in window,p={focus:"focusin",blur:"focusout"},S={mouseenter:"mouseover",mouseleave:"mouseout"};s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents";a.event={add:g,remove:l};a.proxy=function(c,e){var f=2 in arguments&&G.call(arguments,2);if(V(c)){var g=function(){return c.apply(e,f?f.concat(G.call(arguments)):arguments)};g._zid=b(c);return g}if(n(e))return f?(f.unshift(c[e],c),a.proxy.apply(null,f)):a.proxy(c[e],c);throw new TypeError("expected function");};a.fn.bind=function(a,
b,c){return this.on(a,b,c)};a.fn.unbind=function(a,b){return this.off(a,b)};a.fn.one=function(a,b,c,e){return this.on(a,b,c,e,1)};var D=function(){return!0},y=function(){return!1},v=/^([A-Z]|returnValue$|layer[XY]$)/,u={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(a,b,c){return this.on(b,a,c)};a.fn.undelegate=function(a,b,c){return this.off(b,a,c)};a.fn.live=function(b,c){a(document.body).delegate(this.selector,
b,c);return this};a.fn.die=function(b,c){a(document.body).undelegate(this.selector,b,c);return this};a.fn.on=function(b,c,e,f,q){var p,H,r=this;if(b&&!n(b))return a.each(b,function(a,b){r.on(a,c,e,b,q)}),r;n(c)||V(f)||!1===f||(f=e,e=c,c=F);if(V(e)||!1===e)f=e,e=F;!1===f&&(f=y);return r.each(function(F,n){q&&(p=function(a){l(n,a.type,f);return f.apply(this,arguments)});c&&(H=function(b){var e,g=a(b.target).closest(c,n).get(0);if(g&&g!==n)return e=a.extend(h(b),{currentTarget:g,liveFired:n}),(p||f).apply(g,
[e].concat(G.call(arguments,1)))});g(n,b,f,e,c,H||p)})};a.fn.off=function(b,c,e){var f=this;if(b&&!n(b))return a.each(b,function(a,b){f.off(a,c,b)}),f;n(c)||V(e)||!1===e||(e=c,c=F);!1===e&&(e=y);return f.each(function(){l(this,b,e,c)})};a.fn.trigger=function(b,c){b=n(b)||a.isPlainObject(b)?a.Event(b):q(b);b._args=c;return this.each(function(){if(b.type in p&&"function"==typeof this[b.type])this[b.type]();else"dispatchEvent"in this?this.dispatchEvent(b):a(this).triggerHandler(b,c)})};a.fn.triggerHandler=
function(b,e){var f,g;this.each(function(l,q){f=h(n(b)?a.Event(b):b);f._args=e;f.target=q;a.each(c(q,b.type||b),function(a,b){g=b.proxy(f);if(f.isImmediatePropagationStopped())return!1})});return g};"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return 0 in arguments?this.bind(b,a):this.trigger(b)}});a.Event=function(a,
b){n(a)||(b=a,a=b.type);var c=document.createEvent(s[a]||"Events"),e=!0;if(b)for(var f in b)"bubbles"==f?e=!!b[f]:c[f]=b[f];c.initEvent(a,e,!0);return q(c)}})(na);(function(a){function b(b,c,e,f){if(b.global)return b=c||U,e=a.Event(e),a(b).trigger(e,f),!e.isDefaultPrevented()}function c(c){c.global&&0===a.active++&&b(c,null,"ajaxStart")}function e(a,c){var e=c.context;if(!1===c.beforeSend.call(e,a,c)||!1===b(c,e,"ajaxBeforeSend",[a,c]))return!1;b(c,e,"ajaxSend",[a,c])}function f(a,c,e,f){var g=e.context;
e.success.call(g,a,"success",c);f&&f.resolveWith(g,[a,"success",c]);b(e,g,"ajaxSuccess",[c,e,a]);l("success",c,e)}function g(a,c,e,f,g){var q=f.context;f.error.call(q,e,c,a);g&&g.rejectWith(q,[e,c,a]);b(f,q,"ajaxError",[e,f,a||c]);l(c,e,f)}function l(c,e,f){var g=f.context;f.complete.call(g,e,c);b(f,g,"ajaxComplete",[e,f]);f.global&&!--a.active&&b(f,null,"ajaxStop")}function q(){}function h(a){a&&(a=a.split(";",2)[0]);return a&&(a==y?"html":a==D?"json":p.test(a)?"script":S.test(a)&&"xml")||"text"}
function H(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function F(b){b.processData&&b.data&&"string"!=a.type(b.data)&&(b.data=a.param(b.data,b.traditional));!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=H(b.url,b.data),b.data=void 0)}function G(b,c,e,f){a.isFunction(c)&&(f=e,e=c,c=void 0);a.isFunction(e)||(f=e,e=void 0);return{url:b,data:c,success:e,dataType:f}}function n(b,c,e,f){var g,l=a.isArray(c),q=a.isPlainObject(c);a.each(c,function(c,h){g=a.type(h);f&&(c=e?f:f+"["+(q||"object"==
g||"array"==g?c:"")+"]");!f&&l?b.add(h.name,h.value):"array"==g||!e&&"object"==g?n(b,h,e,c):b.add(c,h)})}var r=0,U=window.document,s,t,p=/^(?:text|application)\/javascript/i,S=/^(?:text|application)\/xml/i,D="application/json",y="text/html",v=/^\s*$/,u=U.createElement("a");u.href=window.location.href;a.active=0;a.ajaxJSONP=function(b,c){if(!("type"in b))return a.ajax(b);var l=b.jsonpCallback,q=(a.isFunction(l)?l():l)||"jsonp"+ ++r,h=U.createElement("script"),B=window[q],p,F=function(b){a(h).triggerHandler("error",
b||"abort")},H={abort:F},G;c&&c.promise(H);a(h).on("load error",function(e,l){clearTimeout(G);a(h).off().remove();"error"!=e.type&&p?f(p[0],H,b,c):g(null,l||"error",H,b,c);window[q]=B;p&&a.isFunction(B)&&B(p[0]);B=p=void 0});if(!1===e(H,b))return F("abort"),H;window[q]=function(){p=arguments};h.src=b.url.replace(/\?(.+)=\?/,"?$1="+q);U.head.appendChild(h);0<b.timeout&&(G=setTimeout(function(){F("timeout")},b.timeout));return H};a.ajaxSettings={type:"GET",beforeSend:q,success:q,error:q,complete:q,
context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:D,xml:"application/xml, text/xml",html:y,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0};a.ajax=function(b){var l=a.extend({},b||{}),p=a.Deferred&&a.Deferred(),G;for(s in a.ajaxSettings)void 0===l[s]&&(l[s]=a.ajaxSettings[s]);c(l);l.crossDomain||(G=U.createElement("a"),G.href=l.url,G.href=G.href,l.crossDomain=u.protocol+
"//"+u.host!==G.protocol+"//"+G.host);l.url||(l.url=window.location.toString());F(l);var n=l.dataType;(G=/\?.+=\?/.test(l.url))&&(n="jsonp");!1!==l.cache&&(b&&!0===b.cache||"script"!=n&&"jsonp"!=n)||(l.url=H(l.url,"_="+Date.now()));if("jsonp"==n)return G||(l.url=H(l.url,l.jsonp?l.jsonp+"=?":!1===l.jsonp?"":"callback=?")),a.ajaxJSONP(l,p);b=l.accepts[n];var V={};G=function(a,b){V[a.toLowerCase()]=[a,b]};var r=/^([\w-]+:)\/\//.test(l.url)?RegExp.$1:window.location.protocol,M=l.xhr(),y=M.setRequestHeader,
D;p&&p.promise(M);l.crossDomain||G("X-Requested-With","XMLHttpRequest");G("Accept",b||"*/*");if(b=l.mimeType||b)-1<b.indexOf(",")&&(b=b.split(",",2)[0]),M.overrideMimeType&&M.overrideMimeType(b);(l.contentType||!1!==l.contentType&&l.data&&"GET"!=l.type.toUpperCase())&&G("Content-Type",l.contentType||"application/x-www-form-urlencoded");if(l.headers)for(t in l.headers)G(t,l.headers[t]);M.setRequestHeader=G;M.onreadystatechange=function(){if(4==M.readyState){M.onreadystatechange=q;clearTimeout(D);var b,
c=!1;if(200<=M.status&&300>M.status||304==M.status||0==M.status&&"file:"==r){n=n||h(l.mimeType||M.getResponseHeader("content-type"));b=M.responseText;try{"script"==n?(0,eval)(b):"xml"==n?b=M.responseXML:"json"==n&&(b=v.test(b)?null:a.parseJSON(b))}catch(e){c=e}c?g(c,"parsererror",M,l,p):f(b,M,l,p)}else g(M.statusText||null,M.status?"error":"abort",M,l,p)}};if(!1===e(M,l))return M.abort(),g(null,"abort",M,l,p),M;if(l.xhrFields)for(t in l.xhrFields)M[t]=l.xhrFields[t];M.open(l.type,l.url,"async"in l?
l.async:!0,l.username,l.password);for(t in V)y.apply(M,V[t]);0<l.timeout&&(D=setTimeout(function(){M.onreadystatechange=q;M.abort();g(null,"timeout",M,l,p)},l.timeout));M.send(l.data?l.data:null);return M};a.get=function(){return a.ajax(G.apply(null,arguments))};a.post=function(){var b=G.apply(null,arguments);b.type="POST";return a.ajax(b)};a.getJSON=function(){var b=G.apply(null,arguments);b.dataType="json";return a.ajax(b)};var w=encodeURIComponent;a.param=function(b,c){var e=[];e.add=function(b,
c){a.isFunction(c)&&(c=c());null==c&&(c="");this.push(w(b)+"="+w(c))};n(e,b,c);return e.join("&").replace(/%20/g,"+")}})(na);(function(a){a.fn.serializeArray=function(){var b,c,e=[],f=function(a){if(a.forEach)return a.forEach(f);e.push({name:b,value:a})};this[0]&&a.each(this[0].elements,function(e,l){c=l.type;(b=l.name)&&"fieldset"!=l.nodeName.toLowerCase()&&!l.disabled&&"submit"!=c&&"reset"!=c&&"button"!=c&&"file"!=c&&("radio"!=c&&"checkbox"!=c||l.checked)&&f(a(l).val())});return e};a.fn.serialize=
function(){var a=[];this.serializeArray().forEach(function(c){a.push(encodeURIComponent(c.name)+"="+encodeURIComponent(c.value))});return a.join("&")};a.fn.submit=function(b){if(0 in arguments)this.bind("submit",b);else if(this.length){var c=a.Event("submit");this.eq(0).trigger(c);c.isDefaultPrevented()||this.get(0).submit()}return this}})(na);(function(a){"__proto__"in{}||a.extend(a.zepto,{Z:function(b,c){b=b||[];a.extend(b,a.fn);b.selector=c||"";b.__Z=!0;return b},isZ:function(b){return"array"===
a.type(b)&&"__Z"in b}});try{getComputedStyle(void 0)}catch(b){var c=getComputedStyle;window.getComputedStyle=function(a){try{return c(a)}catch(b){return null}}}})(na);(function(a){a.Callbacks=function(b){b=a.extend({},b);var c,e,f,g,l,q,h=[],H=!b.once&&[],F=function(a){c=b.memory&&a;e=!0;q=g||0;g=0;l=h.length;for(f=!0;h&&q<l;++q)if(!1===h[q].apply(a[0],a[1])&&b.stopOnFalse){c=!1;break}f=!1;h&&(H?H.length&&F(H.shift()):c?h.length=0:G.disable())},G={add:function(){if(h){var e=h.length,q=function(c){a.each(c,
function(a,c){"function"===typeof c?b.unique&&G.has(c)||h.push(c):c&&c.length&&"string"!==typeof c&&q(c)})};q(arguments);f?l=h.length:c&&(g=e,F(c))}return this},remove:function(){h&&a.each(arguments,function(b,c){for(var e;-1<(e=a.inArray(c,h,e));)h.splice(e,1),f&&(e<=l&&--l,e<=q&&--q)});return this},has:function(b){return!!(h&&(b?-1<a.inArray(b,h):h.length))},empty:function(){l=h.length=0;return this},disable:function(){h=H=c=void 0;return this},disabled:function(){return!h},lock:function(){H=void 0;
c||G.disable();return this},locked:function(){return!H},fireWith:function(a,b){!h||e&&!H||(b=b||[],b=[a,b.slice?b.slice():b],f?H.push(b):F(b));return this},fire:function(){return G.fireWith(this,arguments)},fired:function(){return!!e}};return G}})(na);(function(a){function b(c){var f=[["resolve","done",a.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",a.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",a.Callbacks({memory:1})]],g="pending",l={state:function(){return g},always:function(){q.done(arguments).fail(arguments);
return this},then:function(){var c=arguments;return b(function(b){a.each(f,function(e,f){var g=a.isFunction(c[e])&&c[e];q[f[1]](function(){var c=g&&g.apply(this,arguments);if(c&&a.isFunction(c.promise))c.promise().done(b.resolve).fail(b.reject).progress(b.notify);else{var e=this===l?b.promise():this;b[f[0]+"With"](e,g?[c]:arguments)}})});c=null}).promise()},promise:function(b){return null!=b?a.extend(b,l):l}},q={};a.each(f,function(a,b){var c=b[2],e=b[3];l[b[1]]=c.add;e&&c.add(function(){g=e},f[a^
1][2].disable,f[2][2].lock);q[b[0]]=function(){q[b[0]+"With"](this===q?l:this,arguments);return this};q[b[0]+"With"]=c.fireWith});l.promise(q);c&&c.call(q,q);return q}var c=Array.prototype.slice;a.when=function(e){var f=c.call(arguments),g=f.length,l=0,q=1!==g||e&&a.isFunction(e.promise)?g:0,h=1===q?e:b(),H,F,G,n=function(a,b,e){return function(f){b[a]=this;e[a]=1<arguments.length?c.call(arguments):f;e===H?h.notifyWith(b,e):--q||h.resolveWith(b,e)}};if(1<g)for(H=Array(g),F=Array(g),G=Array(g);l<g;++l)f[l]&&
a.isFunction(f[l].promise)?f[l].promise().done(n(l,G,f)).fail(h.reject).progress(n(l,F,H)):--q;q||h.resolveWith(G,f);return h.promise()};a.Deferred=b})(na);(function(a,b){function c(a){return f?f+a:a.toLowerCase()}var e="",f,g=window.document.createElement("div"),l=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,q,h,H,F,G,n,M,r,s,t={};a.each({Webkit:"webkit",Moz:"",O:"o"},function(a,c){if(g.style[a+"TransitionProperty"]!==b)return e="-"+a.toLowerCase()+"-",f=c,!1});q=
e+"transform";t[h=e+"transition-property"]=t[H=e+"transition-duration"]=t[G=e+"transition-delay"]=t[F=e+"transition-timing-function"]=t[n=e+"animation-name"]=t[M=e+"animation-duration"]=t[s=e+"animation-delay"]=t[r=e+"animation-timing-function"]="";a.fx={off:f===b&&g.style.transitionProperty===b,speeds:{_default:400,fast:200,slow:600},cssPrefix:e,transitionEnd:c("TransitionEnd"),animationEnd:c("AnimationEnd")};a.fn.animate=function(c,e,f,g,l){a.isFunction(e)&&(g=e,e=f=b);a.isFunction(f)&&(g=f,f=b);
a.isPlainObject(e)&&(f=e.easing,g=e.complete,l=e.delay,e=e.duration);e&&(e=("number"==typeof e?e:a.fx.speeds[e]||a.fx.speeds._default)/1E3);l&&(l=parseFloat(l)/1E3);return this.anim(c,e,f,g,l)};a.fn.anim=function(c,e,f,g,v){var u,w={},x,C="",z=this,A,I=a.fx.transitionEnd,E=!1;e===b&&(e=a.fx.speeds._default/1E3);v===b&&(v=0);a.fx.off&&(e=0);if("string"==typeof c)w[n]=c,w[M]=e+"s",w[s]=v+"s",w[r]=f||"linear",I=a.fx.animationEnd;else{x=[];for(u in c)l.test(u)?C+=u+"("+c[u]+") ":(w[u]=c[u],x.push(u.replace(/([a-z])([A-Z])/,
"$1-$2").toLowerCase()));C&&(w[q]=C,x.push(q));0<e&&"object"===typeof c&&(w[h]=x.join(", "),w[H]=e+"s",w[G]=v+"s",w[F]=f||"linear")}A=function(b){if("undefined"!==typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(I,A)}else a(this).unbind(I,A);E=!0;a(this).css(t);g&&g.call(this)};0<e&&(this.bind(I,A),setTimeout(function(){E||A.call(z)},1E3*e+25));this.size()&&this.get(0).clientLeft;this.css(w);0>=e&&setTimeout(function(){z.each(function(){A.call(this)})},0);return this};g=null})(na);
(function(a,b){function c(c,e,f,g,h){"function"!=typeof e||h||(h=e,e=b);f={opacity:f};g&&(f.scale=g,c.css(a.fx.cssPrefix+"transform-origin","0 0"));return c.animate(f,e,null,h)}function e(b,e,f,h){return c(b,e,0,f,function(){g.call(a(this));h&&h.call(this)})}var f=a.fn.show,g=a.fn.hide;a.fn.fadeTo=function(a,b,e){return c(this,a,b,null,e)};a.fn.fadeIn=function(a,b){var c=this.css("opacity");0<c?this.css("opacity",0):c=1;return f.call(this).fadeTo(a,c,b)};a.fn.fadeOut=function(a,b){return e(this,a,
null,b)}})(na);(function(a){function b(){H=null;g.last&&(g.el.trigger("longTap"),g={})}function c(){l&&clearTimeout(l);q&&clearTimeout(q);h&&clearTimeout(h);H&&clearTimeout(H);l=q=h=H=null;g={}}function e(a){return("touch"==a.pointerType||a.pointerType==a.MSPOINTER_TYPE_TOUCH)&&a.isPrimary}function f(a,b){return a.type=="pointer"+b||a.type.toLowerCase()=="mspointer"+b}var g={},l,q,h,H,F;a(document).ready(function(){var G,n,M=0,r=0,s,t;"MSGesture"in window&&(F=new MSGesture,F.target=document.body);
a(document).bind("MSGestureEnd",function(a){if(a=1<a.velocityX?"Right":-1>a.velocityX?"Left":1<a.velocityY?"Down":-1>a.velocityY?"Up":null)g.el.trigger("swipe"),g.el.trigger("swipe"+a)}).on("touchstart MSPointerDown pointerdown",function(c){if(!(t=f(c,"down"))||e(c))s=t?c:c.touches[0],c.touches&&1===c.touches.length&&g.x2&&(g.x2=void 0,g.y2=void 0),G=Date.now(),n=G-(g.last||G),g.el=a("tagName"in s.target?s.target:s.target.parentNode),l&&clearTimeout(l),g.x1=s.clientX,g.y1=s.clientY,0<n&&250>=n&&(g.isDoubleTap=
!0),g.last=G,H=setTimeout(b,750),F&&t&&F.addPointer(c.pointerId)}).on("touchmove MSPointerMove pointermove",function(a){if(!(t=f(a,"move"))||e(a))s=t?a:a.touches[0],H&&clearTimeout(H),H=null,g.x2=s.clientX,g.y2=s.clientY,M+=Math.abs(g.x1-g.x2),r+=Math.abs(g.y1-g.y2)}).on("touchend MSPointerUp pointerup",function(b){if(!(t=f(b,"up"))||e(b)){H&&clearTimeout(H);H=null;if(b=b&&b.changedTouches&&b.changedTouches[0])g.x2=b.clientX,g.y2=b.clientY;g.x2&&60<Math.abs(g.x1-g.x2)||g.y2&&36<Math.abs(g.y1-g.y2)?
h=setTimeout(function(){g.el.trigger("swipe");var a;a=g.x1;var b=g.x2,c=g.y1,e=g.y2,f=Math.abs(a-b),l=Math.abs(c-e);a=f>=l?36>l?0<a-b?"Left":"Right":null:36>f?0<c-e?"Up":"Down":null;a&&g.el.trigger("swipe"+a);g={}},0):"last"in g&&(30>M&&30>r?q=setTimeout(function(){var b=a.Event("zeptotap");b.cancelTouch=c;g&&g.el&&g.el.trigger(b);g.isDoubleTap?(g.el&&g.el.trigger("doubleTap"),g={}):l=setTimeout(function(){l=null;g.el&&g.el.trigger("singleTap");g={}},250)},0):g={});M=r=0}}).on("touchcancel MSPointerCancel pointercancel",
c)});"swipe swipeLeft swipeRight swipeUp swipeDown doubleTap zeptotap singleTap longTap".split(" ").forEach(function(b){a.fn[b]=function(a){return this.on(b,a)}})})(na);s.render=function(a,b){return(s.get(a)||Db({id:a,name:"Render Error",message:"No Template"}))(b)};s.compile=function(a,b){function c(c){try{return new g(c,a)+""}catch(e){return f?Db(e)():s.compile(a,b,!0)(c)}}var e=arguments,f=e[2];"string"!==typeof b&&(f=e[1],b=e[0],a="anonymous");try{var g=te(a,b,f)}catch(l){return l.id=a||b,l.name=
"Syntax Error",Db(l)}c.prototype=g.prototype;c.toString=function(){return g.toString()};"anonymous"!==a&&(Eb[a]=c);return c};var Eb=s.cache={},Na=s.helpers=function(){var a=function(b,c){"string"!==typeof b&&(c=typeof b,b="number"===c?b+"":"function"===c?a(b.call(b)):"");return b},b={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},c=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)};return{$include:s.render,$string:a,$escape:function(c){return a(c).replace(/&(?![\w#]+;)|[<>"']/g,
function(a){return b[a]})},$each:function(a,b){if(c(a))for(var g=0,l=a.length;g<l;g++)b.call(a,a[g],g,a);else for(g in a)b.call(a,a[g],g)}}}();s.helper=function(a,b){Na[a]=b};s.get=function(a){return Eb.hasOwnProperty(a)?Eb[a]:h(a)};var Db=function(a){return function(){return""}},te=function(){var a=Na.$each,b=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,c=/[^\w$]+/g,e=new RegExp(""+("\\b"+"break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined".replace(/,/g,
"\\b|\\b")+"\\b"),"g"),f=/^\d[^,]*|,\d[^,]*/g,g=/^,+|,+$/g;return function(l,q,h){function H(a){U+=a.split(/\n/).length-1;a&&(a=u[1]+("'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'")+u[2]+"\n");return a}function F(l){l=l.replace(b,"").replace(c,",").replace(e,"").replace(f,"").replace(g,"").split(/^$|,+/);a(l,function(a){if(a&&!t.hasOwnProperty(a)){var b;"print"===a?b=D:"include"===a?(v.$include=Na.$include,b=y):(b="$data."+a,Na.hasOwnProperty(a)&&(v[a]=Na[a],b=0===a.indexOf("$")?
"$helpers."+a:b+"===undefined?$helpers."+a+":"+b));p+=a+"="+b+",";t[a]=!0}})}var G=s.closeTag,n=s.parser,r="",U=1,t={$data:1,$id:1,$helpers:1,$out:1,$line:1},v={},p="var $helpers=this,"+(h?"$line=0,":""),u=(l="".trim)?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"];l=l?"$out+=$text;return $text;":"$out.push($text);";var D="function($text){"+l+"}",y="function(id,data){data=data||$data;var $text=$helpers.$include(id,data,$id);"+l+"}";a(q.split(s.openTag),function(a){a=
a.split(G);var b=a[0],c=a[1];if(1===a.length)r+=H(b);else{a=r;var e=U;n&&(b=n(b));if(0===b.indexOf("=")){var f=!/^=[=#]/.test(b),b=b.replace(/^=[=#]?|[\s;]*$/g,"");f?(f=b.replace(/\s*\([^\)]+\)/,""),Na.hasOwnProperty(f)||/^(include|print)$/.test(f)||(b="$escape("+b+")")):b="$string("+b+")";b=u[1]+b+u[2]}h&&(b="$line="+e+";"+b);F(b);r=a+(b+"\n");c&&(r+=H(c))}});q=p+u[0]+r+"return new String("+u[3]+");";try{var w=new Function("$data","$id",q);w.prototype=v;return w}catch(x){throw x.temp="function anonymous($data,$id) {"+
q+"}",x;}}}();s.openTag="{{";s.closeTag="}}";s.parser=function(a){a=a.replace(/^\s/,"");var b=a.split(" "),c=b.shift(),e=b.join(" ");switch(c){case "if":a="if("+e+"){";break;case "else":b="if"===b.shift()?" if("+b.join(" ")+")":"";a="}else"+b+"{";break;case "/if":a="}";break;case "each":a=b[0]||"$data";c=(b[2]||"$value")+","+(b[3]||"$index");"as"!==(b[1]||"as")&&(a="[]");a="$each("+a+",function("+c+"){";break;case "/each":a="});";break;case "echo":a="print("+e+");";break;case "include":a="include("+
b.join(",")+");";break;default:s.helpers.hasOwnProperty(c)?a="=#"+c+"("+b.join(",")+");":(a=a.replace(/[\s;]*$/,""),a="="+a)}return a};(function(){function a(a){return function(b,c,e,f){c=u(c,f,4);var g=!A(b)&&p.keys(b),l=(g||b).length,q=0<a?0:l-1;3>arguments.length&&(e=b[g?g[q]:q],q+=a);for(var h=c,B=e;0<=q&&q<l;q+=a)var F=g?g[q]:q,B=h(B,b[F],F,b);return B}}function b(a){return function(b,c,e){c=D(c,e);e=z(b);for(var f=0<a?0:e-1;0<=f&&f<e;f+=a)if(c(b[f],f,b))return f;return-1}}function c(a,b,c){return function(e,
f,g){var l=0,q=z(e);if("number"==typeof g)0<a?l=0<=g?g:Math.max(g+q,l):q=0<=g?Math.min(g+1,q):g+q+1;else if(c&&g&&q)return g=c(e,f),e[g]===f?g:-1;if(f!==f)return g=b(H.call(e,l,q),p.isNaN),0<=g?g+l:-1;for(g=0<a?l:q-1;0<=g&&g<q;g+=a)if(e[g]===f)return g;return-1}}function e(a,b){var c=L.length,e=a.constructor,e=p.isFunction(e)&&e.prototype||q,f="constructor";for(p.has(a,f)&&!p.contains(b,f)&&b.push(f);c--;)f=L[c],f in a&&a[f]!==e[f]&&!p.contains(b,f)&&b.push(f)}var f=this,g=f._,l=Array.prototype,q=
Object.prototype,h=l.push,H=l.slice,F=q.toString,G=q.hasOwnProperty,n=Array.isArray,r=Object.keys,s=Function.prototype.bind,t=Object.create,v=function(){},p=function(a){if(a instanceof p)return a;if(!(this instanceof p))return new p(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=p),exports._=p):f._=p;var u=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,
e){return a.call(b,c,e)};case 3:return function(c,e,f){return a.call(b,c,e,f)};case 4:return function(c,e,f,g){return a.call(b,c,e,f,g)}}return function(){return a.apply(b,arguments)}},D=function(a,b,c){return null==a?p.identity:p.isFunction(a)?u(a,b,c):p.isObject(a)?p.matcher(a):p.property(a)};p.iteratee=function(a,b){return D(a,b,Infinity)};var y=function(a,b){return function(c){var e=arguments.length;if(2>e||null==c)return c;for(var f=1;f<e;f++)for(var g=arguments[f],l=a(g),q=l.length,h=0;h<q;h++){var B=
l[h];b&&void 0!==c[B]||(c[B]=g[B])}return c}},w=function(a){if(!p.isObject(a))return{};if(t)return t(a);v.prototype=a;a=new v;v.prototype=null;return a},x=function(a){return function(b){return null==b?void 0:b[a]}},C=Math.pow(2,53)-1,z=x("length"),A=function(a){a=z(a);return"number"==typeof a&&0<=a&&a<=C};p.each=p.forEach=function(a,b,c){b=u(b,c);var e;if(A(a))for(c=0,e=a.length;c<e;c++)b(a[c],c,a);else{var f=p.keys(a);c=0;for(e=f.length;c<e;c++)b(a[f[c]],f[c],a)}return a};p.map=p.collect=function(a,
b,c){b=D(b,c);c=!A(a)&&p.keys(a);for(var e=(c||a).length,f=Array(e),g=0;g<e;g++){var l=c?c[g]:g;f[g]=b(a[l],l,a)}return f};p.reduce=p.foldl=p.inject=a(1);p.reduceRight=p.foldr=a(-1);p.find=p.detect=function(a,b,c){b=A(a)?p.findIndex(a,b,c):p.findKey(a,b,c);if(void 0!==b&&-1!==b)return a[b]};p.filter=p.select=function(a,b,c){var e=[];b=D(b,c);p.each(a,function(a,c,f){b(a,c,f)&&e.push(a)});return e};p.reject=function(a,b,c){return p.filter(a,p.negate(D(b)),c)};p.every=p.all=function(a,b,c){b=D(b,c);
c=!A(a)&&p.keys(a);for(var e=(c||a).length,f=0;f<e;f++){var g=c?c[f]:f;if(!b(a[g],g,a))return!1}return!0};p.some=p.any=function(a,b,c){b=D(b,c);c=!A(a)&&p.keys(a);for(var e=(c||a).length,f=0;f<e;f++){var g=c?c[f]:f;if(b(a[g],g,a))return!0}return!1};p.contains=p.includes=p.include=function(a,b,c,e){A(a)||(a=p.values(a));if("number"!=typeof c||e)c=0;return 0<=p.indexOf(a,b,c)};p.invoke=function(a,b){var c=H.call(arguments,2),e=p.isFunction(b);return p.map(a,function(a){var f=e?b:a[b];return null==f?
f:f.apply(a,c)})};p.pluck=function(a,b){return p.map(a,p.property(b))};p.where=function(a,b){return p.filter(a,p.matcher(b))};p.findWhere=function(a,b){return p.find(a,p.matcher(b))};p.shuffle=function(a){a=A(a)?a:p.values(a);for(var b=a.length,c=Array(b),e=0,f;e<b;e++)f=p.random(0,e),f!==e&&(c[e]=c[f]),c[f]=a[e];return c};p.sample=function(a,b,c){return null==b||c?(A(a)||(a=p.values(a)),a[p.random(a.length-1)]):p.shuffle(a).slice(0,Math.max(0,b))};p.sortBy=function(a,b,c){b=D(b,c);return p.pluck(p.map(a,
function(a,c,e){return{value:a,index:c,criteria:b(a,c,e)}}).sort(function(a,b){var c=a.criteria,e=b.criteria;if(c!==e){if(c>e||void 0===c)return 1;if(c<e||void 0===e)return-1}return a.index-b.index}),"value")};var I=function(a){return function(b,c,e){var f={};c=D(c,e);p.each(b,function(e,g){var l=c(e,g,b);a(f,e,l)});return f}};p.groupBy=I(function(a,b,c){p.has(a,c)?a[c].push(b):a[c]=[b]});p.indexBy=I(function(a,b,c){a[c]=b});p.countBy=I(function(a,b,c){p.has(a,c)?a[c]++:a[c]=1});p.toArray=function(a){return a?
p.isArray(a)?H.call(a):A(a)?p.map(a,p.identity):p.values(a):[]};p.size=function(a){return null==a?0:A(a)?a.length:p.keys(a).length};p.partition=function(a,b,c){b=D(b,c);var e=[],f=[];p.each(a,function(a,c,g){(b(a,c,g)?e:f).push(a)});return[e,f]};p.first=p.head=p.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:p.initial(a,a.length-b)};p.initial=function(a,b,c){return H.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))};p.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:
p.rest(a,Math.max(0,a.length-b))};p.rest=p.tail=p.drop=function(a,b,c){return H.call(a,null==b||c?1:b)};p.compact=function(a){return p.filter(a,p.identity)};var E=function(a,b,c,e){var f=[],g=0;e=e||0;for(var l=z(a);e<l;e++){var q=a[e];if(A(q)&&(p.isArray(q)||p.isArguments(q))){b||(q=E(q,b,c));var h=0,B=q.length;for(f.length+=B;h<B;)f[g++]=q[h++]}else c||(f[g++]=q)}return f};p.flatten=function(a,b){return E(a,b,!1)};p.without=function(a){return p.difference(a,H.call(arguments,1))};p.uniq=p.unique=
function(a,b,c,e){p.isBoolean(b)||(e=c,c=b,b=!1);null!=c&&(c=D(c,e));e=[];for(var f=[],g=0,l=z(a);g<l;g++){var q=a[g],h=c?c(q,g,a):q;b?(g&&f===h||e.push(q),f=h):c?p.contains(f,h)||(f.push(h),e.push(q)):p.contains(e,q)||e.push(q)}return e};p.union=function(){return p.uniq(E(arguments,!0,!0))};p.intersection=function(a){for(var b=[],c=arguments.length,e=0,f=z(a);e<f;e++){var g=a[e];if(!p.contains(b,g)){for(var l=1;l<c&&p.contains(arguments[l],g);l++);l===c&&b.push(g)}}return b};p.difference=function(a){var b=
E(arguments,!0,!0,1);return p.filter(a,function(a){return!p.contains(b,a)})};p.object=function(a,b){for(var c={},e=0,f=z(a);e<f;e++)b?c[a[e]]=b[e]:c[a[e][0]]=a[e][1];return c};p.findIndex=b(1);p.findLastIndex=b(-1);p.sortedIndex=function(a,b,c,e){c=D(c,e,1);b=c(b);e=0;for(var f=z(a);e<f;){var g=Math.floor((e+f)/2);c(a[g])<b?e=g+1:f=g}return e};p.indexOf=c(1,p.findIndex,p.sortedIndex);p.lastIndexOf=c(-1,p.findLastIndex);p.range=function(a,b,c){null==b&&(b=a||0,a=0);c=c||1;b=Math.max(Math.ceil((b-a)/
c),0);for(var e=Array(b),f=0;f<b;f++,a+=c)e[f]=a;return e};var J=function(a,b,c,e,f){if(!(e instanceof b))return a.apply(c,f);b=w(a.prototype);a=a.apply(b,f);return p.isObject(a)?a:b};p.bind=function(a,b){if(s&&a.bind===s)return s.apply(a,H.call(arguments,1));if(!p.isFunction(a))throw new TypeError("Bind must be called on a function");var c=H.call(arguments,2),e=function(){return J(a,e,b,this,c.concat(H.call(arguments)))};return e};p.partial=function(a){var b=H.call(arguments,1),c=function(){for(var e=
0,f=b.length,g=Array(f),l=0;l<f;l++)g[l]=b[l]===p?arguments[e++]:b[l];for(;e<arguments.length;)g.push(arguments[e++]);return J(a,c,this,this,g)};return c};p.bindAll=function(a){var b,c=arguments.length,e;if(1>=c)throw Error("bindAll must be passed function names");for(b=1;b<c;b++)e=arguments[b],a[e]=p.bind(a[e],a);return a};p.memoize=function(a,b){var c=function(e){var f=c.cache,g=""+(b?b.apply(this,arguments):e);p.has(f,g)||(f[g]=a.apply(this,arguments));return f[g]};c.cache={};return c};p.delay=
function(a,b){var c=H.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};p.defer=p.partial(p.delay,p,1);p.debounce=function(a,b,c){var e,f,g,l,q,h=function(){var B=p.now()-l;B<b&&0<=B?e=setTimeout(h,b-B):(e=null,c||(q=a.apply(g,f),e||(g=f=null)))};return function(){g=this;f=arguments;l=p.now();var B=c&&!e;e||(e=setTimeout(h,b));B&&(q=a.apply(g,f),g=f=null);return q}};p.wrap=function(a,b){return p.partial(b,a)};p.negate=function(a){return function(){return!a.apply(this,arguments)}};
p.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,e=a[b].apply(this,arguments);c--;)e=a[c].call(this,e);return e}};p.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};p.before=function(a,b){var c;return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=null);return c}};p.once=p.partial(p.before,2);var K=!{toString:null}.propertyIsEnumerable("toString"),L="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");
p.keys=function(a){if(!p.isObject(a))return[];if(r)return r(a);var b=[],c;for(c in a)p.has(a,c)&&b.push(c);K&&e(a,b);return b};p.allKeys=function(a){if(!p.isObject(a))return[];var b=[],c;for(c in a)b.push(c);K&&e(a,b);return b};p.values=function(a){for(var b=p.keys(a),c=b.length,e=Array(c),f=0;f<c;f++)e[f]=a[b[f]];return e};p.mapObject=function(a,b,c){b=D(b,c);c=p.keys(a);for(var e=c.length,f={},g,l=0;l<e;l++)g=c[l],f[g]=b(a[g],g,a);return f};p.pairs=function(a){for(var b=p.keys(a),c=b.length,e=Array(c),
f=0;f<c;f++)e[f]=[b[f],a[b[f]]];return e};p.invert=function(a){for(var b={},c=p.keys(a),e=0,f=c.length;e<f;e++)b[a[c[e]]]=c[e];return b};p.functions=p.methods=function(a){var b=[],c;for(c in a)p.isFunction(a[c])&&b.push(c);return b.sort()};p.extend=y(p.allKeys);p.extendOwn=p.assign=y(p.keys);p.findKey=function(a,b,c){b=D(b,c);c=p.keys(a);for(var e,f=0,g=c.length;f<g;f++)if(e=c[f],b(a[e],e,a))return e};p.pick=function(a,b,c){var e={},f=a,g,l;if(null==f)return e;p.isFunction(b)?(l=p.allKeys(f),g=u(b,
c)):(l=E(arguments,!1,!1,1),g=function(a,b,c){return b in c},f=Object(f));for(var q=0,h=l.length;q<h;q++){var B=l[q],F=f[B];g(F,B,f)&&(e[B]=F)}return e};p.omit=function(a,b,c){if(p.isFunction(b))b=p.negate(b);else{var e=p.map(E(arguments,!1,!1,1),String);b=function(a,b){return!p.contains(e,b)}}return p.pick(a,b,c)};p.defaults=y(p.allKeys,!0);p.create=function(a,b){var c=w(a);b&&p.extendOwn(c,b);return c};p.clone=function(a){return p.isObject(a)?p.isArray(a)?a.slice():p.extend({},a):a};p.tap=function(a,
b){b(a);return a};p.isMatch=function(a,b){var c=p.keys(b),e=c.length;if(null==a)return!e;for(var f=Object(a),g=0;g<e;g++){var l=c[g];if(b[l]!==f[l]||!(l in f))return!1}return!0};var N=function(a,b,c,e){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof p&&(a=a._wrapped);b instanceof p&&(b=b._wrapped);var f=F.call(a);if(f!==F.call(b))return!1;switch(f){case "[object RegExp]":case "[object String]":return""+a===""+b;case "[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===
1/b:+a===+b;case "[object Date]":case "[object Boolean]":return+a===+b}f="[object Array]"===f;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,l=b.constructor;if(g!==l&&!(p.isFunction(g)&&g instanceof g&&p.isFunction(l)&&l instanceof l)&&"constructor"in a&&"constructor"in b)return!1}c=c||[];e=e||[];for(g=c.length;g--;)if(c[g]===a)return e[g]===b;c.push(a);e.push(b);if(f){g=a.length;if(g!==b.length)return!1;for(;g--;)if(!N(a[g],b[g],c,e))return!1}else{f=p.keys(a);g=f.length;
if(p.keys(b).length!==g)return!1;for(;g--;)if(l=f[g],!p.has(b,l)||!N(a[l],b[l],c,e))return!1}c.pop();e.pop();return!0};p.isEqual=function(a,b){return N(a,b)};p.isEmpty=function(a){return null==a?!0:A(a)&&(p.isArray(a)||p.isString(a)||p.isArguments(a))?0===a.length:0===p.keys(a).length};p.isElement=function(a){return!(!a||1!==a.nodeType)};p.isArray=n||function(a){return"[object Array]"===F.call(a)};p.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a};p.each("Arguments Function String Number Date RegExp Error".split(" "),
function(a){p["is"+a]=function(b){return F.call(b)==="[object "+a+"]"}});p.isArguments(arguments)||(p.isArguments=function(a){return p.has(a,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(p.isFunction=function(a){return"function"==typeof a||!1});p.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};p.isNaN=function(a){return p.isNumber(a)&&a!==+a};p.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===F.call(a)};p.isNull=function(a){return null===a};p.isUndefined=
function(a){return void 0===a};p.has=function(a,b){return null!=a&&G.call(a,b)};p.noConflict=function(){f._=g;return this};p.identity=function(a){return a};p.constant=function(a){return function(){return a}};p.noop=function(){};p.property=x;p.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}};p.matcher=p.matches=function(a){a=p.extendOwn({},a);return function(b){return p.isMatch(b,a)}};p.times=function(a,b,c){var e=Array(Math.max(0,a));b=u(b,c,1);for(c=0;c<a;c++)e[c]=b(c);
return e};p.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};p.now=Date.now||function(){return(new Date).getTime()};n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};y=p.invert(n);x=function(a){var b=function(b){return a[b]},c="(?:"+p.keys(a).join("|")+")",e=RegExp(c),f=RegExp(c,"g");return function(a){a=null==a?"":""+a;return e.test(a)?a.replace(f,b):a}};p.escape=x(n);p.unescape=x(y);p.result=function(a,b,c){b=null==a?void 0:a[b];void 0===
b&&(b=c);return p.isFunction(b)?b.call(a):b};var O=0;p.uniqueId=function(a){var b=++O+"";return a?a+b:b};p.chain=function(a){a=p(a);a._chain=!0;return a};var P=function(a,b){return a._chain?p(b).chain():b};p.mixin=function(a){p.each(p.functions(a),function(b){var c=p[b]=a[b];p.prototype[b]=function(){var a=[this._wrapped];h.apply(a,arguments);return P(this,c.apply(p,a))}})};p.mixin(p);p.each("pop push reverse shift sort splice unshift".split(" "),function(a){var b=l[a];p.prototype[a]=function(){var c=
this._wrapped;b.apply(c,arguments);"shift"!==a&&"splice"!==a||0!==c.length||delete c[0];return P(this,c)}});p.each(["concat","join","slice"],function(a){var b=l[a];p.prototype[a]=function(){return P(this,b.apply(this._wrapped,arguments))}});p.prototype.value=function(){return this._wrapped};p.prototype.valueOf=p.prototype.toJSON=p.prototype.value;p.prototype.toString=function(){return""+this._wrapped};"function"===typeof define&&define.amd&&define("underscore",[],function(){return p})}).call(this);
var ba=function(a,b){var c=[].slice;b.$=$;var e=b.Events={on:function(a,b,c){if(!g(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!g(this,"once",a,[b,c])||!b)return this;var e=this,f=_.once(function(){e.off(a,f);b.apply(this,arguments)});f._callback=b;return this.on(a,f,c)},off:function(a,b,c){var e,f,l,q,h,B,H,n;if(!this._events||!g(this,"off",a,[b,c]))return this;
if(!a&&!b&&!c)return this._events=void 0,this;q=a?[a]:_.keys(this._events);h=0;for(B=q.length;h<B;h++)if(a=q[h],l=this._events[a]){this._events[a]=e=[];if(b||c)for(H=0,n=l.length;H<n;H++)f=l[H],(b&&b!==f.callback&&b!==f.callback._callback||c&&c!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=c.call(arguments,1);if(!g(this,"trigger",a,b))return this;var e=this._events[a],f=this._events.all;e&&l(e,b);f&&l(f,arguments);return this},
stopListening:function(a,b,c){var e=this._listeningTo;if(!e)return this;var f=!b&&!c;c||"object"!==typeof b||(c=this);a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,c,this),(f||_.isEmpty(a._events))&&delete this._listeningTo[g];return this}},f=/\s+/,g=function(a,b,c,e){if(!c)return!0;if("object"===typeof c){for(var g in c)a[b].apply(a,[g,c[g]].concat(e));return!1}if(f.test(c)){c=c.split(f);g=0;for(var l=c.length;g<l;g++)a[b].apply(a,[c[g]].concat(e));return!1}return!0},l=function(a,b){var c,
e=-1,f=a.length,g=b[0],l=b[1],q=b[2];switch(b.length){case 0:for(;++e<f;)(c=a[e]).callback.call(c.ctx);break;case 1:for(;++e<f;)(c=a[e]).callback.call(c.ctx,g);break;case 2:for(;++e<f;)(c=a[e]).callback.call(c.ctx,g,l);break;case 3:for(;++e<f;)(c=a[e]).callback.call(c.ctx,g,l,q);break;default:for(;++e<f;)(c=a[e]).callback.apply(c.ctx,b)}};_.each({listenTo:"on",listenToOnce:"once"},function(a,b){e[b]=function(b,c,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=_.uniqueId("l"));
f[g]=b;e||"object"!==typeof c||(e=this);b[a](c,e,this);return this}});e.bind=e.on;e.unbind=e.off;_.extend(b,e);var q=b.View=function(a){this.cid=_.uniqueId("view");a||(a={});_.extend(this,_.pick(a,H));this._ensureElement();var b=this.events_manager;if(b){for(var c=b.length,e=[],f=0;f<c;f++)e[f]=new b[f]({el:this.el,use:"events_manager"});this.events_manager=e}this.initialize.apply(this,arguments);this.delegateEvents()},h=/^(\S+)\s*(.*)$/,H="model collection el id attributes className tagName events hash oldHash".split(" ");
_.extend(q.prototype,e,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.destroy&&this.destroy();this.trigger("destroy");this.$el.remove();this.stopListening();var a=this.events_manager;if(a)for(var b=a.length,c=0;c<b;c++)a[c].remove();return this},setElement:function(a,c){this.$el&&this.undelegateEvents();this.$el=a instanceof b.$?a:b.$(a);this.el=this.$el[0];!1!==c&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&
!(a=_.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];_.isFunction(c)||(c=this[a[b]]);if(c){var e=b.match(h),f=e[1],e=e[2],c=_.bind(c,this),f=f+(".delegateEvents"+this.cid);if(""===e)this.$el.on(f,c);else this.$el.on(f,e,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(_.result(this,"el"),!1);else{var a=_.extend({},_.result(this,"attributes"));this.id&&(a.id=
_.result(this,"id"));this.className&&(a["class"]=_.result(this,"className"));a=b.$("<"+_.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});q.extend=b.extend=function(a,b){var c=this,e;e=a&&_.has(a,"constructor")?a.constructor:function(){return c.apply(this,arguments)};_.extend(e,c,b);var f=function(){this.constructor=e};f.prototype=c.prototype;e.prototype=new f;a&&_.extend(e.prototype,a);e.__super__=c.prototype;return e};return b}(this,{});(function(a){a.fly=function(b,c){var e={version:"1.0.0",
autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:a.noop},f=a(b);this.init=function(a){this.setOptions(a);this.settings.autoPlay&&this.play()};this.setOptions=function(b){b=this.settings=a.extend(!0,{},e,b);var c=b.start,g=b.end;f.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body");null!=g.width&&null!=g.height&&a.extend(!0,c,{width:f.width(),height:f.height()});var l=Math.min(c.top,g.top)-Math.abs(c.left-g.left)/3;l<b.vertex_Rtop&&(l=Math.min(b.vertex_Rtop,Math.min(c.top,
g.top)));var h=Math.sqrt(Math.pow(c.top-g.top,2)+Math.pow(c.left-g.left,2)),h=Math.ceil(Math.min(Math.max(Math.log(h)/0.05-75,30),100)/b.speed),n=c.top==l?0:-Math.sqrt((g.top-l)/(c.top-l)),c=(n*c.left-g.left)/(n-1),g=g.left==c?0:(g.top-l)/Math.pow(g.left-c,2);a.extend(!0,b,{count:-1,steps:h,vertex_left:c,vertex_top:l,curvature:g})};this.play=function(){this.move()};var g=window.requestAnimationFrame||window.webkitRequestAnimationFrame,l=window.cancelAnimationFrame||window.webkitCancelAnimationFrame;
this.move=function(){var b=this.settings,c=b.start,e=b.count,h=b.steps,n=b.end,r=c.left+(n.left-c.left)*e/h,s=0==b.curvature?c.top+(n.top-c.top)*e/h:b.curvature*Math.pow(r-b.vertex_left,2)+b.vertex_top;if(null!=n.width&&null!=n.height){var t=h/2,v=n.width-(n.width-c.width)*Math.cos(e<t?0:(e-t)/(h-t)*Math.PI/2),c=n.height-(n.height-c.height)*Math.cos(e<t?0:(e-t)/(h-t)*Math.PI/2);f.css({width:v+"px",height:c+"px","font-size":Math.min(v,c)+"px"})}f.css({left:r+"px",top:s+"px"});b.count++;r=g(a.proxy(this.move,
this));e==h&&(l(r),b.onEnd.apply(this))};this.destroy=function(){f.remove()};this.init(c)};a.fn.fly=function(b){return this.each(function(){void 0==a(this).data("fly")&&a(this).data("fly",new a.fly(this,b))})}})(jQuery);ra._callbacks=[];var va={};_.extend(va,ba.Events);var Ic=!1,Jc=!1,v=$(window),oe=location.protocol+"//"+location.host+location.pathname,fb=!1;try{sessionStorage.setItem("1","1"),fb=!0}catch(Ge){}var gb=!1;try{localStorage.setItem("1","1"),gb=!0}catch(He){}var ue=/^[^\uD800-\uDBFF]+$/,
u={data:{},getItem:function(a){return fb?W(sessionStorage.getItem(a)):u.data[a]},setItem:function(a,b){fb?sessionStorage.setItem(a,JSON.stringify(b)):u.data[a]=b},removeItem:function(a){fb?sessionStorage.removeItem(a):delete u.data[a]}},la={data:{},getItem:function(a){return gb?W(localStorage.getItem(a)):la.data[a]},setItem:function(a,b){gb?localStorage.setItem(a,JSON.stringify(b)):la.data[a]=b},removeItem:function(a){gb?localStorage.removeItem(a):delete la.data[a]}},Zb={_data:{},setItem:function(a,
b){this._data[a]=b},getItem:function(a,b){return this._data[a]},removeItem:function(a){delete this._data[a]}},ve=document.createElement("div").style,Ob=function(){for(var a=["t","webkitT","MozT","msT","OT"],b,c=0,e=a.length;c<e;c++)if(b=a[c]+"ransform",b in ve)return a[c].substr(0,a[c].length-1);return!1}(),ka=Nb("transform");Nb("transition");var ga=navigator.appVersion,Ba=navigator.userAgent,ha=/android/gi.test(ga),E=/iPhone|iPad/gi.test(ga);E&&/OS 8/i.test(ga);var we=E&&/OS 9/i.test(ga),ta=/QQ\/([\d.]+)/gi.test(ga),
jc=/Windows/gi.test(ga),kc=/Mac/gi.test(ga),lc=/Linux/gi.test(ga),xe=/(?:Windows Phone)/.test(ga),ye=/(?:SymbianOS)/.test(ga)||xe,db=!E&&!ha&&!ye;/SAMSUNG.*Chrome/i.test(Ba)||Ba.indexOf("SAMSUNG-SM-G9");var ze=-1!=Ba.indexOf("Safari"),P=/MicroMessenger/gi.test(ga),Ae=ha&&-1!==ga.indexOf("XiaoMi"),Ha=-1!=Ba.indexOf("supportJDSHWK")||1==window._is_jdsh_wkwebview,wa=-1!=Ba.indexOf("supportDJSHWK");lg=function(){};window.h5abtest=[];fenxiang=A("fenxiang")||!1;sharePage=window.location.hash.split("/")[0].replace("#",
"");goShopActivity=A("goShopActivity");jShopShare=A("jshopShare");var Ta={},Be=[2,53,9,22,26,29,56,66],Kc=[63],Fb=[1,23,28,62,64,65],Ya=[10,19,14,15,20],Ce=[3,6,7,12,55,24,25,42,30,31,35,36,37,50,57,67,68],De=[1,2,3,6,7,12],Ee=[50],Lc=[1,2,3,6,7,12],Fe=[28,29,30,31],Gb=[22,23,24,25];window.jdAppWxPayBack=function(a){a=JSON.parse(a);0==a.status?I&&E?-1!=window.returnAppLink.indexOf("#")?(a="#"+window.returnAppLink.split("#")[1],x({hash:a})):w(window.returnAppLink):w(window.returnAppLink):n(a.msg)};
window.wxPayback=function(a){0==a?window.returnAppLink&&w(window.returnAppLink):-1==a?n("微信支付异常，请稍后再试，或选择其他支付方式"):-2==a&&n("支付异常，请重新支付")};window.onAndroidWxPayCallBack=function(a){0==a?w(window.returnAppLink):-1==a?n("抱歉，网络开小差，请稍后重试"):-2==a?n("您已取消支付，若需继续支付请重新发起"):-3==a?n("抱歉，此订单支付失败，请您重新发起支付"):-4==a?n("抱歉，网络开小差，请稍后重试"):-5==a?n("您尚未安装微信APP，暂时无法支付，请安装后重试"):n("微信支付异常，请稍后再试，或选择其他支付方式")};window.cameraCallBack=function(a){va.trigger("jd-photo-end",window.location.protocol+"//img30.360buyimg.com/test/"+
a,a)};window.onAndroidAliPayCallBack=function(a){9E3==a?w(window.returnAppLink):8E3==a?n("正在支付中，请您耐心等待"):4E3==a?n("抱歉，此订单支付失败，请您重新发起支付"):6001==a?n("您已取消支付，若需继续支付请重新发起"):6002==a?n("抱歉，网络开小差，请稍后重试"):n("支付宝支付异常，请稍后再试，或选择其他支付方式")};window.returnMsgForDadaAppWxPay=function(a){return-1==a?"抱歉，网络开小差，请稍后重试":-2==a?"您已取消支付，若需继续支付请重新发起":-3==a?"抱歉，此订单支付失败，请您重新发起支付":-4==a?"抱歉，网络开小差，请稍后重试":-5==a?"您尚未安装微信APP，暂时无法支付，请安装后重试":"微信支付异常，请稍后再试，或选择其他支付方式"};window.returnMsgForDadaAppAliPay=function(a){return 8E3==a?"正在支付中，请您耐心等待":
4E3==a?"抱歉，此订单支付失败，请您重新发起支付":6001==a?"您已取消支付，若需继续支付请重新发起":6002==a?"抱歉，网络开小差，请稍后重试":"支付宝支付异常，请稍后再试，或选择其他支付方式"};window.connectWebViewJavascriptBridge=function(a){WebViewJavascriptBridge._messageHandler&&void 0!=WebViewJavascriptBridge._messageHandler||WebViewJavascriptBridge.init(function(){});window.WebViewJavascriptBridge?a(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",{},function(){a(WebViewJavascriptBridge)},!1)};window.jdappShareRes=function(a){var b=window.location.href;
-1==b.indexOf("newPay")&&-1==b.indexOf("cashier")||0!=a.shareResult||w("#orderlist")};var I=-1!=Ba.indexOf("jdapp"),O=ga.match(/appName=jdLocal/gi),nc=(Ba.split(";")||[])[2],Ja=window.location.href.toString().trim(),Mc=/channel=((app)|(JDapp)|(wyqb)|(fulicheng)|(searchJDapp))/i.test(Ja),Ka=/channel=((app)|(JDapp)|(searchJDapp))/i.test(Ja)||I,da=/channel=searchJDapp/i.test(Ja),mc=/channel=(wyqb)/i.test(Ja),tb=/channel=(jdapp_jrbt)/i.test(Ja),za=/[?&]auth=([0-9a-zA-Z]+)/i.exec(Ja),za=za?za[1]:"",Oa=
/[\?\&]sid=([0-9a-zA-Z]+)/i.exec(Ja),Oa=Oa?Oa[1]:"";A("reactnative")&&A("reactnative");var Nc=A("token")||"",dd=I?(Ba.split(";")||[])[4]||"":"",C={getLocalAddressList:function(){var a=C.AddressListKey_,a=C.AddressList_||u.getItem(a);return _.isArray(a)?a:null},switchLocalDefaultAddress:function(a){var b=C.getLocalAddressList()||[],c=b.length;r({functionId:"addresspdj/updateLastUsedTime",body:{id:a}},"POST");for(var e=0;e<c;e++)if(b[e].id==a)return a=b[e],b.splice(e,1),a=t.formatAddressData(a),b.unshift(a),
C.saveLocalAddressList(b),a._hasLogin_=!0,t.saveLocalCurrent(a),Ra(a.longitude,a.latitude,a.city||a.cityName,a.title||a.poi),a},getAddressById:function(a,b){var c;$.each(b,function(b,f){if(f.id==a)return c=f,!1});return c},fetchAddressList:function(a){return $.Deferred(function(b){var c=C.getLocalAddressList();a&&c&&_.isArray(c)?b.resolve(c):vb().done(function(a,c){_.isArray(a)?(C.saveLocalAddressList(a),b.resolve(a)):b.reject({type:"empty"})}).fail(function(a){var c=a.type,g=a.code;"network"!=c&&
"unlogin"!=c&&804!=g&&(C.saveLocalAddressList([]),a.type="empty");b.reject(a)})})},addAddress:function(a){return yc(a).done(function(b){var c=C.getLocalAddressList()||[];b.mobile=b.mobile.replace(/(.*)\d{4}(\d{4})$/,"$1****$2");a.sharePage&&(b.sharePage=!0);c.unshift(b);C.saveLocalAddressList(c);b._hasLogin_=!0;t.formatAddressData(b)})},updateAddress:function(a){return $.Deferred(function(b){zc(a).done(function(c){vb().done(function(b){_.isArray(b)&&0<b.length&&(C.saveLocalAddressList(b),b[0]._hasLogin_=
!0,a=t.formatAddressData(b[0]),t.saveLocalCurrent(a))}).always(function(){b.resolve()})}).fail(function(a){b.reject(a)})})},removeAddress:function(a){return $.Deferred(function(b){var c=C.getLocalAddressList();r({functionId:"addresspdj/delAddress",body:{id:a}},"POST").done(function(e){for(var f=c.length,g=0;g<f;g++)if(c[g].id==a){c.splice(g,1);break}C.saveLocalAddressList(c);b.resolve(e)}).fail(function(a){b.reject(a)})})},saveLocalAddressList:function(a){var b=C.AddressListKey_;C.AddressList_=a;
u.setItem(b,a)},saveCurrentUserInfo:function(a){var b=C.currentUserInfoKey_;C.currentUserInfo_=a;u.setItem(b,a)},getCurrentUserInfo:function(){var a=C.currentUserInfoKey_,a=C.currentUserInfo_||u.getItem(a);return _.isObject(a)&&"nickName"in a?_.extend({sid:z("sid"),deviceId:z("deviceid_pdj_jd"),returnUrl:encodeURIComponent(window.location.href)},a):a},clearLocalAddressList:function(){C.AddressList_=null;u.removeItem(C.AddressListKey_)},clearCurrentUserInfo:function(){C.currentUserInfo_=null;u.removeItem(C.currentUserInfoKey_)},
AddressList_:null,currentUserInfo_:null,AddressListKey_:"_address_list_key_",currentUserInfoKey_:"_current_userInfo_key_",_info:null,getLoginStatus:function(a){$("#container .loading").remove();C.hasAuthCookie()?C.fetchAddressList().done(function(){a&&a(!0)}).fail(function(b){b="empty"==b.type;a&&a(b);b||C.logout()}):a&&a(!1)},logout:function(){C.clearLocalAddressList();var a=z("sid");T("o2o_m_h5_sid");T("PDJ_H5_JDPIN");T("PDJ_H5_MOBILE");T("h5_coords_obj");T("sid");$.post("https://passport.m.jd.com/user/logout.json?sid="+
a,function(a){},"jsonp");r({functionId:"userInfo/logout",body:{}},"POST")},getUserName:function(){return z("PDJ_H5_JDPIN")||z("PDJ_H5_MOBILE")},getPDJPin:function(){return z("PDJ_H5_PIN")},hasAuthCookie:function(){$("#container .loading").remove();var a=z("o2o_m_h5_sid");return _.isString(a)&&15<a.length}},t={getCurrentUse:function(a){a||(a={});var b=a.justCoords;return $.Deferred(function(a){function e(b){Fa(b).done(function(e){e||(e={});e=t.formatAddressData(e);t.isValidAddress(e)?(t.saveLocalCurrent(e),
t.trigger("address",e),a.resolve(e)):a.reject(_.extend({type:"poifail",msg:"当前城市未开通服务[0001]"},b))}).fail(function(){a.reject(_.extend({type:"poifail",msg:"无法获取地址"},b))})}var f=t.getLocalCurrent();if(ja(f)){f=t.formatAddressData(f);if(b||t.isValidAddress(f))return a.resolve(f);e(f)}else sa(!0).done(function(f){if(b)return a.resolve(f);e(f)}).fail(function(){if(C.hasAuthCookie())r(null,{functionId:"addresspdj/getPdjOrJdOneAddress",body:{}}).done(function(b){b=t.formatAddressData(b);t.isValidAddress(b)?
(t.saveLocalCurrent(b),t.trigger("address",b),a.resolve(b)):a.reject({type:"apifail",msg:"获取用户地址失败"})}).fail(function(e){e=la.getItem(t.key_);t.meetDemand(e,b)?a.resolve(e):a.reject({type:"addressfail",msg:"获取用户地址失败"})});else{var e=la.getItem(t.key_);t.meetDemand(e,b)?a.resolve(e):a.reject({type:"coordsfail",msg:"无法获取地址"})}})})},isValidAddress:function(a){return ja(a)&&(a.address||a.title||a.poi)},meetDemand:function(a,b){return t.isValidAddress(a)||b&&ja(a)},key_:"_current_address_",current_:null,
manualSetCurrentUse:function(a){a._hasLogin_=!!C.hasAuthCookie();a=t.formatAddressData(a);t.saveLocalCurrent(a);t.trigger("address",a)},getLocalCurrent:function(){var a=t.current_||u.getItem(t.key_),b=a||{};Ra(b.longitude,b.latitude,b.city||b.cityName,b.title);return a},saveLocalCurrent:function(a){t.current_=a;u.setItem(t.key_,a);la.setItem(t.key_,a);Ra(a.longitude,a.latitude,a.city||a.cityName,a.title||a.poi)},clear:function(){delete t.current_;u.removeItem(t.key_)},formatAddressData:function(a){return a=
_.extend(a,{cityId:a.cityId||a.cityCode||a.areaCode||0,city:a.city||a.cityName,district:a.district||a.countyName,districtCode:a.districtCode||a.countyId,address:a.address||a.fullAddress,title:a.title||a.poi})}};_.extend(t,ba.Events);s.helper("$1",function(a){return(Math.round(100*(oa(a)||0))/100).toFixed(2)});s.helper("$2",function(a){a=oa(a)/100;return(Math.round(100*(oa(a)||0))/100).toFixed(2)});s.helper("$3",function(a){return a.toString().replace(/\.(\d*?)0+$/,".$1").replace(/\.0?$/,"")});s.helper("$4",
function(a){return(a||"").toString().replace(/^https?\:/,"")});s.helper("$5",function(a){a=a.toString();return-1!==a.indexOf("?")?"&":"?"});s.helper("$6",function(a){if(420<v.width())return"";a||(a={});var b=a.basicePrice/100;return 999<a.realPrice/100||999<b?"a7h":""});s.helper("$7",function(a,b){return 2!=a?"":{1:"已抢光",2:"已下架"}[b]||""});s.helper("$8",function(a,b,c){c=c&&b?window.location.protocol+"//"+window.location.host+window.location.pathname+b:"";return!0===a?b:
"unknow"===a?"javascript:void 0;":"javascript:"+X.name+"('"+c+"');void 0;"});s.helper("$9",function(a,b,c){c=c&&b?window.location.protocol+"//"+window.location.host+window.location.pathname+b:b;return!0===a?b:"unknow"===a?"javascript:void 0;":"javascript:"+X.name+"('"+c+"');void 0;"});s.helper("$10",function(a){return{concern:{to:"#mineCollectStore",needLogin:!0},myCard:{to:"#cardbag",needLogin:!0},myEvaluate:{to:"#myComments",needLogin:!0},address:{to:"#addresslist",needLogin:!0},afterSale:{to:"/activity/afterSales/index.html?h5hash=afterSalesList",
needLogin:!0,nopathname:!0},feedBack:{to:"#service",needLogin:!0},help:{to:"#helpCenter",needLogin:!1},aboutUs:{to:"#aboutUs",needLogin:!1}}[a]||{}});s.helper("$11",function(a,b){return{concern:"mineCollectStore",myCard:"cardbag",myEvaluate:"myComments",address:"addresslist",afterSale:"afterSalesList",feedBack:"service",help:"helpCenter",aboutUs:"aboutUs",web:function(){var a=b.indexOf("#");return-1!=a?b.substring(a):"customercenter"},jdweb:"customercenter"}[a]||{}});s.helper("$12",function(a,b){var c=
A("channel");c&&(b=b+"&channel="+c);c=window.location.protocol+"//"+window.location.host+b;return!0===a?c:"unknow"===a?"javascript:void 0;":"javascript:"+X.name+"('"+c+"');void 0;"});s.helper("$13",function(a){return window.location.protocol+"//"+window.location.host+a});s.helper("$14",function(){return 360>v.width()?!0:!1});s.helper("$15",function(a,b,c,e,f,g){return lb(a,b,c,e,f,g)});s.helper("$16",function(a){return"newMember"==a||"newStore"==a?O?!0:!1:!1});s.helper("$17",function(a){if(a.colomboConfig&&
!1==a.colomboConfig.show)var b={params:{storeId:a.storeId,orgCode:a.venderId,cartType:0},to:"store"};else a.colomboConfig&&!0==a.colomboConfig.show&&(b={params:{storeId:a.storeId,glbactId:a.colomboConfig.pageId,logo:a.colomboConfig.topImg,storeName:a.storeName},to:"glbstore"});return"openApp.jddj://communication?body="+encodeURIComponent(JSON.stringify(b))});s.helper("$18",function(){return"openApp.jddj://communication?body="+encodeURIComponent('{"to":"home"}')});s.helper("$19",function(a,b,c,e){b=
_.extend(b,{orgCode:e});b.needAnchorSku&&(b=_.extend(b,{skuId:c}));return lb(a,b)});s.helper("$20",function(a){if(!_.isArray(a))return!1;for(var b=!0,c=0;c<a.length;c++)"feed"==a[c].floorStyle&&(b=!1);return b});s.helper("$21",function(a){a=$(window).width();return" width:"+parseInt(a/5)+"px;"});s.helper("$22",function(a,b){a||(a="");return 1!=b?a:a.replace(/(\d[\d\.]*\d)折/,'<i style="font-size:16px;font-weight:bold;">$1</i>折')});s.helper("$23",function(){return Mc||za||Oa||/(\?|\&)hideapp\b/i.test(window.location.search)||
u.getItem("index-not-show-download-bar")});s.helper("$24",function(){return Ka||da});s.helper("$25",function(a){return 1==a&&"货到付款"||4==a&&"在线支付"||"未知类型"});s.helper("$26",function(a){return{AVAILABLE:"user",UNAVAILABLE:"past"}[a]||""});s.helper("$27",function(a){return{1:"",2:"used",3:"past"}[a]||""});s.helper("$28",function(a){return _.isNumber(a)&&0<=oa(a)});s.helper("$29",function(a,b){return we&&1461==v.height()&&"index"==b?409:v.height()+(a||0)});s.helper("$30",function(a){return oa(a)});s.helper("$31",
function(){return Boolean(Ka||P)});s.helper("$32",function(a){return encodeURIComponent(a)});s.helper("$33",function(a,b,c){a||(a={});b&&(a[b]=c);return JSON.stringify(a)});s.helper("$34",function(){return v.width()});s.helper("$35",function(a,b,c){a||(a={});b&&(a[b]=c);return W(a)});s.helper("$36",function(a){a||(a="");return a.replace(/¥|￥/,"")});s.helper("$37",function(a){a||(a="");return a.replace(/¥|￥/,'<i class="lk">¥</i>')});s.helper("$38",function(a){var b=!0,c=0;$.each(a||[],
function(a,f){f||(f={});"invalidate"!=f.suitType&&$.each(f.skuList,function(a,e){if(1!=e.checkType)return b=!1;c++})});return 0==c?!1:b});s.helper("$39",function(a){a||(a="");var b=window.location.protocol.replace(":","");"-1"!=a.indexOf("www")&&"-1"==a.indexOf(b)&&(a=b+"://"+a);return a});s.helper("$40",function(a){var b="";if(-1==a||void 0==a){for(a=0;5>a;a++)b+='<i class="a1j"></i>';return b}var c=parseInt(a);a-=c;for(var e=0;e<c;e++)b+="<i></i>";5>c&&(b=0.25<=a&&0.5>a?b+'<i class="a1i"></i>':
0.5<=a&&0.75>a?b+'<i class="half_A_Star"></i>':0.75<=a&&1>a?b+'<i class="a1h"></i>':1<=a?b+"<i></i>":b+'<i class="a1j"></i>');for(a=0;a<5-c-1;a++)b+='<i class="a1j"></i>';return b});s.helper("$41",function(a){var b=a;if(a&&0===a.indexOf("{"))b=a.substring(1,a.length-1);else return"userAction:"+a;return b});s.helper("$42",function(a){return a?"":(a=W(a),a.res_type||"")});s.helper("$43",function(a){var b=!1;"on"==a&&(a=Ea(),-1!=a.indexOf("jdapp")&&(b="4.4.0"<=a.split(";")[2]?
!0:!1));return b});s.helper("$44",function(a){return encodeURIComponent(a||"")});s.helper("$45",function(a){a=a||[];for(var b=[],c=0,e=a.length;c<e;c++){var f=a[c].categoryId||"",g=a[c].level||"";b.push(f&&g&&f+"="+g)}return b.join("&")});s.helper("$46",function(a,b){for(var c=a.skuSize,e=[],f={},g=0;g<c;g++)f.skuName="暂无商品名称",f.realTimePrice="暂无价格",f.imgUrl="//static-o2o.360buyimg.com/daojia/new/images/show_default.png",f.storeId=a.storeId,f.orgCode=a.orgCode||a.venderId,e.push(f);return h("good-list-tpl")({result:e,
isShare:b})});s.helper("$47",function(a){if(a){for(var b="",c=a.length,e=0;e<c;e++)b+=a[e].key+"-"+a[e].value+";";return b}return""});s.helper("$48",function(a){if(a){for(var b="",c=a.length,e=0;e<c;e++)b+=a[e].key+"-";return b}return""});s.helper("$49",function(a){var b=0;$.each(a,function(a,e){b+=e.quantity||0});return b});s.helper("$50",function(a){if(void 0===a)return"--";var b=a.toString();return-1<b.indexOf(".")?b.substring(0,b.length-2):a});s.helper("$51",function(a){if(_.isNumber(a))return a.toFixed(1)});
s.helper("$52",function(a){return 0==a?"":99<a?"99+":a||""});s.helper("$53",function(a){return 4<a.length?!0:!1});s.helper("$54",function(){return ta});s.helper("$55",function(a){a||(a=[]);var b=0;if(a.length){for(var c=0,e=a.length;c<e;c++)8==a[c].type&&(b+=1);return b?!0:!1}return!1});s.helper("$56",function(a,b,c){a||(a=[]);var e=[];c||(c=5);for(var f=0,g=a.length;f<g;f++)e.push(a[f]);if(ta&&e.length)for(a=0,f=e.length;a<f;a++)8==e[a].type&&e.splice(a,1);if(b){var l,h;e.length>c&&(l=e.splice(0,
c),h=e);return[l,h]}return e});s.helper("$57",function(){return"chwlfwh"==z("channel")});s.helper("$58",function(a){var b="";switch(K(a)){case 0:b="优惠促销";break;case 1:b="系统通知";break;case 2:b="物流通知";break;case 3:b="我的资产";break;case 4:b="售后通知"}return b});s.helper("$59",function(a){var b="";switch(K(a)){case 0:b="a49";break;case 1:b="a4b";break;case 2:b="a4a";break;case 3:b="a4c";break;case 4:b="a4d"}return b});s.helper("$60",function(a,b){var c="",e=a.split(".")[0].length;
360>=v.width()&&4<=e&&b&&(c="a52");return c});s.helper("$61",function(a){return ob(a)});s.helper("$62",function(a,b){if(!_.isArray(a))return null;for(var c=!1,e=0;e<a.length;e++)if(a[e]&&"13"==a[e].type){c=!0;break}if(c)return b});s.helper("$63",function(a){a||(a={});return!(a.cartNum&&0<a.cartNum||a.incartCount&&0<a.incartCount)});s.helper("$64",function(){return"LID:"+(Manager.addLinkid.i+2)});s.helper("$65",function(a){var b=Ea(),c={kefu:"javascript:void(0)",fankui:"#feedBack"};
if(a&&-1!=b.indexOf("jdapp"))"4.4.0"<=b.split(";")[2]&&(c.kefu='openApp.jdMobile://virtual?params={"category":"jump","des":"im","entry":"jd_phone_jddaojia"}');else if(-1!=b.indexOf("jdLocal")){a=a="";if(E)try{a=getCommonParams()}catch(e){a=A("commonParams",b)}else a=window.djJava.getCommonParams();a=JSON.parse(a);a=a.djAppVersion||A("djAppVersion",b);b='openApp.jddj://communication/ddkf?body={"to":"ddkf"}';"3.2.0"<a&&(b='openApp.jddj://communication/ddkf?body={"to":"jimi"}');c.kefu=b;c.fankui='openApp.jddj://communication/feedback?body={"to":"feedback"}'}return c});
s.helper("$66",function(a){return Ub(a)});s.helper("$67",function(a){return Wc(a)});s.helper("$68",function(){return C.hasAuthCookie()?"on"==la.getItem("showFaxianTab")||window.showFaxianTabFromApi?!0:!1:!1});s.helper("$69",function(a,b){var c=v.height()/2;return b>c?260/b*100+"%":1.2<a/b?"100%":"50%"});s.helper("$70",function(){return _.isNumber(window.unReadFeedNum)&&0<window.unReadFeedNum?window.unReadFeedNum:!1});s.helper("$71",function(a){return{0:"unreach",1:"ing",2:"ok",4:"fail"}[a]||""});
s.helper("$72",function(a){var b=v.width()||320;return 63*(a||0)>0.92*b-15?!0:!1});s.helper("$73",function(a,b){if(!a||!a.length)return!1;var c=a[a.length-1],e;if(b){(e=b)||(e={});var f=[],g;for(g in e)f.push(e[g]);e=f[f.length-1]}else e=null;f=null;e&&e.length&&(f=e[e.length-1].tags);return(1==c.skuState||3==c.skuState)&&c.skuStateName||c.promotionTip||f&&f.length?!0:!1});s.helper("$74",function(a){return Vb(a)});s.helper("$75",function(a){return v.width()-90-7-6-10-12*a.toString().length});s.helper("$76",
function(a,b){var c=((b||{}).singleGiftMap||{})[a];return c&&c.length?c:null});s.helper("$77",function(a){var b=a||"";360>=v.width()&&0<=b.indexOf("-")&&(b=a.replace("：","：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"));return b});s.helper("$78",function(){return window.hasWaitPayOrder});s.helper("$79",function(){return!1});s.helper("$80",function(a){a||(a={});var b=[];b.push(a);return b});s.helper("$81",function(a){a||(a={});return[_.extend(a.counponParams||{},a.counponTransfer)]});s.helper("$82",
function(a){a||(a={});a=a.data||[];for(var b=[],c=0,e=a.length;c<e;c++){var f={};f.floorCellData=a[c];b.push(f)}return b});s.helper("$83",function(a){var b=window.location.protocol,c=window.location.host;if(a&&a.params&&a.params.url&&a.params.url.match(/activity\/reportActivity\/index\.html/i))return a=A("tbactId","?"+a.params.url.split("?")[1]),b+"//"+c+"/html/index.html?fenxiang=true#activityPage/actNativeId:"+a;if(a&&a.params&&a.params.url&&-1!=a.params.url.indexOf("activityPage"))return a.params.url.split("?")[0]+
"?fenxiang=true&"+a.params.url.split("?")[1];if("activityDetail"==a.to)return b+"//"+c+"/html/index.html?fenxiang=true#activityPage/actNativeId:"+(a.params&&(a.params.activityId||a.params.id))});s.helper("$84",function(a){return{goodsDetails:"sku_cart_sku_20160908",storeGoodsSearchNew:"store_search_cart_sku_20160908",storeHome:"store_cart_sku_20160908",storeHomeFast:"store_cart_sku_20160908"}[a]||"store_cart_sku_20160908"});s.helper("$85",function(a){return!!(((a||{}).currentLocationStores||{}).cartResults||
[]).length});s.helper("$86",function(a){return!!(((a||{}).otherLocationStores||{}).cartResults||[]).length});s.helper("$87",function(a){$.each(a,function(b,c){c.floorCellData&&c.floorCellData.params&&c.floorCellData.params.url&&-1!=c.floorCellData.params.url.indexOf("dadawxball=1")&&a.splice(b,1)});var b=[];if(10>=a.length){var c={};c.data=a;b.push(c)}else for(var e=a||[],f=e.length,g=0<f%10?K(f/10+1):f/10,l=0;l<g;l++)c={},c.data=l==g-1?e.slice(10*l,f):e.slice(10*l,10*(l+1)),b.push(c);return b});
s.helper("$88",function(){var a=oa(A("djAppVersion",window.navigator.userAgent),10),b="none";if(O&&3.6<=a||I||P)b="block";return b});s.helper("$89",function(){var a=!1;if(O||I||P)a=!0;return a});s.helper("$90",function(){var a=!1;I&&(a=!0);return a});s.helper("$91",function(a){var b;try{b=-1!=document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")?!0:!1}catch(c){b=!1}return b?a+".webp":a});s.helper("$92",function(a){return 9999<a?"9999+":a});s.helper("$93",function(a,b){var c=
"browser";P?c="wx":I&&(c="jd");return a.replace("${source}",c)});s.helper("$94",function(){return 30*v.width()/750});s.helper("$95",function(){return!0});s.helper("$96",function(a,b,c,e,f){if(!a||!b)return"";c?e?(c=v.width(),a=b/a*c):(c=v.width(),a=c/750*360):a&&b?(c=v.width()-20,a=b/a*c):(c=v.width()-20,a=c/710*232);return a});s.helper("$97",function(a,b,c){c=c||1;return v.width()/c/a*b});s.helper("$98",function(a,b,c){a=v.width()/a*b;return 4>=c?a+75:a+168});s.helper("$99",function(a){var b=[];
a=a||[];for(var c=a.length,e=0<c%8?K(c/8+1):c/8,f=0;f<e;f++){var g={};g.data=f==e-1?a.slice(8*f,c):a.slice(8*f,8*(f+1));b.push(g)}return b});s.helper("$100",function(a,b,c){return c?(c=W(c),"#storeHome/storeId:"+a+"/orgCode:"+b+"/formFenxiang:false/res_unit:"+c.res_unit+"/res_type:"+c.res_type+"/unit_index:"+c.unit_index):"#storeHome/storeId:"+a+"/orgCode:"+b+"/formFenxiang:false"});s.helper("$101",function(a){a=W(a);return"/unit_index:"+a.unit_index+"/res_type:"+a.res_type+"/res_unit:"+a.res_unit});
s.helper("$102",function(a){a=String(a).split(" ");var b="";a&&a[0]&&(b=String(a[0]));return b});s.helper("$103",function(a,b){a&&b&&n(a)});s.helper("$104",function(a){if(a.length){var b=0,c=a.length||1;a.forEach(function(a){a=v.width()/c/a.imgWidth*a.imgHeight;a>=b&&(b=a)});return b}});s.helper("$105",function(a){return v.width()-a});s.helper("$106",function(a){a=a||[];var b,c;1==a.length?b='<span><i class="lk">¥</i>'+a[0].price/100+"×"+a[0].quantity+"</span>":a.forEach(function(a){1==
a.promotionType?b='<span><i class="lk">¥</i>'+a.price/100+"×"+a.quantity+"</span>":c='<span style="color: #ff5757"><i class="lk">¥</i>'+a.price/100+"×"+a.quantity+"</span> / "});return"<div>"+(c||"")+b+"</div>"});s.helper("$107",function(a){return"{}"==JSON.stringify(a)});s.helper("$108",function(){return t.getLocalCurrent()&&t.getLocalCurrent().longitude?!0:!1});s.helper("$109",function(a){return a.floorCellData&&a.floorCellData.params&&a.floorCellData.params.url&&-1!=a.floorCellData.params.url.indexOf("dadawxball=1")?
!1:!0});s.helper("$110",function(){var a=window.location.hash.split("/")[0].replace("#","");return"storeHome"==a||"purchTickets"==a?!0:!1});s.helper("$111",function(){var a=window.location.hash.split("/")[0].replace("#","");return"storeHome"==a||"storeGoodsSearchNew"==a||"indexSearchToStore"==a||"purchTickets"==a?!0:!1});s.helper("$112",function(a){return v.width()-K(a)+"px"});s.helper("$113",function(a){return a&&"-1"==a.indexOf("#")?"#"+a:a&&"0"==a.indexOf("#")?a:"#000000"});s.helper("$114",function(a){return K(a)});
s.helper("$115",function(){return($(window).width()-25)/2+"px"});s.helper("$116",function(a){return 1==a?"allWhiteBorder":2==a?"allGreyBorder":3==a?"halfWhiteBorder":""});s.helper("$117",function(a,b){return _.extend(a,{address:b})});s.helper("$118",function(){return 320>=K($(window).width())?!0:!1});s.helper("$119",function(a,b){return a[b]});s.helper("$120",function(a){if(a&&0<a.indexOf(".")){var b=a.split(".");if("webp"==b[b.length-1])return b.pop(),b.join(".")}return a});s.helper("$121",function(a){return"￥"+
(a/100).toFixed(1)});var Wa,qa=ba.View.extend({},{extend:function(a){var b=a.borrow;_.isString(b)&&(b=[b]);if(_.isArray(b)){for(var c=b.length,e=0;e<c;e++)_.extend(a,Q[b[e]]);delete a.borrow}return ba.View.extend.apply(this,arguments)}});ViewMethod={define:function(a,b){var c=b.borrow;if(_.isString(c)){var e=ViewMethod.map[c];if(e)b=_.extend(_.clone(e),b);else{ViewMethod.callbacks[c]||(ViewMethod.callbacks[c]=[]);ViewMethod.callbacks[c].push(function(){ViewMethod.define(a,b)});return}}this.map[a]=
b;for(var c=this.callbacks[a]||[],e=c.length,f=0;f<e;f++)c[f]();this.callbacks[a]=[]},map:{},callbacks:{}};View=ba.View.extend({tagName:"section",setContentView:function(a){this.el.innerHTML=a},setTitle:function(a){},_leave:function(a){if(this.leave)return this.leave(a)}},{extend:function(a){var b=a.name,c=a.borrow;c&&!_.isArray(c)&&(c=[c]);if(_.isArray(c)){for(var e={},f=c.length,g=0;g<f;g++){var l=c[g],h="string"===typeof l?ViewMethod.map[l]:l;if(h)_.extend(e,h);else{ViewMethod.callbacks[l]||(ViewMethod.callbacks[l]=
[]);ViewMethod.callbacks[l].push(function(){View.extend(a)});return}}delete a.borrow;a=_.extend(e,a)}c=ba.View.extend.apply(this,arguments);b&&(this.activities[b]=c);return c},activities:{}});Manager=_.extend({setConfig:function(a){this.pageContainer=a.pageContainer;$(document.body).on("click","a",function(a){var c=a.currentTarget.getAttribute("href");c&&"#"==c.charAt(0)&&-1===c.indexOf("/LID:")&&(a.preventDefault(),a=xa(),Manager.goTo({hash:c,oldHash:a,fromClickEvent:!0}))});return this},setDefaultPage:function(a){this.default_route=
a},start:function(){this.setToReady();this.addHashchangeListener();return this},setToReady:function(){this.routeReady=!0},setToUnready:function(){this.routeReady=!1},routeReady:!1,hist:[],addHashchangeListener:function(){var a=this;window.addEventListener("hashchange",function(b){var c=xa(b.oldURL).trim();b=xa(b.newURL).trim();var e=b.match(/\/LID:(\d+)/i),f;e&&e[1]&&(f=e[1]);f=f&&Manager._transfer_data&&Manager._transfer_data[f];delete Manager._transfer_data;if(a.ignoreHashIn288ms){var e=a.ignoreHashIn288ms.time,
g=(new Date).getTime(),l=a.ignoreHashIn288ms.hash;if(288>g-e&&l===b)return}Manager.goTo({hash:b,oldHash:c,data:f?f:null,fromHashchangeEvent:!0})},!0)},addLinkid:function(a){var b=Manager.addLinkid;if(!a||!_.isString(a))return a;var c="/"==a.charAt(a.length-1)?"":"/",b=b.i?++b.i:b.i=1;return a+c+"LID:"+b},useMaxLinkid:function(a){_.isNumber(a)&&(!Manager.addLinkid.i||a>Manager.addLinkid.i)&&(Manager.addLinkid.i=a+1);return Manager.addLinkid.i},findInHist:function(a){for(var b=this.hist||[],c=b.length,
e,f=1;f<c;f++)if(e=b[f],e.hash==a)return{record:e,step:f}},goTo:function(a){a||(a={});if(void 0===a.hash)return!0;var b=a.fromHashchangeEvent,c=$.trim(jb(a.hash,"#")),e=a.entrancepage;e?this.entrancepage=c:a.oldHash||(a.oldHash=xa());b&&""===c&&(c=jb(A("h5hash"))||"");var f,g,l,h;l=c.indexOf("/");-1===l?(f=c,g=""):(f=c.substring(0,l),g=c.substring(l+1));h=ea(g);f||(f=this.default_route||"index");var B=this,n=this.addLinkid;l=this.hist;var F=this.current,r,s,t,u={},w,x=f;F?(t=F.view,r=t.$el,s=F.route):
F={};if(!this.routeReady)if(b&&_.isString(c)&&x!==s)this.trigger_navigationEndHandler&&this.trigger_navigationEndHandler(),a.animation="fade";else return!1;if(x===s)a.hash!==F.arg_hash&&(t&&t.onhashchange&&t.onhashchange(c,a.oldHash),B.trigger("change:arg",x),F.arg_hash=a.hash);else{var p,z=this.findInHist(c);if(b&&z){p=z.step;u=z.record;if((w=u.view)&&w.from&&_.isFunction(w[w.from[s]])&&t&&_.isFunction(t.returnData))w[w.from[s]](t.returnData(),s);w.backin&&w.backin({from:s});B.trigger("backin",x,
s)}t&&t._leave({is_goback:p});(z=(z=c.match(/\/LID\:(\d+)\b/))&&z[1]?K(z[1]):void 0)?this.useMaxLinkid(z):b||e||(c=n(c));delete this.ignoreHashIn288ms;b||a.fromPopstate||(this.ignoreHashIn288ms={time:(new Date).getTime(),hash:c},c&&!e&&(a.replace?location.replace("#"+c):location.hash=c));b=null;n=((t||{}).give||{})[f];"function"===typeof n&&(b=n.call(t));if(w||this.hasactivity(f)||window.daojia_separate_tpl){if(delete this._waiting_mode,u.view||(u.view=this.createView(_.extend({route:f,query:g,from:F.route,
queryParam:h,givedata:b},a))),u.view){!u.view.el.parentNode&&this.pageContainer.appendChild(u.view.el);w=u.view.$el;B.current={view:u.view,animation:void 0,route:x,hash:c||"",arg_hash:a.hash,isentrancepage:e};this.setToUnready();B=this;c=v.scrollTop();t&&(F.wScrollTop=c);w.addClass("current");r&&r.removeClass&&r.removeClass("current");if(p){for(r=0;r<p;r++)l[r].view.remove();for(r=0;r<p;r++)l.shift();u&&"wScrollTop"in u&&v.scrollTop(u.wScrollTop)}else{p=l.length;if(3<p){for(r=3;r<p;r++)l[r].view.remove();
l.length=3}l.unshift(B.current)}B.trigger("change:to",x,s);B.setToReady();a.complete&&a.complete(f);return!0}}else this._waiting_mode=!0,this._callback||(this._callback={}),this._callback[c]=a,this.listenTo(this,"doneload",function(){var a=xa()||A("h5hash"),a=B._callback[a];B._waiting_mode&&a&&B.goTo(a)})}},createView:function(a){var b=View.activities[a.route];if(b)return new b(a)},hasactivity:function(a){return View.activities[a]?!0:!1},createVirtualSection:function(a){var b=document.createElement("section");
a&&(b.className="current");this.pageContainer.appendChild(b);return b}},ba.Events);var Q=Q||{};Q.ColumbusActivity={changeFocus:function(a){var b=this,c=$(a.currentTarget),b=this;if(c.hasClass("isSending"))return!1;c.addClass("isSending");Ia(b,{isFollow:!0,storeId:b.storeId}).done(function(a){b.storeInfo.isFollow=!0;b.$(".sh").html(h("l")({result:b.result})).removeClass("sq");b.$(".ss").removeClass("js-store-act-extend");n("关注成功！")}).fail(function(a){"network"==
a.type?n("网络异常，请稍后再试[0001]"):201==a.code?X():n(a.msg)}).always(function(){c.removeClass("isSending")})},insertGoShopFragment:function(a,b){var c=this,e=document.createElement("div");this.$el.append(e);c.minicart=new J.minicart({el:e,storeId:c.storeId,orgCode:c.orgCode,showup:!1,storeName:c.storeInfo.storeName,openJPIndustry:c.storeInfo.industry,view:c});c.listenTo(c.minicart,"add",function(a){c.$(".add").each(function(b,c){$(c).attr("_skuid")==a&&Ga(c)})}).listenTo(c.minicart,"minus",function(a){c.$(".reduce").each(function(b,
c){$(c).attr("_skuid")==a&&ya(c)})}).listenTo(c.minicart,"clear",function(){c.$(".Box").each(function(a,b){$(b).find(".reduce").removeClass("show").addClass("hide");$(b).find("label").removeClass("show").addClass("hide").html("0")})})},addGoods:function(a){this.timeTag=(new Date).getTime();ua(a,this.minicart)},cutGoods:function(a){this.timeTag=(new Date).getTime();Sa(a,this.minicart)},setWXShareText:function(a){var b=window.location.href,c=this.storeInfo.imgUrl,e={title:"您的好友给您分享了一个店铺活动，快来看看吧",desc:"京东到家，超值促销活动，优惠多多，抢购了！",
link:b,imgUrl:c};a&&(e={title:a.title&&"undefined"!=a.title?a.title:"您的好友给您分享了一个店铺活动，快来看看吧",desc:a.words||"京东到家，超值促销活动，优惠多多，抢购了！",link:a.shareUrl||b,imgUrl:a.imgUrl||c});return e},backInFun:!0,activityCoupons:function(a){this.backInFun=!1;$target=this.$(a.currentTarget);a=new J.redPack({couponCode:$target.attr("couponCode"),pageFrom:"activity"});this.$(".scrolling").before(a.el)}};Q=Q||{};Q.shareOperate={getLocatePosition:function(a,b,c){var e=this;a=a||{};return $.Deferred(function(f){var g=t.getLocalCurrent();
g&&g.title&&g.isFromCookie?e.cityIsOpen(g,!1).done(function(a){f.resolve(a)}).fail(function(){b?b():e.setContentView(h("g0")({msg:"当前城市未开通服务[0001]",type:a.type||"",allPage:!0}))}):sa(!1).done(function(c){e.cityIsOpen(c,!0).done(function(a){f.resolve(a)}).fail(function(){b?b():e.setContentView(h("g0")({msg:"当前城市未开通服务[0001]",type:a.type||"",allPage:!0}))})}).fail(function(){c?c():x({hash:a.hash||"#indexaddress",keep:!0,animation:"up",data:{currentaddress:{}}})})})},cityIsOpen:function(a,
b){return $.Deferred(function(c){a.needMatch=1;Fa(a).done(function(e){b?(e=t.formatAddressData(e),t.saveLocalCurrent(e),c.resolve(e)):c.resolve(a)}).fail(function(a){c.reject(a)})})},editAddressHead:function(a,b,c,e){e=e||"";b=b||"";c=c||"";0==a.$(".storeHead").length?(a.$el.prepend(h("fe")({address:b,addressId:c,type:e})),a.$(".scrolling").addClass("topAddress")):(a.$(".send_to").text("配送至："+b),c&&a.$(".edit_addr").attr("href","#indexaddress/addressId:"+c+"/type:"+e))},checkTwoAddressDistence:function(a,
b,c){var e=this;C.fetchAddressList(!1).done(function(f){f=f[0];fd(e,{coordinateFrom:{longitude:b.longitude,latitude:b.latitude},coordinateTo:{longitude:f.longitude,latitude:f.latitude}}).done(function(e){e||(a.$el.append(h("q")({address:b.title,addressId:b.id,type:c||""})),$(window).on("touchmove",function(a){a.preventDefault()}))})})},closeAddressForm:function(){$(window).off("touchmove");this.$(".address_form").remove()}};Q=Q||{};Q.storeHomeView={backin:function(){va.trigger("toTop:stop")},
leave:function(){this.unbindResize();clearTimeout(this.TimerAdd);this.adTimer&&clearInterval(this.adTimer);va.trigger("toTop:start");$(".a97").length&&$(".a97").fadeOut()},shopCartRefresh:function(){var a=this;this.minicart&&this.minicart.fetchAll({renderType:"separate"}).done(function(b,c){for(var e={},f=(b||{}).itemList||[],g=f.length,l=0;l<g;l++)for(var h=(f[l]||{}).skuList||[],B=0;B<h.length;B++){var n=h[B];e[n.skuId]=n}a.$(".ri li[_goodsid]").each(function(a,
b){var c=$(b),f=c.attr("_goodsid"),f=e[f]?e[f].cartNum:0,c=c.find(".Box label").html(f).add(c.find(".Box .reduce"));0>=f?c.removeClass("show").addClass("hide"):c.removeClass("hide").addClass("show")})});setTimeout(function(){window.scrollTo(1,1);a.setWeixin(a.openStatus)},10)},bindStoreTitle:function(){this.$(".a0j,.we,.a1e,.supermarket-bottom-cart-warp,.a01").bind("touchstart",function(a){a.stopPropagation()}).bind("touchmove",function(a){a.preventDefault();
a.stopPropagation()})},unbindScroll:function(){this.$(".a24").unbind("scroll")},unbindStoreTitle:function(){this.$(".a0j").unbind("touchstart touchmove")},fixedFun:function(){var a=this;a.chooseCateFlag=!1;a.$(".a21").hide();a.$(".a23").length&&(a.$(".a23").removeClass("isShow"),a.$(".a24").removeClass("a1a"));setTimeout(function(){a.$el.addClass("a2h");a.hasfixedWrap=!0},10)},cancleFixed:function(){var a=
this;a.$(".a21").show();var b=a.$(".a23");b.hasClass("initShow")&&(b.addClass("isShow"),a.$(".a24").addClass("a1a"));setTimeout(function(){a.$el.removeClass("a2h");a.hasfixedWrap=!1;a.topClick=!1},10);$("[clicktotop]").hide()},bindScroll:function(){var a=this,b={},c=a.$(".a24"),e=function(a){for(var b=[],c=null,e=0,h=a.touches.length;e<h;e++)c=a.touches[e],b.push({x:c.pageX,y:c.pageY});return b};c.bind({touchstart:function(a){a.stopPropagation();
b.startY=e(a)[0].y},touchmove:function(c){c.stopPropagation();b.moveY=e(c)[0].y;c=a.disY=b.moveY-b.startY;a.searchLinkageFlag&&a.swipeActiveCate(0>=c?!0:!1)},touchend:function(e){e.stopPropagation();b.endY=e.clientY||e.changedTouches[0].pageY;a.disY=b.endY-b.startY;b.endTime=(new Date).getTime();a.fastSwipe=150>=b.endTime-b.startTime?!0:!1;c.bind("scroll",_.debounce(a.calculateLayout.bind(a),150))}})},backInClearGoodsList:function(){this.$(".a1d").children().not(".ct").remove()},
chooseCate:function(a){a?a.stopPropagation():window.event.cancelBubble=!0;var b=this;a=$(a.currentTarget);var c=null,e=a.parents(".a10"),f=e.find(".a16");b.hasLeftClick=!0;b.topClick=!1;b.chooseCateFlag=!0;$("[clicktotop]").hide();if(b.fromAnchor){if(!b.renderCateFirst&&a.hasClass("active")&&a.hasClass("a15")||!b.renderCateFirst&&a.hasClass("active")&&a.hasClass("a13"))return}else if(a.hasClass("active")&&a.hasClass("a15")||
a.hasClass("active")&&a.hasClass("a13"))return;if(a.hasClass("a13"))if(c=a.next().find(".a15"),e.siblings().removeClass("a14").removeClass("a18"),0==c.length)b.$("[category]").removeClass("active"),c=a,e.addClass("a18"),b.$(".a16").animate({height:0},400,"linear");else{if(e.hasClass("a14")){f.animate({height:0},400,"linear",function(){e.removeClass("a14").addClass("a18")});
c=b.$(".a0z").find(".active");return}e.addClass("a14").removeClass("a18");b.$(".a16").animate({height:0},400,"linear");f.animate({height:47*c.length+"px"},400,"linear",function(){});0==a.next().find(".active").length?(b.$("[category]").removeClass("active"),c=c.eq(0)):c=b.$(".a0z").find(".active")}else a.hasClass("a15")&&(b.$("[category]").removeClass("active"),b.$(".a10").removeClass("a14"),
e.addClass("a14"),c=a);c.addClass("active");b.catId=c.attr("_catId");b.promotLable=c.attr("promotLable");if(b.searchLinkageFlag){if(b.searchLinkageFlag&&!b.renderCateFirst)return b.scrollToClient(),!1;b.bindScroll();b.bindStoreTitle()}else b.chooseCateName=c.attr("catName"),b.activityId=c.attr("activityId")||"",b.skuId=c.attr("skuId")||"",b.topZeroNum=0;b.backInClearGoodsList();b.getGoodList(a);setTimeout(function(){b.chooseLeftCate();b.searchLinkageFlag&&b.fromAnchor&&b.renderCateFirst?
b.scrollToClient():b.searchLinkageFlag&&b.renderCateFirst&&b.$(".cateTitle").eq(0).addClass("js-showCate");b.renderCateFirst=!1},400)},setWeixin:function(a){a||(a={});var b=a.storeName,c=a.storeDesc,e=a.storeShareUrl;a=a.logoUrl;var f=A("channel")||"",f=window.location.protocol+"//"+window.location.host+"/activity/storeShare/index.html?storeId="+this.storeId+"&orgCode="+this.orgCode+"&channel="+f+"&appVersion="+appVersion;fa({title:b||"好友为你分享一个好店",desc:c||"京东到家，为你而来，足不出户，即刻到家！",link:e||f,imgUrl:a})},
getCoupon:function(a){var b=this,c=$(a.currentTarget),e={code:c.attr("_couponCode"),fromSource:"2",storeNo:b.storeId,operType:c.attr("_operType"),isFans:c.hasClass("fans")?"1":"0",needCouponGo:!0};if(!(c.hasClass("a31")&&1>=(b.result.coupons||[]).length))if(c.hasClass("moreCoupon"))e=new J.redPack({coupons:b.result.coupons||[],storeInfo:b.result.storeInfo||{},pageFrom:"store"}),b.$(".a94").length||b.$(".scrolling").before(e.el),b.$(".a94").show();else if(!c.hasClass("coupon-type-0")&&
!c.hasClass("aex")){var f=b.$(".a25").find("[_couponcode='"+c.attr("_couponCode")+"']");c.hasClass("isSending")||(c.addClass("isSending"),ub(b,e).done(function(a){b.couponStatus(f,"received",a);f.hasClass("fans")?b.$(".a1v").addClass("a1y").attr("data-focus",1):"";1==c.attr("_isshowlayer")&&(a=h("fq")({coupon:a[0]||{}}),b.$(".content").append(a),b.$(".a33").fadeIn(),setTimeout(function(){b.$(".a33").fadeOut().remove()},
1E3),a="background"==c.attr("type")?"background":"shelflayer",lg("user_action","1.0",{clickid:"randomcouponflash",from:a}))}).fail(function(e){201==e.code?w(ab()):"COUPON_OUTOF_RANGE"==e.detail||"NO_USABLE_COUPON"==e.detail?b.couponStatus(f,"noenough"):"AC3600"==e.code?(lg("user_action","1.0",{store_id:b.storeId,coupon_id:c.attr("_couponCode"),click_name:"fan_coupons"}),N({title:"提示",msg:e.msg,button:[{text:"取消",callback:function(){lg("user_action","1.0",{store_id:b.storeId,coupon_id:c.attr("_couponCode"),
click_name:"fan_coupons_cancel"})}},{text:"关注并领取",callback:function(){lg("user_action","1.0",{store_id:b.storeId,coupon_id:c.attr("_couponCode"),click_name:"fan_coupons_get"});c.attr("_operType","2");b.getCoupon(a)}}]})):("AC3601"==e.code&&c.attr("_operType","1"),n(e&&e.msg))}).always(function(){c.removeClass("isSending")}))}},couponStatus:function(a,b,c){var e,f,g=this,l=g.result.coupons||[];c=c||[];if("received"==b){c.length&&(c[0].toUse?(e="aex coupon-type-gain1",f="去使用",a.find("a").attr("href",
lb(c[0].to,c[0].params))):(e="aex",f="已领取"));b=function(){l.map(function(b){if(b.couponCode==a.attr("_couponCode"))return b.isGain=!0})};var q=function(){1==l.length&&c[0].toUse||setTimeout(function(){g.closeCouponPoup()},0)};"storeHomeInfo"==a.attr("_type")?q():1<l.length?b():q()}else"noenough"==b&&(e="coupon-type-0",f="已抢光",l.map(function(b){if(b.couponCode==a.attr("_couponCode"))return b.soldOut=!0}));a.find(".af0").html(h("h9")({coupons:c[0]}));a.addClass(e).find(".a32").text(f)},
storeShowLoading:function(a){a||(a={});a.page>=a.count/10?this.hasNextPage=!1:this.preventMore=!1;this.$(".ct")[this.hasNextPage?"addClass":"removeClass"]("cv")},loadStores:function(a,b,c){this.$(".wd").remove();this.hasNextPage||0==c||(this.$(".ri").append(h("ar")({showmsg:"去看看其他分类吧"})),this.$(".wd").show());this.isLoading=!1},addGoods:function(a){clearTimeout(this.TimerAdd);this._cart_changed_=!0;this.timeTag=
(new Date).getTime();ua(a,this.minicart);this.jdAppGuideCart();var b=$(a.currentTarget);-1<b.attr("onclick").indexOf("autoaddcart")&&(this.TimerAdd=setTimeout(function(){b.attr("onclick",function(a,b){var f=b.indexOf("autoaddcart");return b.substring(0,f-1)+'"autoaddcart":"0"})'})},2E3))},cutGoods:function(a){this._cart_changed_=!0;this.timeTag=(new Date).getTime();Sa(a,this.minicart)},bindResize:function(){var a=function(){var a=v.width()-201;$(".storeHomeNew .sf").css("max-width",a+
"px")};$(window).bind(this.resizeEvt,a);a()},unbindResize:function(){$(window).unbind(this.resizeEvt)}};Q=Q||{};Q.storeHome_normal={events:{"click [category]":"chooseCate","click .ge,.go,.storeSearchCart":"addGoods","click .a25 li":"getCoupon","click .a0j,.xl,.a0r":"sliderDown","click .a0v":"sliderUp","click .reduce":"cutGoods","click .a1v":"changeFocus","click .a7s":"closeGuide",
"click .abTest":"triggerAddGoods",'click [node-type="store-checkStoreActivity"]':"checkStoreActivity","click .a0j":"goNewStoreDetail","click .a7z":"closeCouponPoup","click .a3j .a3n":"closeGuidelist","click .a3g li":"switchStore","click .conponLinksWrap":"conponLinksWrap","click .y5":"viewRoload"},initialize:function(a){function b(a){f.isFenxiang&&(fenxiang=f.isFenxiang);c.latitude=a.latitude;c.longitude=a.longitude;
fenxiang&&"storeHome"==sharePage?(fenxiang=!1,a=A("channel")||"",w(window.location.protocol+"//"+window.location.host+"/activity/storeShare/index.html?storeId="+c.storeId+"&orgCode="+c.orgCode+"&channel="+a+"&appVersion="+appVersion)):c.fetchStoreInfo({storeId:c.storeId,skuId:c.skuId,activityId:c.activityId,promotionType:c.promotionType,longitude:a.longitude||0,latitude:a.latitude||0},c.options.entrancepage)}var c=this;this.options=a;var e=(a||{}).query||"",f=a.queryParam;c.storeId=f.storeId||a.storeId||
(""==e?u.getItem("entrancepage-storeId"):"");c.catId=f.catId||"";c.promotLable=f.promotLable||"";c.isStoreHome=f.isStoreHome||"";c.fromAnchor=f.fromAnchor||"";c.skuId=f.skuId||"";c.promotionType=f.promotionType||"";c.activityId=f.activityId||"";c.sourceFrom=a.from;c.timeTag=(new Date).getTime();c.overIsShow=f.formFenxiang||"false";c.page=1;c.hasNextPage=!0;c.hasGoodsShop=f.hasGoods||"";c.isLoading=!1;c.shared=f.shared||"";c.searchResult=!1;c.fastStoreList=!1;c.fastSending=!1;a=u.getItem("HomeFastData");
c.needAddCart=f.needAddCart||"";c.TimerAdd=null;c.key="";a&&(c.fastData=a,c.storeId=a.storeInfo.storeId||"");c.adTimer=null;this.setContentView(h("dx")({loading:!0}));c.daojiaStoreRender={};c.daojiaStoreRender.startLoad=(new Date).getTime();c.daojiaStoreRender.storeId=c.storeId;da?(a=A("longitude"),e=A("latitude"),a={longitude:a,latitude:e},ja(a)?(b(a),t.saveLocalCurrent(a)):(a=t.getLocalCurrent()||{},b(a))):(a=t.getLocalCurrent()||{},"storeHomeFast"!=this.name||a.longitude?b(a):t.getCurrentUse().done(function(a){b(a)}).fail(function(a){n((a||
{}).msg||"定位失败，请检查GPS！[0001]")}));c.resizeEvt="orientationchange"in window?"orientationchange":"resize"},from:{goodsDetails:"shopCartRefresh",giftActivity:"shopCartRefresh",storeActivityPage:"shopCartRefresh",storeGoodsSearchNew:"shopCartRefresh",shopSettlement:"settleErrorHandler",settlementGoods:"settleErrorHandler"},leave:function(){u.removeItem("HomeFastData")},settleErrorHandler:function(a,b){var c=this;setTimeout(function(){window.scrollTo(1,1);c.minicart&&c.minicart.settleErrorHandler(a,b)},
10)},addSearchResult:function(a){var b=this;if(-1<window.location.hash.indexOf("key")){var c=window.location.hash.split("key")[0];window.location.hash=c+"key:"+encodeURI(a)}else window.location.hash=window.location.hash+"/key:"+encodeURI(a);a&&b.cateList&&(b.cateList[0].hasSearchResult&&b.cateList.shift(),b.cateList.unshift({key:a,parentId:"0",title:"搜索结果",ispromotcat:!1,user_action:"",openCatetory:!1,hasSearchResult:!0}),a=h("fn")({cateList:b.cateList}),b.$(".a0z").remove(),
b.$(".a1f").prepend(a),setTimeout(function(){b.$(".a13").eq(0).addClass("isFirstCate").trigger("click")},100))},conponLinksWrap:function(){var a=new J.redPack({coupons:this.result.coupons||[],storeInfo:this.result.storeInfo||{},pageFrom:"store"});this.$(".a94").length||this.$(".scrolling").prepend(a.el);this.$(".a94").show()},closeCouponPoup:function(){var a=this;Ud(a,{storeId:a.storeId,orgCode:a.orgCode}).done(function(b){b=b||{};a.result.coupons=
b.coupons||[];b=h("h7")({coupons:b.coupons,cPkg:b.cPkg,storeInfo:b.storeInfo||"",from:"new",type:"storeHome"});a.$(".a23 .a0u").remove();a.$(".a23").prepend(b);a.$(".a2b").length&&a.$(".a2b").removeClass("a2c")}).fail(function(a){}).always(function(){a.$(".a94").fadeOut().remove()})},ajaxStoreData:function(a,b){var c=this;"storeHomeFast"==c.name&&(Ic=!0);1!=a.isRecomStore&&"storeHomeFast"!=
this.name||c.fastStoreList||c.ajaxStoreList(b);c.daojiaStoreRender.endStoreDetialAPI=(new Date).getTime();a||(a={});c.result=a;a.storeInfo||(a.storeInfo={});a.storeInfo.storeDesc=a.storeDesc;a.storeInfo.storeShareUrl=a.storeShareUrl;c.setWeixin(a.storeInfo);c.allStoreInfo=a;c.orgCode=a.storeInfo.orgCode;if(3==a.storeInfo.stationStatus)c.setContentView(h("fs")({other_tip_bg:"yp",msg:"此门店已下线，去首页逛逛吧！",hideBtn:!0}));else{c.setTitle((a.storeInfo||{}).storeName);var e=a.storeInfo||
{};c.showType=e.showType;c.backgroundType=5<e.backgroundType?1:e.backgroundType||5;c.searchLinkageFlag=e.searchLinkageFlag;4==c.showType&&(c.showLargeImg=!0);va.trigger("toTop:stop");va.on("toTop:click",function(){c.topClick=!0;c.partialScrollToTop()});c.renderStoreHome(a)}},ajaxStoreList:function(a){var b=this;a.theWay="index"==b.sourceFrom?"0":"1";r(this,{functionId:"store/getRecommStores",body:{storeId:a.storeId,skuId:a.skuId,activityId:a.activityId,promotionType:a.promotionType,longitude:a.longitude,
latitude:a.latitude,theWay:a.theWay}}).done(function(a){a=a||{};var e=h("cu")({listData:a,storeId:b.storeId});b.$(".a3g").html(e);setTimeout(function(){$.each(a.stores,function(a,c){var e=0;if(b.storeId==c.storeId){for(var h=0,h=a;0<h;h--)e+=b.$(".a3g li").eq(h).width();b.$(".a3g").scrollLeft(e)}})},10);"storeHomeFast"==b.name&&0==a.showTips&&"index"==b.sourceFrom&&b.guideMask()})},fetchStoreInfo:function(a,b){var c=this;c.daojiaStoreRender.startStoreDetialAPI=
(new Date).getTime();c.fastData?c.ajaxStoreData(c.fastData,a):Ua(c,a,b).done(function(b,f){if(1==b.isRecomStore&&"storeHomeFast"!=c.name){var g=c.options.hash,g=g.replace(/storeHome\//,"storeHomeFast/");x({hash:g,data:b,replace:!0})}else c.ajaxStoreData(b,a)}).fail(function(a){c.$(".content").html(h("fs")({msg:a&&a.msg,btnHref:"javascript:;"}))})},renderStoreHome:function(a){var b=this;a=a||{};b.isCart=!0;b.openStatus=a.storeInfo||{};b.cateList=a.cateList||[];b.strategyName="exper3";
var c=!b.searchLinkageFlag&&((a.storeActPageList||[]).length||(a.coupons||[]).length);b.fastStoreList?(c=h("cv")({result:a,shared:b.shared,showZhanwei:c,hasLogin:C.hasAuthCookie(),appVersion:appVersion}),b.$(".storeFastWrap").html(c)):(c=h("storeHomeFast"==this.name?"cw":"fl")({result:a,shared:b.shared,showZhanwei:c,hasLogin:C.hasAuthCookie(),appVersion:appVersion}),b.$(".content").html(c));b.alertUnusualStatus(b.openStatus);"storeHomeFast"!=
this.name&&b.shared&&b.clickDownLoad();b.fastStoreList&&b.$(".a4q").remove();b.insertSearchBarFragment(a.storeInfo.storeName);b.insertGoShopFragment(a,function(){b.$(".a0x").addClass("a1c")});$a(b.$(".a0z").get(0));$a(b.$(".a24").get(0));var e=b.$(".a0z").find(".active");b.fromAnchor&&e.length?(1<e.length&&e.parents(".a10").find(".a13").removeClass("active"),setTimeout(function(){b.fromAnchor&&
(b.promotLable=e.attr("promotLable"),b.catId=e.attr("_catid"),e.attr("activityId",b.activityId),e.attr("skuId",b.skuId));b.$(".a13").eq(0).addClass("isFirstCate");b.renderCateFirst=!0;e.trigger("click")},300)):(b.renderCateFirst=!0,setTimeout(function(){b.daojiaStoreRender.triggerClick=(new Date).getTime();b.$(".a13").eq(0).addClass("isFirstCate").trigger("click")},0));R(b,b.more,".ri li","moreData")},calculateLayout:function(){this.searchLinkageFlag&&
this.swipeActiveCate(0>=this.disY)},gotoTop:function(a,b,c){function e(){clearTimeout(b);if(g<l){g++;var a=Math.ceil(Za(g,h,B,l)),b=setTimeout(e,8)}else g=l,clearTimeout(b);f.scrollTop(a)}var f=b||v,g=0,l=8,h=f.scrollTop(),B=(a?a:0)-h;$("[clicktotop]").hide();e()},partialScrollToTop:function(){var a=this.$(".a24");this.gotoTop(0,a,"toTop")},getGoodList:function(a){this.page=1;this.hasNextPage=!0;this.pushGoods(!1,a)},more:function(){!this.hasNextPage||this.isLoading||this.$(".wg").hasClass("block")||
this.$(".wh").hasClass("current")||this.preventMore||(this.page++,this.pushGoods(!0))},insertSearchBarFragment:function(a){var b=this,c=function(){var c=new J.searchBar({storeSearch:!0,storeName:a,storeId:b.storeId,orgCode:b.orgCode,view:b,pagetype:4==b.showType?2:1,isSearchResult:b.searchResult});b.$(".a1f").before(c.el);setTimeout(function(){var c=new J.searchBar({storeTop:!0,inStore:!0,storeType:b.showType,storeName:a,storeId:b.storeId,orgCode:b.orgCode,view:b,pagetype:4==
b.showType?2:1,isSearchResult:b.searchResult});b.$el.prepend(c.el)},300)};b.fastStoreList?c():0!=b.$(".we").length||b.fastStoreList||c()},insertGoShopFragment:function(a,b){var c=this;if(c.isCart){var e=document.createElement("div");this.$el.append(e);var f=c.hasGoodsShop,f=a.storeInfo.isOverZone?!1:f?!0:!1;c.minicart=new J.minicart({el:e,storeId:c.storeId,orgCode:c.orgCode,showup:1==(a.storeInfo||{}).closeStatus?!1:f,storeName:a.storeInfo.storeName,openJPIndustry:a.storeInfo.industry,
view:c});c.listenTo(c.minicart,"add",function(a){c._cart_changed_=!0;c.$(".ri li").each(function(b,c){$(c).attr("_goodsid")==a&&Ga($(c).find(".add")[0])})}).listenTo(c.minicart,"minus",function(a){c._cart_changed_=!0;c.$(".ri li").each(function(b,c){$(c).attr("_goodsid")==a&&ya($(c).find(".reduce")[0])})}).listenTo(c.minicart,"clear",function(){c._cart_changed_=!0;c.$(".Box").each(function(a,b){$(b).find(".reduce").removeClass("show").addClass("hide");$(b).find("label").removeClass("show").addClass("hide").html("0")})})}else b&&
b()},sliderDown:function(a){if(!$(a.target).hasClass("a1v")&&!$(a.target).parents().hasClass("a1v")&&"storeHomeFast"!=this.name){var b=this;$(a.currentTarget);b.unbindStoreTitle();"block"!==b.$(".a0v").css("display")&&Wb("1",function(){var a=v.height()-18-b.$(".storeHead").height();b.$(".a0r").hide();b.$(".storeHomeNew").css({"min-height":a+"px",position:"relative"});b.$(".a0x").addClass("a1l");b.$(".a4q").hide();
b.$(".a38");b.$(".xa").hide();setTimeout(function(){b.$(".a0x").hide();0==b.$(".a0v").length?b.$(".scrolling").after(h("fm")({})):b.$(".a0v").show()},500)},300)}},sliderUp:function(a){var b=this;b.bindStoreTitle();$(window).scrollTop(0);$(a.currentTarget);Wb("2",function(){b.isScrolling&&b.$el.addClass("a2h");b.$(".a0x").show().removeClass("a1l");setTimeout(function(){b.$(".a0v").hide();
b.$(".a4q").show();b.$(".storeHomeNew").css("position","fixed");b.$(".a0r").show();b.$(".xa").length&&b.$(".xa").show()},500)},300)},alertUnusualStatus:function(a){var b=this;a||(a={});if(a.isOverZone&&"false"==b.overIsShow)"storeHomeFast"!=this.name||this.fastSending?"storeHomeFast"!=this.name&&N({className:"l",msg:"您的定位已超出该店配送区域",button:[{text:'<div clstag="pageclick|keycount|store_superzone_iknown_click_20160729|1">知道了</div>',
callback:function(){b.isCart&&b.hasGoodsShop&&setTimeout(function(){b.minicart.showup()},300)}}]}):setTimeout(function(){lg("user_action","1.0",{clickid:"area_dialog",store_id:""+b.storeId+""});N({className:"l",msg:"您的位置已超出该<br/>门店配送范围",button:[{text:"<div>查看附近店铺</div>",callback:function(){lg("user_action","1.0",{clickid:"see_shop",store_id:""+b.storeId+""});x({hash:"#index"})}},{text:"<div>继续本店购物</div>",callback:function(){lg("user_action","1.0",{clickid:"continue",store_id:""+b.storeId+
""});b.isCart&&b.hasGoodsShop&&setTimeout(function(){b.minicart.showup()},300)}}]})},10);else if(1==a.closeStatus)N({className:"l",msg:'<p style="text-align:center;">门店休息中</p><p style="text-align:center;">暂不接受新的订单</p>',button:[{text:'<div clstag="pageclick|keycount|store_rest_20160815">知道了</div>'}]});else if(da){var c=new J.redPack({channel:"jdsearch",pageFrom:"storehome",coupons:a,view:b});$("div[daojia]").prepend(c.el)}else a.isMembership&&a.storeMember&&a.storeMember.entrancePhoto&&
a.storeMember.membersUrl&&(b.bindResize(),z("memberSignIn")||(Y("memberSignIn",!0),c=new J.redPack({coupons:a,pageFrom:"memberStoreHome",view:b}),$("div[daojia]").prepend(c.el)));da&&lg("user_action","1.0",{is_open_:1==a.closeStatus?"0":"1"})},pushGoods:function(a,b){if(this.isLoading||!this.hasNextPage)return!1;this.isLoading=!0;a||(this.page=1);var c=this.$(".a1d"),e=this.$(".a2g"),f=c.find(".ct");this.$(".ct").addClass("cv");
this.showLargeImg&&c.addClass("a1q");if(!this.searchLinkageFlag||this.searchResult)var g={key:"",catId:this.catId,sortType:this.options.queryParam.sortType||1,page:this.page,promotLable:this.promotLable,storeId:this.storeId,timeTag:this.timeTag};else{for(var g=[],l=0,h=this.cateList.length;l<h;l++)if(this.cateList[l].childCategoryList&&0<this.cateList[l].childCategoryList.length)for(var B=this.cateList[l].childCategoryList||[],n=0,r=B.length;n<r;n++){var s={catId:B[n].catId||B[n].promotLabel,
type:B[n].catId?2:4};g.push(s)}else s={catId:this.cateList[l].catId||this.cateList[l].promotLabel,type:this.cateList[l].catId?1:4},g.push(s);g={catIds:g,storeId:this.storeId,timeTag:this.timeTag}}this.fromAnchor&&(g.skuId=this.skuId);!this.searchLinkageFlag||this.searchResult?this.productCateSearch({data:g,$goodsList:c,$goodsCountWrap:e,$goodsLoading:f,more:a}):this.productAllSearch({data:g,$goodsList:c,$goodsCountWrap:e,$goodsLoading:f,more:a})},changeFocus:function(a){var b=$(a.currentTarget);"storeHomeFast"==
this.name&&(b=$(a.target),b=b.hasClass("a1x")?b.parent():b);if(b.hasClass("isSending"))return!1;b.addClass("isSending");var c=this.$(".js-store-follow"),e=Number(c.html());0==b.attr("data-focus")?(a={isFollow:!0,storeId:this.storeId},Ia(this,a).done(function(a){b.attr("data-focus",1).addClass("a1y").attr("clstag","pageclick|keycount|store_focus_20160815_2");e+=1;c.html(e);n("关注成功！")}).fail(function(a){"network"==a.type?n("网络异常，请稍后再试[0001]"):201==a.code?X():n(a.msg)}).always(function(){b.removeClass("isSending")})):
(a={isFollow:!1,storeId:this.storeId},Ia(this,a).done(function(a){b.attr("data-focus",0).removeClass("a1y").attr("clstag","pageclick|keycount|store_focus_20160815_1");e-=1;c.html(e);n("已取消关注")}).fail(function(a){"network"==a.type?n("网络异常，请稍后再试[0001]"):201==a.code?X():n(a.msg)}).always(function(){b.removeClass("isSending")}))},returnData:function(){return{_cart_changed_:this._cart_changed_}},productCateSearch:function(a){var b=a.data,c=a.$goodsLoading,e=a.$goodsCountWrap,f=a.$goodsList,
g=a.more,l=b.key||"",q=this;q.daojiaStoreRender.startproductCateSearch=(new Date).getTime();vc(q,b).done(function(a){if(g)c.before(h("aw")({List:a.searchResultVOList,skuDate:"store_home_sku",cartaddDate:"click_add",cartreduceDate:"click_reduce",isCart:q.isCart,abTest:da&&("exper2"==q.strategyName||"exper3"==q.strategyName),key:l||""}));else{q.daojiaStoreRender.endproductCateSearch=(new Date).getTime();q.daojiaStoreRender.beforeStoreDetailLoad=q.daojiaStoreRender.startStoreDetialAPI-
q.daojiaStoreRender.startLoad;q.daojiaStoreRender.storeDetailAPI=q.daojiaStoreRender.endStoreDetialAPI-q.daojiaStoreRender.startStoreDetialAPI;q.daojiaStoreRender.afterStoreDetailLoad=q.daojiaStoreRender.triggerClick-q.daojiaStoreRender.endStoreDetialAPI;q.daojiaStoreRender.beforeProductSearchLoad=q.daojiaStoreRender.startproductCateSearch-q.daojiaStoreRender.triggerClick;q.daojiaStoreRender.productCateSearchAPI=q.daojiaStoreRender.endproductCateSearch-q.daojiaStoreRender.startproductCateSearch;e.html(q.chooseCateName||
l?l?"搜索词："+l+"("+(a.count||0)+")":q.chooseCateName+"("+(a.count||0)+")":"全部商品("+(a.count||0)+")");q.showActBanner();a.promptWord?(q.$(".storePromptWrap .searchKey").html(l),q.$(".storePromptWrap .searchPrompt").html(a.promptWord),q.$(".storePromptWrap").show()):q.$(".storePromptWrap").hide();if(a.searchResultVOList&&0==a.searchResultVOList.length){var b=l?"没找到符合的商品<br/>换个关键词试试吧":"没有找到您要的商品[0001]";l&&c.siblings("ul").remove();c.before(h("fw")({msg:b}));q.storeShowLoading(a);return}c.before(h("aw")({List:a.searchResultVOList,
skuDate:"store_home_sku",cartaddDate:"click_add",cartreduceDate:"click_reduce",isCart:q.isCart,abTest:da&&("exper2"==q.strategyName||"exper3"==q.strategyName),key:l||""}));b=a.anchoredProduct||{};if(b.skuId){var n=[];n.push(b);b=h("aw")({List:n,skuDate:"store_home_sku",cartaddDate:"click_add",cartreduceDate:"click_reduce",className:"store_anchoredProduct",isCart:q.isCart,abTest:da&&("exper2"==q.strategyName||"exper3"==q.strategyName),key:l||"",autoaddcart:q.needAddCart?"1":
"0"});q.$(".ri").prepend(b);q.needAddCart&&q.$(".ri li").eq(0).find(".add").trigger("click")}}q.storeShowLoading(a);setTimeout(function(){q.loadStores(f,q.page,a.count);q.daojiaStoreRender.renderProductSearch=(new Date).getTime();q.daojiaStoreRender.afterproductSearchLoad=q.daojiaStoreRender.renderProductSearch-q.daojiaStoreRender.endproductCateSearch;lg("user_action","1.0",{clickid:"storeHome_page_load_20170329",logInfo:JSON.stringify(q.daojiaStoreRender)})},100)}).fail(function(a){a||
(a={});q.$(".storePromptWrap").hide();l&&e.html("搜索词："+l+"(0)");1<q.page?n(a.msg||"网络开小差，请稍后再试哦~[0001]"):c.before(h("fs")({msg:a&&a.msg,btnHref:"javascript:;"}));q.storeShowLoading({page:1,count:1})}).always(function(){q.isLoading=!1});setTimeout(function(){q.$(".a1b").css("height","auto")},500)},productAllSearch:function(a){var b=a.data,c=a.$goodsLoading,e=a.$goodsCountWrap,f=this;f.isLoading=!1;f.maxIndex=0;f.daojiaStoreRender.startproductSearchAll=(new Date).getTime();
r(f,{functionId:"productsearch/searchAllPost",body:b},"post").done(function(a){a||(a={});f.daojiaStoreRender.endproductSearchAll=(new Date).getTime();f.daojiaStoreRender.beforeStoreDetailLoad=f.daojiaStoreRender.startStoreDetialAPI-f.daojiaStoreRender.startLoad;f.daojiaStoreRender.storeDetailAPI=f.daojiaStoreRender.endStoreDetialAPI-f.daojiaStoreRender.startStoreDetialAPI;f.daojiaStoreRender.afterStoreDetailLoad=f.daojiaStoreRender.triggerClick-f.daojiaStoreRender.endStoreDetialAPI;f.daojiaStoreRender.beforeProductSearchLoad=
f.daojiaStoreRender.startproductSearchAll-f.daojiaStoreRender.triggerClick;f.daojiaStoreRender.productCateSearchAPI=f.daojiaStoreRender.endproductSearchAll-f.daojiaStoreRender.startproductSearchAll;a.page=1;a.count=0;for(var b=a.searchCatResultVOList||[],q=[],B=0,n=f.cateList.length;B<n;B++)if(b[B]||(b[B]={}),f.cateList[B].childCategoryList&&0<f.cateList[B].childCategoryList.length)for(var r=f.cateList[B].childCategoryList||[],s=0,t=r.length;s<t;s++)q.push(r[s]);else q.push(f.cateList[B]);B=0;for(n=
b.length;B<n;B++)for(r=0,s=q.length;r<s;r++)if(b[B].catId==q[r].catId||b[B].catId==q[r].promotLabel)b[B].catTitle=q[r].title,b[B].productCount=q[r].productCount;b&&0==b.length?c.before(h("fw")({msg:"没有找到您要的商品[0001]"})):(e.html(b[0].catTitle&&b[0].catTitle+"("+b[0].productCount+")"),f.showActBanner(),c.before(h("fo")({List:b,skuDate:"store_home_sku",cartaddDate:"click_add",cartreduceDate:"click_reduce",isCart:f.isCart,from:"searchAllGoods",autoaddcart:f.skuId&&
f.needAddCart?"1":"0"})),setTimeout(function(){f.skuId&&f.needAddCart&&f.$(".ri li").each(function(a,b){$(this).attr("_goodsid")==f.skuId&&$(this).find(".add").trigger("click")})},300),f.storeShowLoading(a),f.daojiaStoreRender.renderProductSearch=(new Date).getTime(),f.daojiaStoreRender.afterproductSearchLoad=f.daojiaStoreRender.renderProductSearch-f.daojiaStoreRender.endproductSearchAll,lg("user_action","1.0",{clickid:"storeHome_page_load_20170329",logInfo:JSON.stringify(f.daojiaStoreRender)}))}).fail(function(a){n(a.msg);
c.before(h("fs")({msg:a&&a.msg,btnHref:"javascript:;"}));f.storeShowLoading({page:1,count:1})}).always(function(){f.isLoading=!1})},swipeActiveCate:function(a){var b=this.$(".a24").get(0).getBoundingClientRect().top;this.$(".a24").get(0).getBoundingClientRect();var c=Number.POSITIVE_INFINITY;this.catWrapTop=[];for(var e=this.$(".cateTitle"),f=this.$('[node-type="last-child"]'),g=0,l=e.length;g<l;g++){var h=e.get(g).getBoundingClientRect().top;this.catWrapTop.push(h)}this.$(".a24").hasClass("a1a")&&
(e=this.$(".a23").get(0).getBoundingClientRect().bottom,a?e<=b&&this.$(".store-origin-title").removeClass("initHide"):e>b&&this.$(".store-origin-title").addClass("initHide"));if(this.catWrapTop.length)if(a){a=0;for(e=this.catWrapTop.length;a<e;a++)g=this.catWrapTop[a]-b,g=Math.abs(g),c>=g&&(this.maxIndex=a,c=g);c=0>=this.maxIndex-1?0:this.maxIndex-1;f.eq(c).get(0).getBoundingClientRect().bottom>=b+30?this.showLeftActiveCate(c):this.showLeftActiveCate(this.maxIndex)}else 30<this.$(".js-showCate").get(0).getBoundingClientRect().top&&
(this.maxIndex=0<this.maxIndex?this.maxIndex-1:0,this.showLeftActiveCate(this.maxIndex))},showLeftActiveCate:function(a){this.$(".cateTitle").removeClass("js-showCate").eq(this.maxIndex).addClass("js-showCate");var b=this.$(".cateTitle").eq(a).attr("_cateId"),c=this.$(".cateTitle").eq(a).attr("_promotLabel");a=this.$(".cateTitle").eq(a).attr("_count");b=b?this.$("[category][_catid='"+b+"']"):this.$("span[category][promotlable='"+c+"']");b.length&&(c=b.text()+"("+a+")",this.$(".a2g").html(c));
a=b.parents(".a10");c=a.find(".a16");a=a.find(".a15");b.hasClass("a13")?(b.parent().siblings().removeClass("a14").removeClass("a18"),b.parent().addClass("a18"),this.$(".a16").css("height",0)):b.hasClass("a15")&&(b.parents(".a10").hasClass("a14")||(this.$(".a16").css("height",0),c.animate({height:47*
a.length+"px"},400,"linear",function(){})),this.$(".a10").removeClass("a14").removeClass("a18"),!b.parents(".a10").hasClass("a14")&&b.parents(".a10").addClass("a14"));this.$("[category]").removeClass("active");b.addClass("active");0==this.maxIndex&&this.showActBanner()},scrollToClient:function(){var a=this;a.$(".cateTitle").removeClass("js-showCate");var b=a.$(".cateTitle[_cateId='"+a.catId+
"']").addClass("js-showCate").get(0)||a.$(".cateTitle[_promotLabel='"+a.promotLable+"']").addClass("js-showCate").get(0)||{},c=b.offsetTop;a.maxIndex=a.$(".cateTitle").index($(b));var e=a.$(".a24");c<e[0].scrollHeight-e[0].clientHeight&&a.$(".a2g").html(b.innerHTML);a.$el.hasClass("a2h")?(b=0,a.$(".active").is(".isFirstCate")&&(c=30)):b=a.$(".a23").length?a.$(".a23").height()+24:0;e=a.$(".isFirstCate").next().find(".a15").first();
e=a.$(".a0z .active").not(e);c=a.$(".a0z .active").is(".isFirstCate")||a.$(".a0z .active").parent().prev().is(".isFirstCate")?e.length?c+b:c:c+b;a.gotoTop(c,a.$(".a24"));setTimeout(function(){a.chooseLeftCate()},0);a.chooseCateFlag=!1},clickDownLoad:function(){var a=/iPhone|iPad/gi.test(navigator.appVersion)?"https://itunes.apple.com/us/app/pai-dao-jia/id954995415?l=zh&ls=1&mt=8":"https://storage.jd.com/apk/jingdongdaojia.apk";bb(this.$(".js-open-app"),
a)},showActBanner:function(){var a=this.$(".isFirstCate").parent().find(".a15").eq(0).is(".active");this.showFlag=this.$(".a0z .active").is(".isFirstCate")||a||this.$(".a1z").length;if(this.$(".a23").length)this.showFlag?(this.$(".a23").addClass("initShow"),this.$(".store-origin-title").addClass("initHide"),this.$el.hasClass("a2h")||(this.$(".a23").addClass("isShow"),this.$(".a24").addClass("a1a"))):
(this.$(".store-origin-title").removeClass("initHide"),this.$(".a23").removeClass("isShow").removeClass("initShow"),this.$(".a24").removeClass("a1a"));else if((this.allStoreInfo.coupons||[]).length||(this.allStoreInfo.storeActPageList||[]).length)this.showFlag&&this.$(".a24").addClass("a1a"),this.showFlag&&this.$(".store-origin-title").addClass("initHide"),this.$(".a24").prepend(h("fp")({result:this.allStoreInfo,
isShow:this.showFlag?"show":"",initShow:this.showFlag,type:"storeHome"}))},jdAppGuideStore:function(){if("exper"==this.strategyName||"exper3"==this.strategyName)this.$(".content").before(h("e2")({storeName:this.openStatus.storeName})),this.$(".a7p").fadeIn(),Y("abTestStore","store")},jdAppGuideCart:function(){!da||"cart"==z("abTestCart")||"exper"!=this.strategyName&&"exper3"!=this.strategyName||this.$(".a4r").hasClass("light")||(this.$(".content").before(h("e3")()),
this.$("#guideStore").remove(),this.$(".a7p").fadeIn(),Y("abTestCart","cart"))},closeGuide:function(){this.$(".a7p").remove()},triggerAddGoods:function(a){$target=this.$(a.currentTarget);$target.siblings(".Box").find(".storeSearchCart").trigger("click")},checkStoreActivity:function(a){var b=this,c=$(a.currentTarget);c.parent().find(".a38");c.toggleClass("a2w");var e=c.find("span");a=b.$(".af6");var f=0;a.children().each(function(a,
b){f+=$(b).height()+8});c.hasClass("a2w")?a.animate({height:f+"px"},200,"linear",function(){c.attr("onclick",'lg("user_action","1.0",{"clickid":"click_pickup","store_id":"'+b.storeId+'",type:2})');e.html("点击收起")}):a.animate({height:"0"},200,"linear",function(){e.html("查看更多");c.attr("onclick",'lg("user_action","1.0",{"clickid":"click_pickup","store_id":"'+b.storeId+'",type:1})');setTimeout(function(){window.scrollTo(0,0)},0)})},viewRoload:function(){this.initialize(this.options)},
chooseLeftCate:function(){var a=this.$(".a0z").find(".active");if(a.hasClass("a13"))b=(a&&a.get(0).offsetTop)-46;else var b=a.parent().prev(),a=a.get(0).getBoundingClientRect().top,c=b.get(0).getBoundingClientRect().top,b=b.get(0).offsetTop+(a-c)-46;this.gotoTop(b,this.$(".a0z"))}};var J=J||{};J.activityCoupons=qa.extend({events:{"click .a7z":"closeCoupons","click .a7y":"toMyCoupons","click .a84.quanchang":"couponsQMsg","click .a7x li":"toWeb"},
initialize:function(a){var b=this;ub(this,{code:a.couponCode,fromSource:2,isFloor:1,needCouponGo:!0}).done(function(a){var e=a&&a.length?a[0].his:!1;b.$el.html(h("e4")({couponList:a,his:e}));$(".current").addClass("couponsFixed")}).fail(function(a){201==a.code?w(ab()):n(a&&a.msg)})},closeCoupons:function(){$(".couponsFixed").removeClass("couponsFixed");this.$el.remove()},toMyCoupons:function(){w("#couponsList")},couponsQMsg:function(){n("此券全部门店可用")},toWeb:function(a){$target=this.$(a.currentTarget);
$target.hasClass("quanchang")?this.couponsQMsg():window.location.href=$target.attr("href")}});J=J||{};J.goodsDetailDescription=qa.extend({name:"goodsDetailDescription",initialize:function(a){this.$el.html(h("ag")({html:a.result}))}});J=J||{};J.indexGlb=qa.extend({borrow:Q.ColumbusActivity,events:{}});J=J||{};J.indexNormal=qa.extend({borrow:Q.ColumbusActivity,events:{}});J=J||{};J.minicart=qa.extend({events:{"tap [minusgoods]":"minusgoods","tap [addgoods]":"addgoods","tap [showup]":"showup",
"tap [closedown]":"closedown","click [deleteAll]":"deleteAll","click [deleteAllInvalid]":"deleteAllInvalid","click [delete_Invalid]":"delete_Invalid","click [expandGift]":"expandGift","click [cartmask]":"maskClickHandler","tap [giftSkuId]":"addGift","click [qujiesuan]":"qujiesuan","click [giftMinus]":"giftMinusGoods","tap [checkGoods]":"checkGoods","tap [checkAllGoods]":"checkAllGoods","click [showFullGatherList]":"showFullGatherList","click [hideGatherList]":"hideGatherList"},initialize:function(a){this.$el.addClass("a4q").hide();
this.parentView=a.view;this.storeId=a.storeId;this.orgCode=a.orgCode;this.storeName=a.storeName;this.openJPIndustry=a.openJPIndustry;this.fetchAll({showup:a.showup})},fetchAll:function(a){var b=this;a||(a={});var c=a.showup,e=a.render;return r(this.parentView,{functionId:"cartV3_3_0/querySingleCart",body:{storeId:this.storeId,orgCode:this.orgCode,positionType:2,loginNotNewPersonTime:!0}}).done(function(f,g){g||(g={});f||(f={});f.storeName&&(b.storeName=f.storeName);var l=b.checkIsEmpty(f);b._markAuthorize(f);
e&&!l?e(f):"separate"==a.renderType?b.renderSeparate(f):b.render(f);setTimeout(function(){c&&!l&&b.showup(null,420)},1);88888==g.code&&g.msg&&n(g.msg)}).fail(function(a){a||(a={});201==a.code&&b.render({totalNum:0})}).always(function(){b.$el.show()})},checkIsEmpty:function(a){a||(a={});return!(a.itemList&&a.itemList.length)},checkGoods:function(a){var b=this,c=$(a.currentTarget);a=c.closest("li[goodsId]");c=c.hasClass("checked")?kd:jd;a=[{id:a.attr("goodsId"),num:1}];c(b.parentView,a,this.storeId,
this.orgCode).done(function(a){b.renderSeparate(a)}).fail(function(a){n((a||{}).msg||"网络错误")})},checkAllGoods:function(a){var b=this;($(a.currentTarget).hasClass("checked")?md:ld)(this.parentView,this.storeId,this.orgCode).done(function(a){b.renderSeparate(a)})},_markAuthorize:function(a){a||(a={});this.authorize_=a.authorize?{headAuthorize:a.headAuthorize,tipAuthorize:a.tipAuthorize}:null},delete_Invalid:function(a){this.minusgoods(a,0)},minusgoods:function(a,b){var c=this;if(c.requesting_)return $.Deferred();
c.requesting_=!0;var e,f,g,l;if(a&&a.currentTarget){var h=$(a.currentTarget);g=h.closest("[goodsId]");l=g.attr("goodsId");g=K(g.find("em.a61").html());var B=h.closest("div.a53")[0]}else l=a,g=K(c.$('li[goodsId="'+l+'"][NormalGoods_] > em').html());f=_.isNumber(b)?b:g-1;e=[{id:l,num:f}];return $.Deferred(function(b){var g=0>=f?id:cb;g(c.parentView,e,c.storeId,c.orgCode,!1).done(function(e){if(a&&a.currentTarget){var n=c.$('li[goodsId="'+l+'"]');0>=(e||{}).totalNum?
c.render(e):(c.renderSeparate(e),B||(0>=f?(c.showup(),setTimeout(function(){c.resetCartIconPos()},500)):c.resetCartIconPos()));c.trigger("minus",l);delete c.requesting_;if(h.closest("div.a53")[0]){var r=n.find("em"),n=n.find("a[minusgoods]");r.html(f);0>=f&&(n.hide(),r.hide())}}else g==cb?(delete c.requesting_,c.renderSeparate(e)):c.fetchAll().always(function(){delete c.requesting_});b.resolve(e)}).fail(function(e){e||(e={});delete c.requesting_;b.reject(e);n(e.msg||"删除失败");e=e.result||
{};"payMoneyPriceValue"in e&&(c.renderSeparate(e),a&&a.currentTarget&&c.resetCartIconPos())})})},addgoods:function(a,b){function c(){var a=e.$('li[goodsId="'+f+'"]'),b=a.find("em.a61"),c=b.html(),c=(K(c)||0)+1;b.html(c).add(a.find("a[minusgoods]")).show();e.trigger("add",f)}var e=this;if(e.requesting_)return $.Deferred();e.requesting_=!0;var f;if(a&&a.currentTarget){var g=$(a.currentTarget);if(g.hasClass("disabled"))return;f=g.closest("[goodsId]").attr("goodsId")}else f=a;
var g=this.$('li[goodsId="'+f+'"][NormalGoods_]'),g=K(g.find("em.a61").html())||0,l=0<g,h=l?cb:Tb;return h(this.parentView,[{id:f,num:l?g+1:1}],this.storeId,this.orgCode,!0).done(function(f){f||(f={});if(a&&a.currentTarget)c(),"payMoneyPriceValue"in f?(e.renderSeparate(f),e.resetCartIconPos(),delete e.requesting_):e.fetchAll({render:$.proxy(e.renderSeparate,e)}).always(function(){console.log("312");delete e.requesting_});else{var g,l;b&&(l=b.getBoundingClientRect(),g=l.top,
l=l.left);$('<div class="a6c"></div>').fly({start:{top:g-4,left:l-20},end:{top:v.height()-40,left:28},onEnd:function(){var a=this;setTimeout(function(){a.destroy()},9)},vertex_Rtop:g-20,speed:2.3});setTimeout(function(){e.pulseCartIcon()},280);h==cb?(delete e.requesting_,e.renderSeparate(f)):e.fetchAll().always(function(){delete e.requesting_})}}).fail(function(b){delete e.requesting_;b||(b={});n(b.msg||"添加失败");b=b.result||{};"payMoneyPriceValue"in b&&(c(),e.renderSeparate(b),a&&
a.currentTarget&&setTimeout(function(){e.resetCartIconPos()},500))})},pulseCartIcon:function(){var a=this.$("[carticon]").addClass("pulse");setTimeout(function(){a.removeClass("pulse")},160)},render:function(a){a||(a={});a.isEmpty_=a.itemList&&a.itemList.length?!1:!0;a.wrapperName=this.parentView.name;this.$el.html(h("ca")(a));var b=this;setTimeout(function(){b.$("[cartmask]").on("touchmove",function(a){a.preventDefault()});$a(b.$(".a55")[0]);var a=this.$("[carticon].outcartcontent"),
e=this.$(".a4w"),f=this.$(".a4t");parseInt(f.width())>parseInt($(window).width())-parseInt(a.width())-parseInt(e.width())&&f.addClass("money")},99)},renderSeparate:function(a){a||(a={});var b=a.isEmpty_=!(a.itemList&&a.itemList.length);a.wrapperName=this.parentView.name;var c=this.$("[carticon]");b?c.removeClass("light").removeAttr("showup").html(""):(c.hasClass("light")||c.attr("showup",""),c.addClass("light").html(h("cd")(a)));this.$("[pricearea]").html(h("ce")(a));
b=this.$("[qujiesuan]").html(a.buttonName||"");1==a.buttonState?b.addClass("disabled"):b.removeClass("disabled");this.$("[cartitemlist]").html(h("ch")(a));this.$("[giftcontent]").html(h("cf")(a));b=this.$(".a58");c=a.numWeightDesc&&Vb(a.numWeightDesc);b[c?"addClass":"removeClass"]("a6g");b.html(h("cc")(a));Ub(a.itemList)?b.show():b.hide();this.$("[discountPromptMsg]").html(a.discountPromptMsg)[a.discountPromptMsg?
"show":"hide"]();this.$("[discountPromptMsgHeight]").css({height:a.discountPromptMsg?75:49});b=this.$("div.a4x");c=a.discountTipInfo||{};ob(c)?b.show().html(h("cb")(a)):b.hide().html("");b[1==c.addOnOff?"addClass":"removeClass"]("a4y");var e,b=this.$("p.a54"),c=b.attr("activityId");a=a.itemList||[];for(var f=0;f<a.length;f++){var g=a[f]||{};if(g.activityId==c){e=ob({discountTips:g.discountTips});break}}b.html(e)},deleteAll:function(a){var b=
this;$(a.currentTarget);N({title:!1,msg:'<p style="padding:30px 0 10px 0;">清空购物车中所有商品？</p>',button:[{text:"取消"},{text:"清空",callback:function(){r(b.parentView,{functionId:"cartV3_3_0/removeAllItems",body:{storeId:b.storeId,orgCode:b.orgCode}}).done(function(a){b.closedown();setTimeout(function(){b.render(a)},555);b.trigger("clear")}).fail(function(a){a||(a={});n(a.msg)});lg("user_action","1.0",{click_id:"delAllCart"})}}]})},deleteAllInvalid:function(a){var b=this;$(a.currentTarget);var c=[];this.$("li.invalidate[goodsId]").each(function(a,
b){var g=$(this).attr("goodsId"),l=K($(this).find("em").html());c.push({id:g,num:l})});N({title:"提示",msg:"清空购物车中所有失效商品？",button:[{text:"取消"},{text:"清空",callback:function(){r(b.parentView,{functionId:"cartV3_3_0/removeItems",body:{skus:c,storeId:b.storeId,orgCode:b.orgCode}}).done(function(a){b.fetchAll({render:$.proxy(b.renderSeparate,b),showup:!0})}).fail(function(a){n((a||{}).msg||"删除失败")})}}]})},showup:function(a,b){var c=this;c._animating||(c._animating=!0,setTimeout(function(){var a=c.$("[cartitemlist]").css({height:"auto"}),
b=c.$("[cartcontent]");b.css({display:"block"});var g=b.height(),l=v.height(),l=500>l?l-100:0.8*l,h=0;g>l&&(g=l,a.css({height:g-32-49}),h=18);var n=c.$("[carticon].outcartcontent"),r=c.$("[pricearea]"),s=c.$("[carticon].incartcontent"),a=c.$(".a4w"),l=c.$(".a4t");parseInt(l.width())>parseInt($(window).width())-parseInt(a.width())?l.addClass("money"):l.removeClass("money");setTimeout(function(){b[0]&&(b[0].style[ka]="translateY(-100%)");n[0].style[ka]="translateY("+(-g-
h+4)+"px)";r[0]&&(r[0].style[ka]="translateX(-60px)");setTimeout(function(){n.add(s).removeAttr("showup").attr("closedown","").attr("clstag","pageclick|keycount|cart_close_20160623_1|1");n.removeClass("show");s.addClass("show")},260);setTimeout(function(){delete c._animating},555);c.animateDownGatherListUI(null,{hideMask:!1})},0);c.$("[cartmask]").show()},b||0))},resetCartIconPos:function(){var a=this;setTimeout(function(){var b=a.$("[carticon].incartcontent")[0];b&&(b=b.getBoundingClientRect(),b=
v.height()-b.top-60,a.$("[carticon].outcartcontent")[0].style[ka]="translateY("+-b+"px)")},99)},showFullGatherList:function(a){this.$("div[addOnOff]")[0]&&this.showGatherList({currentTarget:this.$("div[addOnOff]")},!0)},showGatherList:function(a,b){if(!this.requesting_){var c=this,e=$(a.currentTarget),f=this.$(".a5m"),g=e.attr("activityId"),l=[];f.each(function(){var a=$(this);if(!a.hasClass("invalidate")){var b=[];a.find("li[NormalGoods_]").each(function(a,c){var e=$(this);
b.push({skuid:e.attr("goodsId"),num:$(this).find("em.a61").html(),checkType:e.find("span[checkGoods]").hasClass("checked")?1:0})});a=a.find("[activityId]");l.push({inputMergeOrderSkus:b,activityId:a.attr("activityId"),suitType:a.attr("expandGift")})}});c.requesting_=!0;od(this,{isWholeStore:!0,orgCode:this.orgCode,storeId:this.storeId,activityId:g,inputMergeOrderSuits:l}).done(function(a,b){var f={itm:{suitType:"single",skuList:a.mergeOrderSkuInfos},orgCode:c.orgCode,storeId:c.storeId,
wrapperName:c.parentView.wrapperName},l=h("cj")(f),f=c.$("div.a53");f[0]&&(f.find("ul").html(l),l=e.find("span[TheDiscountTips]").html(),f.find("p.a54").html(l).attr("activityId",g),l=c.getCartExpandStatus(),c.animateUpGatherListUI(f),f.attr("PrevExpandStatusOfCart",l?"1":"0"),delete c.requesting_,lg("user_action","1.0",{pagename:(this.parentView||{}).name,click_id:"makeup_order",url_page_par:{type:2}}))}).fail(function(a){delete c.requesting_;
n((a||{}).msg||"请求失败")})}},hideGatherList:function(a){this.animateDownGatherListUI();lg("user_action","1.0",{pagename:(this.parentView||{}).name,click_id:"makeup_order",url_page_par:{type:1}})},animateUpGatherListUI:function(a){var b=this;a=a||b.$("div.a53");a[0]&&setTimeout(function(){var c=a.find("ul"),e=c.height(),f=v.height(),f=500>f?f-100:0.8*f;e>f&&c.css({height:f-32-49});b.closedown({hideMask:!1,hideGatherList:!1});b.$("[cartmask]").show();setTimeout(function(){a[0].style[ka]=
"translateY(-100%)"},5)},5)},animateDownGatherListUI:function(a,b){var c=(b||{}).hideMask,e=this;a=a||e.$("div.a53");a[0]&&setTimeout(function(){a[0].style[ka]="translateY(0)";"1"==a.attr("PrevExpandStatusOfCart")?e.showup():!1!==c&&e.$("[cartmask]").hide()},0)},getCartExpandStatus:function(){var a=this.$("div[cartcontent]");return a[0]?-1!==a[0].style[ka].indexOf("translateY(-100%)")?!0:!1:!1},closedown:function(a){var b=this;if(!b._animating){b._animating=!0;var c=b.$("[cartcontent]");
c[0]&&(c[0].style[ka]="translateY(0)");var e=b.$("[carticon].outcartcontent"),f=b.$("[carticon].incartcontent");e[0].style[ka]="translateY(0)";c=b.$("[pricearea]");c[0]&&(c[0].style[ka]="translateX(0)");var g=b.$(".a4w"),l=b.$(".a4t");setTimeout(function(){e.addClass("show");f.removeClass("show");parseInt(l.width())>parseInt($(window).width())-parseInt(e.width())-parseInt(g.width())?l.addClass("money"):l.removeClass("money")},Ae?400:240);setTimeout(function(){b.$("[cartitemlist]").css({height:"auto"});
e.add(f).removeAttr("closedown").attr("showup","").attr("clstag","pageclick|keycount|cart_open_20160623_1|"+e.find("i").text());a&&!1===a.hideMask||b.$("[cartmask]").hide();setTimeout(function(){delete b._animating},55)},500);a&&!1===a.hideGatherList||this.animateDownGatherListUI(null,a)}},maskClickHandler:function(a){a=$(a.currentTarget);a.attr("show_for_huangou")?(this.showup(),this.hideHuanGou(a.attr("show_for_huangou")),a.removeAttr("show_for_huangou")):a.attr("show_for_zengpin")?(this.showup(),
this.hideZengPin(a.attr("show_for_zengpin")),a.removeAttr("show_for_zengpin")):(a=this.$("div.a53"),"1"==a.attr("PrevExpandStatusOfCart")?(this.showup(),a.attr("PrevExpandStatusOfCart","0")):this.closedown())},promotionBundles:function(a){if(!this.requesting_){var b=this,c=$(a.currentTarget),e=c.attr("activityId");b.requesting_=!0;pd(this,{orgCode:this.orgCode,storeId:this.storeId,activityId:e}).done(function(a,g){var l={itm:{suitType:"single",skuList:a.mergeOrderSkuInfos},orgCode:b.orgCode,
storeId:b.storeId,wrapperName:b.parentView.wrapperName},q=h("cj")(l),l=b.$("div.a53");l[0]&&(l.find("ul").html(q),q=c.find("span[TheDiscountTips]").html(),l.find("p.a54").html(q).attr("activityId",e),q=b.getCartExpandStatus(),b.animateUpGatherListUI(l),l.attr("PrevExpandStatusOfCart",q?"1":"0"),delete b.requesting_)}).fail(function(a){delete b.requesting_;n((a||{}).msg||"请求失败")})}},expandGift:function(a){var b=$(a.currentTarget),c=b.attr("expandGift");
if(b[0].hasAttribute("addOnOff"))"bundleddiscount"==c?this.promotionBundles(a):this.showGatherList(a);else if(a=b.closest("div[attachListIndex]"),a[0]){a=a.attr("attachListIndex");var e;"exchange"==c?e="show_for_huangou":"gift"==c&&(e="show_for_zengpin");this._openAttach(c,e,a)}},hideHuanGou:function(a){this._hideAttach("exchange",a)},hideZengPin:function(a){this._hideAttach("gift",a)},_openAttach:function(a,b,c){a=this.$('[attachListType="'+a+'"][attachListIndex="'+c+'"]').css({visibility:"hidden",
display:"block"});var e=a.height(),f=v.height(),f=500>f?f-100:0.7*f;e>f&&(e=f,a.find("ul").css({height:e-32}));e="translateY("+(0-e)+"px)";a.css({visibility:"visible"})[0].style[ka]=e;this.$("[cartmask]").attr(b,c);this.closedown({hideMask:!1})},_hideAttach:function(a,b){this.$('[attachListType="'+a+'"][attachListIndex="'+b+'"]')[0].style[ka]="translateY(0)"},addGift:function(a){var b=this;a=a.currentTarget;var c=$(a);if(a.hasAttribute("giftCanUse")){var e=c.attr("giftSkuId");a=c.attr("ladderId");
var f=c.attr("infoId");if(c.hasClass("checked"))e=[],g=!1;else var e=[{id:e,num:1}],g=!0;r(this.parentView,{functionId:"cartV3_3_0/addGift",body:{skus:e,storeId:this.storeId,orgCode:this.orgCode,ladderId:a,infoId:f}}).done(function(a){c.closest("ul").find("li").removeClass("checked");g?c.addClass("checked"):c.removeClass("checked");b.fetchAll({render:$.proxy(b.renderSeparate,b)}).done(function(){b.showup();var a=c.closest("div[attachListType]"),e=a.attr("attachListType"),a=a.attr("attachListIndex");
b._hideAttach(e,a)})}).fail(function(a){n((a||{}).msg||"添加失败")})}else n(c.attr("tipWhenClick")||"不能领取")},settleErrorHandler:function(a,b){var c=this;"settlementGoods"==b?c.fetchAll({render:$.proxy(c.renderSeparate,c)}).done(function(){c.delay_then_showup();c.resetCartIconPos()}):ac(this.parentView,{storeId:c.storeId,orgCode:c.orgCode}).done(function(a,b){c.fetchAll({render:$.proxy(c.renderSeparate,c)}).done(function(){c.delay_then_showup();setTimeout(function(){c.resetCartIconPos()},600)})}).fail(function(a){a||
(a={});a=(a.result||{}).infoIds||[];a.length&&bc(c.parentView,{storeId:c.storeId,orgCode:c.orgCode,infoId:a[0]}).done(function(){c.fetchAll({render:$.proxy(c.renderSeparate,c)}).done(function(){c.delay_then_showup();c.resetCartIconPos()})}).fail(function(){c.delay_then_showup()})})},delay_then_showup:function(){var a=this;setTimeout(function(){a.showup()},99)},qujiesuan:function(a){var b=$(a.currentTarget),c=this;b.hasClass("disabled")||b.hasClass("sending")||(a={storeId:c.storeId,orgCode:c.orgCode},
b.addClass("sending"),ac(this.parentView,a).done(function(a,f){function g(){x({hash:"#newSettlement",data:{orgCode:c.orgCode,storeId:K(c.storeId),storeName:c.storeName,openJPIndustry:c.openJPIndustry}})}var l=c.authorize_;l?N({title:l.headAuthorize,msg:'<div class="a6d">'+l.tipAuthorize+"</div>",button:[{text:"取消"},{text:"授权",callback:function(){g()}}]}):g();b.removeClass("sending")}).fail(function(a){a||(a={});var f=(a.result||{}).infoIds||[],g=a.msg||"请检查网络连接[0001]";f.length?
N({title:"提示",msg:g,button:[{text:"修改商品",callback:function(){c.fetchAll({render:$.proxy(c.renderSeparate,c)}).done(function(){c.resetCartIconPos()}).always(function(){b.removeClass("sending")})}},{text:"删除商品去结算",callback:function(){bc(c.parentView,{storeId:c.storeId,orgCode:c.orgCode,infoId:f[0]}).done(function(){x({hash:"#newSettlement",data:{orgCode:c.orgCode,storeId:K(c.storeId),storeName:c.storeName,openJPIndustry:c.openJPIndustry}});c.fetchAll({render:$.proxy(c.renderSeparate,c)}).done(function(){c.resetCartIconPos()})}).always(function(){b.removeClass("sending")})}}]}):
201==a.code?(b.removeClass("sending"),a=location.href,-1===a.indexOf("hasGoods:true")&&(a=kb("hasGoods:true",a)),Yb("",a)):(n(g),c.fetchAll({render:$.proxy(c.renderSeparate,c)}).done(function(a){!c.checkIsEmpty(a)&&c.resetCartIconPos()}).always(function(){b.removeClass("sending")}),_.isString(g)&&-1!==g.indexOf("账号安")&&-1!==g.indexOf("重新登")&&lg("user_action","1.0",{clickid:"sid_error_20170824"}))}))},giftMinusGoods:function(a){if(a&&a.currentTarget)var b=$(a.currentTarget).parents(".a5m").attr("attachlistindex");
a=this.$('.a56[attachlistindex="'+b+'"]').find(".checked");this.addGift({currentTarget:a[0]})}});J=J||{};J.noShop=qa.extend({className:"az",events:{"tap .b1":"feedBackSubmit"},initialize:function(a){a=a||{};"events_manager"!==a.use&&(a.el?$(a.el):this.$el).html(h("cz")(a.data||{}))},feedBackSubmit:function(a){var b=this;(a=b.checkContent())&&Bc(b,{content:a}).done(function(){n("您的意见我们已经收到，非常感谢！");b.$(".feedbackContent").val("")}).fail(function(a){a&&
"201"==a.code?n(a&&a.msg):n("提交建议失败")})},checkContent:function(){var a=this.$(".feedbackContent").val().toString(),b=this.$("#noShopFeedBackMobile").val(),c=this.$(".feedbackContent").val().trim();return c?300<this.countNum(c)?(n("反馈内容长度最大为300个字符"),!1):b&&!/^0?\d{11}$/.test((b||"").toString().trim())?(n("请输入正确的手机号"),""):b+a:(n("请输入您的反馈！"),!1)},countNum:function(a){for(var b=0,c=0;c<a.length;c++)var e=a.charCodeAt(c),b=0<=e&&128>=e?b+1:b+2;return b}});J=J||{};J.redPack=qa.extend({events:{"click .a8s,.a7z,.a9c,.a97,.a93":"closeMasker",
"click .a7y":"toMyCoupons","click .a84.quanchang":"couponsQMsg","click .a7x li":"toWeb","click .couponList li":"addMaiDian"},initialize:function(a){this.channel=a.channel;this.pageFrom=a.pageFrom;this.couponCode=a.couponCode;this.coupons=a.coupons;this.storeInfo=a.storeInfo;this.view=a.view;"store"==this.pageFrom?this.storeCoupons():"activity"==this.pageFrom?this.activityCoupons():"index"==this.pageFrom||"storehome"==this.pageFrom?this.indexCoupons():"memberStoreHome"==this.pageFrom&&
this.memberCoupons()},indexCoupons:function(){var a=this;sd(this,{userChannel:a.channel}).done(function(b){b||(b={});if(1==b.couponType){try{lg("user_action","1.0",{click_id:"click_open",color:"green"})}catch(c){}a.couponsLayer(b.redPackPublishList&&b.redPackPublishList)}else if(b.redPackPublishList&&b.redPackPublishList.length){try{lg("user_action","1.0",{click_id:"click_open",color:"red"})}catch(e){}a.$el.html(h("e7")({headPic:b.couponPic,list:b.redPackPublishList}));$(".a7m").remove()}}).fail(function(){"storehome"==
a.pageFrom&&(!z("memberSignIn")&&a.coupons.isMembership&&a.coupons.storeMember&&a.coupons.storeMember.entrancePhoto&&a.coupons.storeMember.membersUrl?(a.view.bindResize(),Y("memberSignIn",!0),a.$el.html(h("ea")({v:a.coupons.storeMember}))):da&&"store"!=z("abTestStore")&&a.view.jdAppGuideStore())})},activityCoupons:function(){var a=this;ub(this,{code:a.couponCode,fromSource:2,isFloor:1,needCouponGo:!0}).done(function(b){var c=b&&b.length?b[0].his:!1;a.$el.html(h("e4")({couponList:b,
his:c}));$("body").addClass("couponsFixed");b=$("[couponCode='"+a.couponCode+"']");var c=b.attr("data-status"),e=JSON.parse(b.attr("data-v"));3>c&&(c=3,b.attr("data-status",c),b.find(".activity_coupon_icon_box").html(h("d")({data:e,status:c})))}).fail(function(a){201==a.code?w(ab()):n(a&&a.msg)})},storeCoupons:function(){$(".current").prepend(h("e8")({coupons:this.coupons,storeInfo:this.storeInfo}))},memberCoupons:function(){this.$el.html(h("ea")({v:this.coupons.storeMember}))},
closeMasker:function(a){$target=this.$(a.currentTarget);"activity"==this.pageFrom?($("body").removeClass("couponsFixed"),this.$el.remove()):"index"==this.pageFrom||"storehome"==this.pageFrom?($target.hasClass("redPacket")?lg("user_action","1.0",{click_id:"click_close",color:"red"}):"",$target.hasClass("a9c")||$target.hasClass("a97")?this.$(".a97").fadeOut():this.$(".a8s").fadeOut()):"memberStoreHome"==this.pageFrom&&this.$(".a97").fadeOut()},toMyCoupons:function(){w("#couponsList")},
couponsQMsg:function(){n("此券全部门店可用")},toWeb:function(a){$target=this.$(a.currentTarget);$target.hasClass("quanchang")?this.couponsQMsg():window.location.href=$target.attr("href")},addMaiDian:function(a){$target=this.$(a.currentTarget);lg("user_action","1.0",{click_id:"to_use_coupon",coupon_id:$target.attr("couponCode")})},couponsLayer:function(a){var b=this;t.getCurrentUse().done(function(c){b.getActivityFirst(a,c)}).fail(function(){b.getActivityFirst(a,null)})},getActivityFirst:function(a,b){var c=
this;td().done(function(e){try{var f=e.data,g=f[0].data[0],l=f[1].data[0],q=(a[0]||{}).amount;g.address=b;l.address=b;10==parseInt(q)?c.$el.prepend(h("e6")(g)):15==parseInt(q)&&c.$el.prepend(h("e6")(l))}catch(n){}})}});J=J||{};J.searchBar=qa.extend({className:"we",events:{"click .xe":"showSearch","click .ce,.c4,.ck":"showSearch","focus .wr":"showSearch","focus #search-keyword":"replacePlaceHolder",
"click .wg":"hideSearch","input .wj":"suggestWords","tap #iconToClear":"clearSearch","keypress #search-keyword":"keyCodeSearch","click .wo":"keyCodeSearch","tap #iconToSearch":"searchGoods","click .js-hot-search":"searchGoods","click .wc":"clearHistory","click [category]":"chooseCate","click .yj":"goHome"},initialize:function(a){a||(a={});var b=a.index||!1,c=a.storeIndex||!1,e=a.cateIndex||!1,f=a.searchGlobal||!1,g=a.storeSearch||
!1,l=a.storeName||"",q=a.storeTop||"",n=a.storeType||"",r=a.searchResult||!1,s=a.inStore||!1,t=a.outStore||!1,u=a.address||"获取位置失败",v=a.storeId||"",w=a.orgCode||"",x=a.view,z=[],p=a.pagetype,A=a.fromIndex||!1;a=a.isSearchResult||!1;v&&z.push(v);var D=this;D.index=b||A;D.storeIndex=c;D.cateIndex=e;D.storeSearch=g;D.storeTop=q;D.storeType=n;D.searchResult=r;D.storeIds=z;D.storeId=v;D.orgCode=w;D.view=x;D.placeHolder="";D.pagetype=p;D.searchGlobal=f;D.isSearchResult=a;if(s||g||q)D.placeHolder="搜索店内商品";
if(t||f)D.placeHolder=D.index?D.view.searchWords||"附近商家商品":D.view.searchWords||"搜索附近的商家、商品";D.index&&D.view.searchWords&&(D.indexPlaceHolder=D.view.searchWords,D.indexSearchWord=D.view.realSearchWords);this.$el.html(h("ef")({index:b,searchGlobal:f,storeIndex:c,cateIndex:e,storeSearch:g,storeTop:q,storeName:l,searchResult:r,inStore:s,outStore:t,address:u,placeHolder:D.placeHolder}));g&&D.$el.addClass("xd");q&&D.$el.addClass("xf").addClass(D.getStoreTypeClass(D.storeType));
setTimeout(function(){D.index&&D.showSearch()},0)},replacePlaceHolder:function(a){if(this.index){var b=this.view.searchWords||"搜索附近的商品和门店";this.$(a.target).attr("placeholder",b)}},goHome:function(a){(a=location.hash)&&"#index"!=a||this.hideSearch()},getCoords:function(){var a=this,b=t.getLocalCurrent()||{};return $.Deferred(function(c){a.longitude&&a.latitude?b.longitude!=a.longitude&&b.latitude!=a.latitude?t.getCurrentUse().done(function(b){a.longitude=b.longitude;a.latitude=b.latitude;c.resolve(b)}).fail(function(){c.reject()}):
c.resolve({longitude:a.longitude,latitude:a.latitude}):t.getCurrentUse().done(function(b){a.longitude=b.longitude;a.latitude=b.latitude;c.resolve(b)}).fail(function(){c.reject()})})},showSearch:function(){this.top=this.$el.html();this.keyWord=this.$("#store-keyword").val()||this.view.words||"";this.$el.html(h("ec")({placeHolder:this.placeHolder}));this.$el.append(h("am")());this.keyWord&&(this.searchCanClick(),this.$("#search-keyword").val(this.keyWord),this.showClear());
this.$("#search-keyword").trigger("focus");this.hotWords();0!=this.view.$(".storeHead").length&&this.$el.removeClass("topBarClass");this.$el.siblings().hide();this.storeSearch&&(this.$el.parent().addClass("a1p").siblings().hide(),this.view.$(".a4q").hide(),this.view.$(".storeHead").hide(),this.view.$(".a0v").hide());this.storeTop&&0<$(".a0a").length&&$(".a0a").hide();this.$el.siblings("#sort_2").css("top","-45px");E&&($(window).scrollTop(0),
this.$el.css("position","relative"),this.$el.addClass("setBlock"),this.$el.find(".wf").css("position","relative"));this.storeSearch&&(this.$el.css("position","fixed"),this.$el.find(".wf").css("position","fixed"));this.$el.addClass("wq");lg("user_action","1.0",{clickid:"pageclick|keycount|home_search_20160623_1|1"})},hideSearch:function(){this.searchGlobal?L():(this.$el.html("").html(this.top),this.$el.removeClass("setBlock"),this.$("#store-keyword").val(this.keyWord),
this.$el.siblings().not(".store-mask-fixed,.fixed,.a0v").show(),this.storeSearch&&(this.$el.parent().removeClass("a1p").siblings().not(".a1k,.tipsPoupOpen").show(),this.view.$(".a4q").show(),this.view.$(".storeHead").show()),this.$el.siblings("#sort_2").css("top","45px"),0!=this.view.$(".storeHead").length&&this.$el.addClass("topBarClass"),E&&(this.$el.css("position","fixed"),this.$el.find(".wf").css("position","fixed")),this.storeSearch&&
(this.$el.css("position","static"),this.$el.find(".wf").css("position","static")),this.storeTop&&0<$(".a0a").length&&$(".a0a").show(),this.$el.removeClass("wq"))},showClear:function(){var a=this;this.searchGlobal&&(a=a.view);a.$(".wj").val().trim()?a.$("#iconToClear").show():a.$("#iconToClear").hide()},clearSearch:function(){var a=this;a.view.indexPlaceHolder&&(a.placeHolder=this.view.searchWords=a.view.indexPlaceHolder,a.$("#search-keyword").attr("placeholder",
a.view.indexPlaceHolder));this.searchfailCanClick();this.searchGlobal&&(a=a.view);a.$(".wj").val("");a.$("#iconToClear").hide();a.$(".search-show-wrap").show();a.$(".key-suggest-wrap").hide()},keyCodeSearch:function(a){var b=a.keyCode?a.keyCode:a.which,c=$(a.currentTarget);"13"==b?(a.preventDefault(),this.searchGoods()):c.hasClass("wo")&&(this.storeSearch||this.storeTop?lg("user_action","1.0",{clickid:"storesearch_20160908"}):lg("user_action","1.0",{clickid:"allsearch_20160908"}),
this.searchGoods());a.stopPropagation()},searchGoods:function(a){if((a?$(a.currentTarget):$({})).is(".js-hot-search"))a=$(a.target).text().trim();else{a=(this.searchGlobal?this.view:this).$("#search-keyword").val().trim();if(!a)if(this.view.searchWords&&(this.view.realSearchWords||this.view.indexSearchWord))a=this.view.searchWords;else{(this.searchGlobal?this.view:this).$("#search-keyword").blur();return}try{lg("user_action","1.0",{clickid:"click_pt_search",key:a})}catch(b){}}this.toSearch(a)},toSearch:function(a){this.$el.siblings("#sort_2").css("top",
"45px");this.searchGlobal||this.hideSearch();this.index||this.cateIndex||this.searchGlobal?this.indexPlaceHolder&&this.indexSearchWord?w("#indexSearchToStore/keyword:"+encodeURIComponent(a)+"/indexPlaceHolder:"+encodeURIComponent(this.indexPlaceHolder)+"/indexSearchWord:"+encodeURIComponent(this.indexSearchWord)):w("#indexSearchToStore/keyword:"+encodeURIComponent(a)):this.storeIndex?w("#storeGoodsSearch/keyword:"+encodeURIComponent(a)+"/storeId:"+this.storeId+"/orgCode:"+this.orgCode):this.storeSearch||
this.storeTop?this.isSearchResult?(console.log("4.5门店添加搜索结果页"),this.view.addSearchResult(a),this.$(".xm").html(a),this.addHistory(a)):w("#storeGoodsSearchNew/keyword:"+encodeURIComponent(a)+"/storeId:"+this.storeId+"/orgCode:"+this.orgCode+"/newStore:true/pagetype:"+this.pagetype):this.view.getGoodList(a,this.storeId,this.orgCode)},apiHotwords:function(a){var b=this;r(b.view,{functionId:"hotWords/list",body:{size:12,type:2,longitude:a.longitude,latitude:a.latitude,storeIds:a.storeIds||[],
channelId:a.channelId||""}}).done(function(a){(b.searchGlobal?b.view:b).$(".search-hot-wrap").html(h("an")({result:a}))}).fail(function(a){a&&500==a.code?(b.searchGlobal?b.view:b).$(".search-hot-wrap").html(h("fy")({msg:a&&a.msg})):(b.searchGlobal?b.view:b).$(".search-hot-wrap").html(h("an")({result:[]}))})},hotWords:function(){var a=this;a.getCoords().done(function(b){a.apiHotwords(_.extend({storeIds:a.storeIds,channelId:a.view.channelId},b));setTimeout(function(){a.getHistory()},
300)}).fail(function(){(a.searchGlobal?a.view:a).$(".wm").html(h("fy")({msg:"无法获取您的位置信息[0001]"}))})},searchfailCanClick:function(){this.$(".wo").removeClass("wp")},searchCanClick:function(){this.$(".wo").addClass("wp")},suggestWords:function(){var a=this,b=this.$("#search-keyword").val()&&this.$("#search-keyword").val().trim();b?a.getCoords().done(function(c){a.searchCanClick();a.apiSuggestWords(_.extend({key:b,storeIds:a.storeIds},
c))}).fail(function(){(a.searchGlobal?a.view:a).$(".wm").html(h("fy")({msg:"无法获取您的位置信息[0001]"}))}):a.clearSearch();a.showClear()},apiSuggestWords:function(a){var b=this;(b.searchGlobal?b.view:b).$(".search-show-wrap").hide();(b.searchGlobal?b.view:b).$(".key-suggest-wrap").show();r(b.view,{functionId:"suggest/list",body:{type:2,longitude:a.longitude,latitude:a.latitude,storeIds:a.storeIds||[],key:a.key}}).done(function(c){(b.searchGlobal?b.view:b).$(".key-suggest-wrap").html(h("aq")({list:c.resultListVO,
inputVal:a.key}))}).fail(function(){(b.searchGlobal?b.view:b).$(".key-suggest-wrap").html(h("aq")({list:[]}))})},addHistory:function(a){Ed(this.view,{key:a}).done(function(a){}).fail(function(){})},getHistory:function(){var a=this;r(a.view,{functionId:"searchHistory/getHistory",body:{}}).done(function(b){(a.searchGlobal?a.view:a).$(".w8").html(h("ap")({list:b}))}).fail(function(b){b=(b||{}).code;var c=(a.searchGlobal?a.view:a).$(".w8"),
e="",e=201==b?h("ao")({}):h("ap")({list:[]});c.html(e)})},clearHistory:function(){var a=this;r(a.view,{functionId:"searchHistory/clearHistory",body:{}}).done(function(){(a.searchGlobal?a.view:a).$(".search-history-box").html("")})},getStoreTypeClass:function(a){if(!0===a)a="store-type-618";else switch(K(a)){case 1:a="xg";break;case 2:a="xh";break;case 3:a="xi";break;case 4:a="xj";break;case 5:a="xk";
break;default:a="xg"}return a}});J=J||{};J.supermarketBottomCart=qa.extend({className:"supermarket-bottom-cart-warp",events:{"click .goShopCart":"goShopCart"},initialize:function(a){a||(a={});var b=a.count||0,c=a.price||0,e=a.freightTip||"",f=a.originPage||"";a=a.goodDate||"";this.form=f;this.goodDate=a;this.$el.html(h("x")({count:b,price:c,freightTip:e,form:f,goodDate:a}))},render:function(a){a.form=this.form;a.goodDate=this.goodDate;this.$el.html(h("x")(a))},
goShopCart:function(a){var b=$(a.currentTarget).attr("_href");C.getLoginStatus(function(a){if(a)x({hash:b});else return Yb("登录后才可以去结算哦！"),!1})}});J=J||{};J.uploadImage=qa.extend({events:{"click .picWrapper .uploadImage":"uploadImage","click .picWrapper .trueImg":"showBigImg","click .bigImgWrapper .delImg":"delBigImg","click .bigImgWrapper":"bigImgWrapper","click .failImg":"reloadUploadImg","click .imgShow em":"delImg"},initialize:function(a){this.view=a.view;this.imagesUrls=this.view.imagesUrls;a=
!0;jsJDApp=I||-1!=navigator.userAgent.indexOf("jdapp");ha&&I||E&&I||P||(a=!1);this.$el.html(h("g1")({canUploadPic:a}));this.$el.find(".picWrapper")},uploadImage:function(a){a=$(a.currentTarget);if(a.hasClass("isLoading"))return!1;I||a.addClass("isLoading");this.pushImageAttr(this.imagesUrls,".uploadImage",".picWrapper",a)},pushImageAttr:function(a,b,c,e){var f=this;a=f.imagesUrls;I?(f.handleUploadImage(),window.cameraCallBack=function(e){var l=window.location.protocol+"//img30.360buyimg.com/test/"+
e;f.$el.find(c).prepend(h("g3")({url:l,_url:e}));a.push(e);5==a.length&&f.$el.find(b).hide()}):wx.ready(function(){wx.chooseImage({count:5-a.length,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(g){function l(){window.__wxjs_is_wkwebview?wx.getLocalImgData({localId:q[0],success:function(a){a=a.localData;a=a.replace("jgp","jpeg");f.$el.find(c).prepend(h("g3")({url:a,showLoading:!0,_url:q[0]}))},fail:function(a){}}):f.$el.find(c).prepend(h("g3")({url:q[0],
showLoading:!0,_url:q[0]}));f.uploadImageToServer(q[0],b,e,a).done(function(){q.splice(0,1);0<q.length?l():e.removeClass("isLoading")}).fail(function(){})}var q=g.localIds;0<q.length&&l()},cancel:function(){e.removeClass("isLoading")},error:function(){e.removeClass("isLoading")}})})},handleUploadImage:function(a){try{switch(a="",E&&I?a="apple":ha&&I&&(a="android"),P&&(a="weixin"),a){case "android":window.JDClient&&window.JDClient.openCamera?JDClient.openCamera():n("请升级您的京东版本");break;case "apple":window.location.href=
"objc:callCamera";break;case "wp":window.external.Notify("callCamera_repairGoods");break;case "weixin":break;default:window.JDClient&&window.JDClient.openCamera?JDClient.openCamera():n("请升级您的京东版本")}}catch(b){n(b.message)}},uploadImageToServer:function(a,b,c,e,f){var g=this;e=g.imagesUrls;return $.Deferred(function(c){wx.ready(function(){wx.uploadImage({localId:a,isShowProgressTips:0,success:function(h){Ec(h.serverId).done(function(h){f?$.each(e,function(a,b){b==url&&e.splice(a,1,h)}):(e.push(h),5==
e.length&&$(b).hide());c.resolve();g.$el.find(".imgShow").find("em[url='"+a+"']").attr({url:h,showUrl:a})}).fail(function(h){g.$el.find(".picWrapper").find(".imgShow[_url='"+a+"']").find(".failImg").show();g.$el.find(".picWrapper").find(".imgShow[_url='"+a+"']").find(".isLoading").removeClass("loading").hide();g.$el.find(".picWrapper").find(".imgShow[_url='"+a+"']").find("em").show();f||(e.push(a),5==e.length&&g.$el.find(b).hide());c.resolve()}).always(function(){g.$el.find(".picWrapper").find(".imgShow[_url='"+
a+"']").find(".isLoading").removeClass("loading").hide();g.$el.find(".picWrapper").find(".imgShow[_url='"+a+"']").find("em").show()})},error:function(){g.$el.find(".picWrapper").find(".imgShow[_url='"+a+"']").find(".isLoading").removeClass("loading").hide();g.$el.find(".picWrapper").find(".imgShow[_url='"+a+"']").find(".failImg").show();g.$el.find(".picWrapper").find(".imgShow[_url='"+a+"']").find("em").show();f||(e.push(a),5==e.length&&$(b).hide());c.resolve()}})})})},showBigImg:function(a){a=$(a.currentTarget).attr("src");
var b=this.$el.find(".imgShow[url='"+a+"']").find("em").attr("url"),c=this.imagesUrls,e=0;this.scrollT=$(window).scrollTop();this.documentH=$(document).height();var f=$(window).height();$("html,body").css({height:f,overflow:"hidden"});$(window).scrollTop(0);$.each(c,function(a,c){if(c==b||-1!=b.indexOf(c))e=a+1});c=e+"/"+c.length;this.$el.append(h("g5")({url:a,text:c}))},delBigImg:function(a){a=$(a.currentTarget).attr("url");$(".bigImgWrapper").remove();a=this.$el.find(".imgShow[url='"+
a+"']").find("em");this.splitImageAttr(this.imagesUrls,".uploadImage",a)},bigImgWrapper:function(){var a=this.scrollT,b=this.documentH;$("html,body").css({height:b+"px",overflow:"auto"});$(window).scrollTop(a);$(".bigImgWrapper").remove()},reloadUploadImg:function(a){var b=$(a.currentTarget);a=b.attr("url");b.hide();b=this.$el.find(".uploadImage");this.$el.find(".picWrapper").find(".imgShow[_url='"+a+"']").find(".isLoading").addClass("loading").show();this.$el.find(".picWrapper").find(".imgShow[_url='"+
a+"']").find("em").hide();this.reuploadImageToServer(a,".uploadImage","",b,this.imagesUrls,!0)},reuploadImageToServer:function(a,b,c,e,f){var g=this;e=this.imagesUrls;wx.ready(function(){wx.uploadImage({localId:a,isShowProgressTips:0,success:function(b){Ec(b.serverId).done(function(b){$.each(e,function(a,c){c==url&&e.splice(a,1,b)});g.$el.find(".imgShow").find("em[url='"+a+"']").attr("url",b)}).fail(function(b){g.$el.find(".picWrapper").find(".imgShow[_url='"+a+"']").find(".failImg").show()}).always(function(){g.$el.find(".picWrapper").find(".imgShow[_url='"+
a+"']").find(".isLoading").removeClass("loading").hide();g.$el.find(".picWrapper").find(".imgShow[_url='"+a+"']").find("em").show()})},error:function(){g.$el.find(".picWrapper").find(".imgShow[_url='"+a+"']").find(".isLoading").removeClass("loading").hide();g.$el.find(".picWrapper").find(".imgShow[_url='"+a+"']").find(".failImg").show();g.$el.find(".picWrapper").find(".imgShow[_url='"+a+"']").find("em").show()}})})},delImg:function(a){a=$(a.currentTarget);this.splitImageAttr(this.imagesUrls,".uploadImage",
a)},splitImageAttr:function(a,b,c){a=this.imagesUrls;$.each(a,function(e,f){f==c.attr("url")&&(5>=a.length&&$(b).show(),$(c).parent().remove(),a.splice(e,1))})}});;;;
;;;;;;;;;;;;;;;
;;;View.extend({name:"index",title:"京东到家",
borrow:Q.ColumbusActivity,events:{"click .aw":"gotoDownload","tap .ax":"closeDownloadBar","click [skipByKeys]":"skipWithKeys","click [node-type=index-checkStoreActivity]":"checkIndexStoreActivity","click .adk,.adm":"showStoreSearch","click .wg":"bindScrollWhenCancelSearch","click .a7m":"tapRedPack","click .sh":"ToNormalIndex","click .reduce":"cutGoods","click .add":"addGoods","click [couponCode]":"activityCoupons",
"click [node-type=index-checknearbyStore]":"checknearbyStore"},from:{indexaddress:"addressHandler"},initialize:function(a,b,c){a||(a={});var e=this;e._hasLogin=!1;e.$el.html(h("dx")({loading:!0,includefooter:!0,pagename:"index"}));Jc=!1;"true"==(a.queryParam||{}).jdappcustombutton&&(c={isglb:"",isIndex:void 0});c||(c={isglb:"",isIndex:a.entrancepage&&-1===(a.hash||"").indexOf("index")?!1:void 0});if(b)a=b||t.getLocalCurrent()||{},ja(a)?(e._currentUse=a,e.fetchFloor(a,!0,c)):(e.getOneAddress(),
setTimeout(function(){e.$(".content").append(h("fx")())},1E3));else{var f=function(a){e.getOneAddress(null,!0);e.$(".content").append(h("fx")(a||{}))};null===a.address?f():t.getCurrentUse().done(function(a){e.scrollBind=!0;e._currentUse=a;e.fetchFloor(a,!0,c)}).fail(function(a){f(a)})}$(window).bind("click touchstart",function(){$(".dc").hide()});setTimeout(function(){pa()},50)},bindScrollWhenCancelSearch:function(){this.$(".we").remove();
this.moveCallBack("end",this);hb(this,this.moveCallBack,this.endCallBack)},addressHandler:function(a){!a||_.isEqual(a,this._currentUse)||a&&!a.address||(this._currentUse=a,t.saveLocalCurrent(a),this.initialize({},a,{isglb:"",isIndex:void 0}))},getAddress:function(){var a=this;t.getCurrentUse({hasLogin:a._hasLogin,justCoords:!0}).done(function(b){a.scrollBind=!0;a._currentUse=b;var c;b.address&&(c=!0);a.getIndexFloor(b,c)}).fail(function(b){a.scrollBind=!1;a.getOneAddress();setTimeout(function(){a.$(".content").append(h("fx")())},
1E3)})},fetchFloor:function(a,b,c){var e=this,f=seckillData=_.extend({isglb:c.isglb||"",currentPage:e.currentPage||"",storeId:e.storeId,activityId:e.activityId,isIndex:c.isIndex},a);e.currentPage&&(e.isLoadingGlb=!0);cc(e,f).done(function(c,l,h){c||(c={});e.noHaveFloor=1==l.isStoreHome||c.data[0].data?!1:z("recommend_floor")?!1:!0;1==l.isglb?(c.config||(c.config={}),c.storeInfo||(c.storeInfo={}),e.activityId=c.config.activityId,e.storeId=c.config.store_id,e.orgCode=c.storeInfo.orgCode,e.currentPage||
R(e,e.moreGlb,"div[floor]"),e.renderGlb(c,a)):e.indexPageLoad(f,b,c,seckillData,h)}).fail(function(b){b.result||(b.result={});var c=b.result.lbsAddress||a,f=b.code;e.renderAddr(c);c?2==f?(setTimeout(function(){lg("user_action","1.0",{clickid:"no_service ",type:1})},500),e.$(".content").html(h("fz")({msg:b.msg,noHeight:!0})),e.redPack()):4==f?(e.getOneAddress(),setTimeout(function(){e.$(".content").append(h("fx")())},1E3)):9900==f?(setTimeout(function(){lg("user_action",
"1.0",{clickid:"no_service ",type:1})},500),e.$(".content").html(h("fz")({msg:b.msg,noHeight:!0})),e.redPack()):(b=h("fs")({msg:b&&b.msg}),e.$(".content").html(b).show()):(e.getOneAddress(),setTimeout(function(){e.$(".content").append(h("fx")())},1E3))}).always(function(){setTimeout(function(){e.upMove=!0;e.downMove=!0;hb(e,e.moveCallBack,e.endCallBack)},9)})},endCallBack:function(a,b){setTimeout(function(){b.moveCallBack("end",b)},200)},moveCallBack:function(a,
b){function c(){h.css({opacity:1});l.css("opacity",0);f.$(g).css("opacity",0);v.removeClass("changeX").css("right","45px");t.removeClass("changeX").css("right","5px")}function e(){h.css({opacity:0});l.css("opacity",1);f.$(g).css("opacity",1);v.removeClass("changeX").css("right","5px");t.removeClass("changeX").css("right","-35px")}var f=this,g=f.$(".adj")[0],l=f.$(".adi").eq(0),h=f.$(".adh");if(!g)return!1;var n=g.getBoundingClientRect().top+44,
r=l.height()||44,s=r-$(g).height(),t=f.$(".adm"),v=f.$(".cr"),u=0;"end"==a?n<=s-5?c():n>=r-5&&e():n>s&&n<r?(u=(r-n)/$(g).height(),f.$(g).css("opacity",1-u),l.css({opacity:1-u}),h.css("opacity",u),"up"==a?b.upMove&&(b.upMove=!1,b.downMove=!0,v.addClass("changeX"),t.addClass("changeX")):"down"==a&&b.downMove&&(b.downMove=!1,b.upMove=!0,t.removeClass("changeX"),v.removeClass("changeX"))):n<=s?c():n>=r&&e()},renderGlb:function(a){a||(a={});var b=this;b.hasNextPage=!0;b.result=
a;b.currentPage||(b.currentPage=1);b.storeInfo=a.storeInfo||{};b.result=_.extend(b.result,{isCart:!0,hideStoreTitle:!0,skuDate:"store_home_sku",cartaddDate:"click_add",cartreduceDate:"click_reduce",hideLink:!0});a.isIndexPage=!0;a.activityId=b.activityId;if(a.config){b.pageSize=a.config.pageSize||1;var c=a.config.totalCount||0;b.pages=0<c%b.pageSize?parseInt(c/b.pageSize)+1:c/b.pageSize;a.config.gloabTitle&&b.setTitle(a.config.gloabTitle);b.weixinShareInfo=b.setWXShareText(a.config.shareInfo||{});
fa(b.weixinShareInfo)}a.data&&a.data.length?(1==b.currentPage?(b.$(".content").html(h("k")({result:a})),setTimeout(function(){$(".a01").show();$(".a04").attr("href","#index/normalIndex")},0),setTimeout(function(){lg("user_action","1.0",{clickid:"glb_index_20170414",activityId:b.activityId,storeId:b.storeId})},500)):b.$(".sk").append(h("c")({result:a})),(a.config.currentPage||0)>=b.pages?(b.hasNextPage=!1,b.$(".ct").removeClass("cu"),
b.$(".rf").show()):(b.currentPage++,b.$(".ct").addClass("cu"))):1==b.currentPage&&b.setContentView(h("fw")({msg:a.msg||"这里没有活动，回首页逛逛吧[0001]",fromDepriceList:!0}));b.$(".a4q").length||(b.$("footer.index").hide(),b.insertGoShopFragment())},indexPageLoad:function(a,b,c,e,f){$(".a01").hide();var g=this,l=a;clearInterval(g.seckillSetTime);c||(c={});c.data?(c.config||(c.config={}),c.config.searchConfig||
(c.config.searchConfig={}),g.topImg=c.config.searchConfig.topImg||"",g.bottomImg=c.config.searchConfig.borderImg||"",g.imgWidth=c.config.searchConfig.imgWidth||"",g.imgHeight=c.config.searchConfig.imgHeight||"",g.storeListSort=c.config.storeSortTexts,b?c.address=l:(l=c.userAddress||c.lbsAddress||{},t.saveLocalCurrent(t.formatAddressData(l))),g.renderAddr(l),g.$(".content").html(h("b7")({result:c,contentWrapper:!0})),g._currentUse=l,g._hasLogin=c.login,g._result=c,setTimeout(function(){v.scrollTop(0.1);
g.$el.append(h("b6")());1==g.$(".av").length?g.$(".c2").addClass("hasBottom"):g.$(".c2").removeClass("hasBottom");g.$("[swipe]").each(function(a,b){var c={};$(b).hasClass("type")&&(c={auto:4E3});var e=$(b).find("li[advertisingType]"),c=_.extend(c,{banner:!0,dom:$(b)});(!f||!f.isCache||u.getItem("Ignore")&&f&&f.isCache)&&0<e.length&&(c=_.extend(c,{advertisingType:e.attr("advertisingType"),exposalUrl:e.attr("exposalUrl"),requestJDOnce:!0}));Ca(b,
c)});u.setItem("Ignore",!1);c.config.storeConfig&&c.config.storeConfig.recommendStore&&(g.index=1,g.address=l,R(g,g.moreRecommendStore,".vo li.dr"),g.getRecommendStore());clearInterval(g.seckillSetTime);g.seckillFn(c,e)},0),g._hasLogin&&g.checkNewMessage({djPin:C.getPDJPin(),cityId:l.cityId}),b=(c.config.sideFloor||[])[0]||{},b.address=a,g.isShowCoupons(b),g.redPack()):(g.renderAddr(a),g.$(".content").html(h("fz")({msg:c.msg,noHeight:!0})),g.hideHeadAnimation())},
moreGlb:function(){this.hasNextPage&&!this.isLoadingGlb&&this.fetchFloor(this.address,!1,{isglb:1,isIndex:void 0})},redPack:function(){var a=new J.redPack({channel:I?"jdh5":"h5",pageFrom:"index"});$("div[daojia]").prepend(a.el)},getRecommendStore:function(){var a=this;a.lockLoading=!0;1==a.index&&a.$(".index-content-wrapper-recommend").html(h("dx")({loading:!0}));qb(a,a.index,a.address,"",a.guize).done(function(b){b||(b={});if(b.data&&b.data.data&&b.data.data.length){(b.data.noHaveFloor=a.noHaveFloor)&&
Y("recommend_floor","1");b.floorTitle||(b.floorTitle={});1==a.index&&(a.pages=Math.ceil(K(b.config.storeConfig.totalCount)/K(b.config.storeConfig.pageSize)));var c={};"string"==typeof b.config.userAction&&(c=W(b.config.userAction));try{c.click_id="home_store_list_load_20160714",lg("user_action","1.0",c)}catch(e){}0==a.$(".a9").length&&(a.$(".c2").addClass("storeMargin"),a.$(".we").addClass("storeBar"));1==a.index?a.$(".index-content-wrapper-recommend").html(h("bl")(b.data)):
a.$(".vo").append(h("gu")(b.data));a.index++;a.hasNextRecommend=a.index>a.pages?!1:!0;a.hasNextRecommend?a.$(".ct").addClass("cu"):(a.$(".ct").removeClass("cu"),a.$(".rf").show())}else a.hasNextRecommend=!1,a.$(".ct").removeClass("cu"),a.$(".index-content-wrapper-recommend").html("")}).fail(function(b){a.guize&&
1==a.index&&(a.$(".d3 li").removeClass("current"),a.$(".d3 li[guize='"+parseInt(a.lastGui)+"']").addClass("current"));a.hasNextRecommend=!1;a.$(".ct").removeClass("cu");1==a.index&&a.$(".index-content-wrapper-recommend").html(h("fs")({msg:b&&b.msg}))}).always(function(){a.lockLoading=!1})},moreRecommendStore:function(){this.hasNextRecommend&&!this.lockLoading&&this.getRecommendStore()},getOneAddress:function(a,
b){var c=this,e=c.$("a[go-to-indexaddress-page][href]");setTimeout(function(){c.$(".rf").hide();c.$el.hasClass("current")&&(c.$("#keyword").blur(),e&&e[0]?e.click():x({hash:"#indexaddress",data:{currentaddress:c._currentUse,hasLogin:c._hasLogin,noLocation:b}}))},e&&e[0]?9:500)},give:{indexaddress:function(){return{currentaddress:this._currentUse,hasLogin:this._hasLogin}}},closeDownloadBar:function(){this.$(".av").hide();this.$(".c2").removeClass("hasBottom");
u.setItem("index-not-show-download-bar",1)},slideShow:function(a,b){var c=0;if("whole"==b)var e="a",f="show-miaosha";else e="img",f="show-pic";if(a.length){this.$(a.find(e)[0]).addClass(f);var g=a.find(e),l=g.length;clearInterval(h);var h=setInterval(function(){0==$("body").has(a).length?clearInterval(h):0==a.height()?clearInterval(h):(c++,c>=l&&(c=0),$(g).removeClass(f),$(g[c]).addClass(f))},3E3)}},skipWithKeys:function(a){a=$(a.currentTarget);var b=a.attr("keySkipData"),c=a.attr("userAction"),e=
"#indexSearchToStore";c&&(c=W(c),e=e+"/res_unit:"+c.res_unit+"/res_type:"+c.res_type+"/unit_index:"+c.unit_index);b=W(b);a.hasClass("keywords")&&lg("user_action","1.0",{clickid:"click_rm_search",keyword:a.html(),darkkeyword:""});"rec"==a.attr("source")?w("#indexSearchToStore/keyword:"+encodeURIComponent(b.keyWords)+"/res_type:search"):(a.hasClass("keywords")&&(e+="/res_type:search"),x({hash:e,keep:!0,data:b}))},renderAddr:function(a){this.$(".indexTopWrapper").remove();this.$el.prepend(h("b4")({address:a,
topImg:this.topImg,bottomImg:this.bottomImg,imgHeight:this.imgHeight,imgWidth:this.imgWidth}))},showStoreSearch:function(){var a=this.$(".adk").find("span");this.searchWords=a.text();this.realSearchWords=a.attr("realsearchwords")||"";a=new J.searchBar({fromIndex:!0,view:this,address:this._currentUse});this.$el.prepend(a.el);ib()},backin:function(){Jc&&(I?window.reload():L());var a=this;a.$(".we").remove();R(a,a.moreRecommendStore,".vo li.dr");
setTimeout(function(){a.moveCallBack("end",a);hb(a,a.moveCallBack,a.endCallBack)},100);a._hasLogin&&a.checkNewMessage({djPin:C.getPDJPin(),cityId:t.getLocalCurrent().cityId})},gotoDownload:function(a){var b=E?"https://itunes.apple.com/us/app/pai-dao-jia/id954995415?l=zh&ls=1&mt=8":"http://storage.jd.com/apk/jingdongdaojia.apk";setTimeout(function(){tb?"":window.location.href=b},1500)},checkIndexStoreActivity:function(a){a=this.$(a.currentTarget);var b=a.prev().children('[node-type="index-storeActivityList"]').children("li");
a.find(".a2q").toggleClass("adx");b.each(function(a){1<a&&$(this).toggle()})},leave:function(){clearInterval(this.seckillSetTime);ib();this._backinTop=document.documentElement.scrollTop||document.body.scrollTop;this._SweipeHeight=this.$(".swipe7").height()},checkNewMessage:function(a){var b=this;b.$(".cr").find("i").addClass("hideDot");rb(b,a).done(function(a){a&&a.length&&$.each(a,function(a,c){1==c.status&&b.$(".cr").find("i").removeClass("hideDot")})})},
isShowCoupons:function(a){a&&a.imgUrL&&(this.$el.prepend(h("e1")(a)),this.redPackScroll())},tapRedPack:function(a){1==$(a.currentTarget).attr("newPer")&&(this._hasLogin||X())},redPackScroll:function(){var a=this,b=null;a.$(".scrolling").bind("touchmove",function(c){clearTimeout(b);a.$(".a7m").removeClass("a7n").addClass("a7o")}).bind("touchend",function(){b=setTimeout(function(b){a.$(".a7m").removeClass("a7o").addClass("a7n")},
1E3)})},hideHeadAnimation:function(){this.$(".adi").css({opacity:1,backgroundImage:this.topImg});setTimeout(function(){ib()},0)},onhashchange:function(a){-1!=a.indexOf("normalIndex")?(this.$(".a4q").hide(),this.$("footer.index").show(),this.initialize(null,null,{isglb:"",isIndex:!0})):(delete this.currentPage,this.initialize(null,null,{isglb:1,isIndex:void 0}))},ToNormalIndex:function(){location.hash=kb("normalIndex")},checknearbyStore:function(a){a=this.$(a.currentTarget);
a.find(".a2q").toggleClass("adx");var b=a.next();a.parent().toggleClass("aed");b.toggleClass("aeh");a.parents(".dr").toggleClass("aea");b=a.attr("data-storeId");a.parent().hasClass("aed")?a.attr("onclick",'lg("user_action","1.0",{"clickid":"foldStore","storeId":"'+b+'","isFlold":"true"})'):a.attr("onclick",'lg("user_action","1.0",{"clickid":"foldStore","storeId":"'+
b+'","isFlold":"false"})')},seckillFn:function(a,b){var c=this;clearInterval(c.seckillSetTime);$.each(a.data,function(e,f){"seckill"==f.floorStyle&&"tpl1"==f.styleTpl&&(c.seckillSetTime=setInterval(function(){ud(b).done(function(b){0<b.length?(c.$("#dh").html(h("bh")({data:b,address:a.address})),$("#de").show()):$("#de").hide()}).fail(function(a){n(a.msg)})},f.syncTime))})}});View.extend({name:"indexaddress",title:"京东到家",events:{"tap .yx":"showcitylist",
"click .z7 ul li,.z9 ul li,.z8 ul li":"manaulSetAddress","click .z0":"freshdevicelocation","click li[addressid]":"changeCurrentAddr","tap .zh li":"cityselect","click .yy":"showAddressHistory","input .yy":"opiAddress","tap .z5 .toomany":"preventAdd","tap .zc button":"clearHistory"},initialize:function(a){function b(a,b){g.hasLogin=b;g.$(".content").html(h("dx")({insert:"m",
addresslist:a||[],city:f,address:q,hasLogin:b,sharePage:n}));r(g,{functionId:"addresspdj/getCities",body:{}},{cache:!0}).done(function(a){g.$("div.zf").append(h("p")({result:a,cityName:f}))}).fail(function(){g.$("div.zf").append(h("p")({result:[{areaName:f}],cityName:f}))});b&&r(g,{functionId:"local/getSearchInfos",body:{}},"GET").done(function(a){a&&g.$("div.z8").html(h("n")({result:a}))}).fail(function(a){});
g.noLocation&&g.showcitylist()}a||(a={});var c=a.data||{},e=c.hasLogin,f="北京市",g=this,l=a.from,q=g.currentaddress=c.currentaddress||{};a=ea(a.query||"").type;f=q.cityNameDefault||q.city||q.cityName||f;g.cityName=f;g._data=q;g.hasLogin=e;g.type=a||"";g.noLocation=c.noLocation;g.setContentView(h("dx")({loading:!0}));C.fetchAddressList(!1).done(function(a){b(a,!0);g.addresslist=a}).fail(function(a){a||(a={});b(null,"empty"==a.type?!0:!1)});if("storeHome"==l||"channelPage"==l&&"channelShare"==a||
"activityPage"==l&&"activityShare"==a||"goodsDetails"==l||"seckillList"==l||"grabList"==l){var n=!0;g.currentaddress=q=t.getLocalCurrent();g._data=_.extend(q,{type:g.type})}if("tuanDetails"==l||"tuanAddress"==l)n=!0,g.currentaddress=q=t.getLocalCurrent(),g._data=_.extend(q,{type:g.type});v.bind("message",function(a){v.unbind("message");var b=a.data;b&&"locationPicker"==b.module&&Fa({longitude:b.latlng.lng,latitude:b.latlng.lat,needMatch:1}).done(function(a){a.title="我的位置"==b.poiname?b.poiaddress||
a.title:b.poiname;a=t.formatAddressData(a);t.manualSetCurrentUse(a);g.goBack(null,a)}).fail(function(){})},!1)},manaulSetAddress:function(a){var b=this;b.$(".yy").blur();a=$(a.currentTarget);var c=W(a.attr("jsondata"));if(c){var e=function(){c&&c.location&&(c.longitude=c.location.lng,c.latitude=c.location.lat,delete c.location);b.storeId&&(c._type_="share");t.manualSetCurrentUse(c);b.goBack(null,c)};0<a.parents(".z7").length&&b.hasLogin?r(b,{functionId:"local/addSearchInfo",
body:c},"GET").always(function(){e()}):e()}},freshdevicelocation:function(a){this.$(".yv").addClass("none");this.$(".z9").removeClass("none");this.$(".z5").addClass("none");this.$(".z9").html(h("r")());return!1},changeCurrentAddr:function(a){var b=this.$(a.currentTarget),c=b.attr("addressid");a=this.$(a.target);"SPAN"==a[0].nodeName&&a.hasClass("ul")?(a=C.getAddressById(c,this.addresslist),x({hash:"#editaddress/addressid:"+c,data:{address:a}}),
this.type&&x({hash:"#editaddress/addressid:"+c,data:{address:a}+"/sharePage:true"})):(a=C.switchLocalDefaultAddress(c),b.parent().find("li[addressid]").removeClass("current"),b.addClass("current"),this.goBack(null,a))},showcitylist:function(a){this.$(".yy").blur();this.$(".yv").addClass("none");this.$(".zf").removeClass("none");lg("user_action","1.0",{clickid:"city_select"});this.noLocation&&(lg("user_action","1.0",{clickid:"loacte_failed"}),N({title:"定位失败",
msg:"请选择城市后手动搜索地址",button:[{text:"ok",callback:function(){}}]}))},cityselect:function(a){this.noLocation&&(this.$(".yy").trigger("click"),this.noLocation=!1);a=this.$(a.currentTarget);a.addClass("curr").siblings().removeClass("curr");this.cityName=a.attr("areaname");this.$(".yx").html(this.cityName);this.$(".yx").attr("clstag","pageclick|keycount|choose_add_201605164|"+a.attr("cityId"));this.$(".yv").removeClass("none");this.$(".zf,.z7").addClass("none");
this.$(".yy").val("")},goBack:function(a,b){if(jShopShare){var c=t.getLocalCurrent(),e=decodeURIComponent(A("returnLink")),c=-1!=e.indexOf("?")?e+"&latitude="+c.latitude+"&longitude="+c.longitude+"&title="+encodeURIComponent(c.title)+(c.id?"&addressId="+c.id:""):e+"?latitude="+c.latitude+"&longitude="+c.longitude+"&title="+encodeURIComponent(c.title)+(c.id?"&addressId="+c.id:"");w(c);return!1}this._data=_.extend(b,{type:this.type});c=(Manager.entrancehash||"").split("/")[0];e=Manager.hist.length;
1==e&&c==this.name?x({hash:"#index"}):!Mc&&!I&&2==e&&3>history.length?(c=Manager.hist[1],location.replace("#"+(c.hash||c.route))):Ic&&E&&I?x({hash:"#index"}):L()},returnData:function(){return _.extend(this._data,{cityNameDefault:this.cityName})},showAddressHistory:function(a){this.$(a.currentTarget).removeClass("defaultWidth");this.$(".z5").addClass("none");this.$(".yx").removeClass("none");this.$(a.currentTarget).val().trim()||(this.$(".yz").addClass("none"),
this.$(".z8").removeClass("none"))},opiAddress:function(a){var b=this;a=a.currentTarget.value.trim();b.promise_&&b.promise_.xhr&&b.promise_.xhr.abort();a||b.$(".z7").hasClass("none")?a&&(b.$(".z8").addClass("none"),b.$(".yz").addClass("none"),b.$(".z7").removeClass("none"),b.promise_=$b(b,b.cityName,a).done(function(a){b.$(".z7 ul").html(h("o")({result:a}))}).fail(function(a){b.$(".z7 ul").empty()})):
(b.$(".z8").removeClass("none"),b.$(".z7").addClass("none"))},preventAdd:function(a){a.preventDefault();n("地址数已达到最大");return!1},clearHistory:function(){var a=this;r(a,{functionId:"local/delSearchInfos",body:{}},"GET").done(function(b){a.$(".z8").empty().addClass("none")}).fail(function(a){n(a.msg||"删除历史记录失败")})},backin:function(a){this.initialize()},leave:function(){v.unbind("message")}});;;;;;
;;;;;;;;;;;;;;;
;;;;
;;;;;
;;;;;;;;;;;;View.extend({borrow:[Q.storeHomeView,Q.shareOperate,Q.storeHome_normal],name:"storeHome"});View.extend({borrow:[Q.storeHomeView,Q.shareOperate,Q.storeHome_normal],name:"storeHomeFast",
closeGuidelist:function(){$(".a3i").hide().remove();$(".a3j").hide().remove()},guideMask:function(){this.$(".scrolling").append(h("cx")({}))},goNewStoreDetail:function(a){var b=this.$(a.target);b.hasClass("a1v")||b.hasClass("a1x")?this.changeFocus(a):(lg("user_action","1.0",{clickid:"gostoreInfo",store_id:""+this.storeId+""}),x({hash:"#storeDetail/storeId:"+this.storeId+"/latitude:"+this.latitude+"/longitude:"+this.longitude}))},ajaxStoreHomePub:function(a){var b=
this;b.fastStoreList=!0;a=t.getLocalCurrent()||{};var c={storeId:b.storeId,longitude:a.longitude||0,latitude:a.latitude||0};b.$(".a3g li").each(function(a,c){var g=$(c);g.index();var h=g.data("storeid");g.removeClass("active");var n=0;if(b.storeId==h){h=0;for(h=a;0<h;h--)n+=b.$(".a3g li").eq(h).width();b.$(".a3g").scrollLeft(n);g.hasClass("active")?"":g.addClass("active")}});b.$(".storeFastWrap").html(h("dx")({loading:!0}));Ua(b,c).done(function(a){b.fastSending=
!1;b.ajaxStoreData(a,c)}).fail(function(a){b.$(".content").html(h("fs")({msg:a&&a.msg}));b.fastSending=!1})},onhashchange:function(a){this.searchResult||(this.storeId=ea(a).storeId,this.ajaxStoreHomePub())},switchStore:function(a){this.fastSending||(this.hasGoodsShop=this.hasGoodsShop?!1:"",a=this.$(a.currentTarget),a.siblings("li"),a.index(),this.$(".a3g"),this.storeId=a.data("storeid"),a.hasClass("active")?this.fastSending=!1:this.fastSending=!0,window.location.hash=
"storeHomeFast/storeId:"+this.storeId,lg("user_action","1.0",{clickid:"oftenshop",store_id:""+this.storeId+""}))},leave:function(a){"storeHomeFast"==this.name&&a.is_goback&&L()}});;;;;;;;;;;;View.extend({name:"vip",title:"VIP会员",events:{"click .open_button":"openVip","click .meal_item":"current","click .close-pop,.aax":"closePop","click .aaf":"showXFPop","click .pay-vip-baoyue ":"openVipBY","click .aa2":"scrollTopBottom"},initialize:function(a){document.title="VIP会员";var b=this;b.setContentView(h("dx")({title:"VIP会员",loading:!0,includefooter:!1,pagename:"vip"}));
r({functionId:"vip/getUserVip",body:{}},"POST").done(function(a){a.isManage=P||O||I;b.$(".content").html(h("gm")(a||{}));lg("user_action","1.0",{page_name:"member",isvip:a.vip});b.result=a;a.isManage?b.$(".meal_item").eq(0).click():b.$(".meal_item").eq(1).click();a=JSON.stringify(a.vipRightsResponseList);window.localStorage.setItem("vipDecs",a)}).fail(function(a){"201"==a.code||"202"==a.code?b.$(".content").html(h("fr")):b.$(".content").html(h("gl")({msg:a.msg}))});
window.djAppDidBecomeActive=function(){location.replace(location.href)}},scrollTopFn:function(){$(document).scroll(function(){180<=document.documentElement.scrollTop?$(".open_button").addClass("open_fixed"):$(".open_button").removeClass("open_fixed")})},current:function(a){a=this.$(a.currentTarget);this.id=a.attr("itemId");this.isAuto=a.attr("isAuto");$(".meal_item").removeClass("current");a.addClass("current")},openVip:function(){lg("user_action","1.0",{clickid:"go_buy",page_name:"member"});if(1==
this.isAuto){var a=this.result.vipPackageResponseList[0];this.$(".content").append(h("gq")({showBYPop:!0,data:a}));return!1}if(!this.id)return n("请先选择套餐哦！"),!1;var a=P?29:I?30:O?28:31,b=window.location.protocol+"//"+window.location.host+"/html/index.html#vipPayResult";O&&(b="openapp.jddj://communication/payVipSuccess",E&&(wa?window.webkit.messageHandlers.MobileNavi.postMessage({method:"isVipSettlement",params:JSON.stringify({isVip:!0}),callBackName:null,callBackId:null}):isVipSettlement(!0)));
$(".abm").show();$(".open_button").hasClass("disabled")||($(".open_button").addClass("disabled"),a={url:b,paySource:a,vpId:this.id},ee(a).done(function(a){!0==a.success?w(a.paymentUrl):n(a.msg)}).fail(function(a){n(a&&a.msg)}).always(function(){$(".abm").hide();$(".open_button").removeClass("disabled")}))},showXFPop:function(){var a=this;ie().done(function(b){a.$(".content").append(h("gq")({showXFPop:!0,data:b}))}).fail(function(a){n(a.msg)})},closePop:function(){this.$(".aax").remove()},
openVipBY:function(){var a=this,b=P?29:I?69:O?28:31,c=window.location.protocol+"//"+window.location.host+"/html/index.html#vipPayResult";O&&(c="openapp.jddj://communication/payVipSuccess",E&&(wa?window.webkit.messageHandlers.MobileNavi.postMessage({method:"isVipSettlement",params:JSON.stringify({isVip:!0}),callBackName:null,callBackId:null}):isVipSettlement(!0)));b={url:c,platform:E?"ios":"android",paySource:b,vpId:a.id};this.$(".aax").remove();$(".abm").show();$(".open_button").hasClass("disabled")||
($(".open_button").addClass("disabled"),Dc(b).done(function(b){0==b.status?setTimeout(function(){location.replace(location.href)},4E3):1==b.status?($(".abm").hide(),$(".open_button").removeClass("disabled"),a.openXwFree(b.url)):($(".abm").hide(),$(".open_button").removeClass("disabled"),n("开通失败，请稍后重试哦~"))}).fail(function(a){$(".abm").hide();$(".open_button").removeClass("disabled");a&&a.code?n("网络异常,请重试["+a.code+"]"):n(a&&a.msg)}))},scrollTopBottom:function(){v.scrollTop($(".open_button").offset().top)},
openXwFree:function(a){if(O)E?wa?window.webkit.messageHandlers.MobileNavi.postMessage({method:"getWXFree",params:JSON.stringify({signUrl:a}),callBackName:null,callBackId:null}):getWXFree(a):window.djJava.getWXFree(a);else if(I)try{E&&Ha?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"signWeixinPay",params:a}):window.JDAppUnite&&window.JDAppUnite.signWeixinPay(a)}catch(b){}else w(a)},leave:function(){delete window.djAppDidBecomeActive}});;;$(function(a){function b(){r&&s?w.addClass("bothvisible"):w.removeClass("bothvisible")}var c={};_.extend(c,ba.Events);var e=a("[bottommenus]"),f=a('[node-type="bottomMenuBigBg"]');pe(e[0]);var g={activityPage:!0,channelPage:!0,fullCutActivity:{bottom:160,minHeight:400},giftActivity:{bottom:160},goodsDetails:{bottom:120,hideSearchLink:!0},grabList:!0,searchIndex:{hideSearchLink:!0},
searchByGoods:{hideSearchLink:!0},searchByStore:{hideSearchLink:!0},searchByStoreToMore:{bottom:160,hideSearchLink:!0},storeGoodsSearch:{bottom:160,hideSearchLink:!0},storeHome:{bottom:115,hideSearchLink:!0},storeHomeFast:{bottom:115,hideSearchLink:!0},storeDisc:{bottom:135},storeList:!0,depriceList:!0,myGroup:{bottom:88},indexSearchToStore:{bottom:60,hideSearchLink:!0},storeGoodsSearchNew:{bottom:124,hideSearchLink:!0},pingjia:!0,mineCollectStore:!0,message:!0,myComments:{bottom:60},storeActivityPage:{bottom:60}},
h=!1,n={activityPage:!0,channelPage:!0,fullCutActivity:{bottom:122,minHeight:400},giftActivity:{bottom:122},grabList:!0,searchIndex:!0,searchByGoods:!0,searchByStore:!0,searchByStoreToMore:{bottom:122},storeGoodsSearch:{bottom:122},storeHome:{bottom:48},storeDisc:{bottom:97},storeList:!0,depriceList:!0,myGroup:{bottom:50},indexSearchToStore:{bottom:23},storeGoodsSearchNew:{bottom:87},storeHomeFast:{bottom:48}},r=!1;c.listenTo(Manager,"change:to",function(a){"chwlfwh"==z("channel")&&e.hide();var c=
g[a];c?(e.show(),r=!0):(e.hide(),r=!1);b();var f=(c||{}).bottom;_.isNumber(f)?e.css("bottom",f):e.css("bottom",60);(c||{}).hideSearchLink?e.find("[sousuolink]").hide():e.find("[sousuolink]").show();h=(c=n[a])?!0:!1;f=(c||{}).bottom;_.isNumber(f)?t.css("bottom",f):t.css("bottom",23)});e.click(function(a){a.preventDefault();e.find("[bottomlinks]").toggle();f.toggle()});f.click(function(){e.find("[bottomlinks]").hide();f.hide()});var s=!1,t=a("[clicktotop]"),u=!1;setInterval(function(){if(!u){var a=
v.height();v.scrollTop()>a&&h?(t.show(),s=!0):(t.hide(),s=!1);b()}},125);t.click(function(){function a(){clearTimeout(l);if(c<e){c++;var h=Math.ceil(Za(c,f,g,e)),l=setTimeout(a,15)}else c=e,clearTimeout(l);b.scrollTop(h)}""!=window.location.hash&&"#index"!=window.location.hash||lg("user_action","1.0",{clickid:"home_backtop_20160908"});va.trigger("toTop:click");if(!u){var b=v,c=0,e=15,f=b.scrollTop(),g=0-f;a()}});var w=e.add(t);va.on("toTop:stop",function(){u=!0});va.on("toTop:start",function(){u=
!1})});$(function(){P&&ca().done(function(){Ma();var a={},a=_.extend(a,ba.Events);a.listenTo(Manager,"change:to",function(a,b){setTimeout(function(){-1==_.indexOf("storeHome goodsDetails searchByGoods searchByStore searchByStoreToMore activityPage tuanDetails tuanAddress newPay daiPay storeActivityPage".split(" "),a)&&Ma()},300)})});if(za){var a=A("wyqb_temp");a&&"new"==a||hc(za).done(function(a){a&&w(a)})}!da&&Ka&&Oa&&((a=A("jdapp_temp"))&&"new"==a||r({functionId:"login/returnTreasureBoxPassport",
body:{},sid:Oa},{async:!1}).done(function(a){null==a&&C&&C.logout();Pb()?w("#orderlist"):a&&w(a)}));(a=A("from"))&&-1!=a.indexOf("dada")&&(document.title="订单支付");Nc&&Y("PDJ_H5_TOKEN",Nc);var b=$(document.body);E&&b.add(document.documentElement).addClass("ios");ha&&b.addClass("android");Oc();b={};_.extend(b,ba.Events);b.listenTo(t,"address",function(a){Ra(a.longitude,a.latitude,a.city||a.cityName,a.title||a.poi)}).listenTo(t,"coords",function(a){a.longitude&&Ra(a.longitude,a.latitude,"NULL","NULL")});
document.documentElement.style.fontSize=document.documentElement.clientWidth/7.5+"px";Manager.setConfig({pageContainer:$("[daojia]")[0]}).start();Manager.setDefaultPage("index");var c=xa();(b=A("h5hash"))&&!c&&(c=b);b=c.indexOf("/");b=-1===b?c:c.substring(0,b);Manager.entrancehash=c;""!==b||Pb()?Manager.goTo({hash:c,entrancepage:!0}):t.getCurrentUse().done(function(a){a=_.extend({isglb:"",currentPage:"",storeId:"",activityId:"",isIndex:!1},a);cc(null,a).done(function(a,b){u.setItem("Ignore",!0);b||
(b={});var e=null;1==b.isStoreHome&&(Manager.setDefaultPage("storeHomeFast"),e=((a||{}).storeInfo||{}).storeId,u.setItem("entrancepage-storeId",e));Manager.goTo({hash:c,entrancepage:!0,storeId:e})}).fail(function(a){Manager.goTo({hash:c,entrancepage:!0})})}).fail(function(a){Manager.goTo({hash:c,entrancepage:!0,address:null})});setTimeout(function(){ra(!0)},""==b||"index"==b||"storeHome"==b||"storeHomeFast"==b?701:0);I&&"dadajdmall"!=a&&(Ha&&$c(),Xb(),E&&"6.6.4">nc||!E)&&(ad(),bd());ra(function(){setTimeout(function(){Z("//static-o2o.360buyimg.com/daojia/js/selectMenu.js");
window.qqinit=function(){};-1==window.location.hash.indexOf("#newPay")&&Z(window.location.protocol+"//apis.map.qq.com/api/js?&libraries=geometry&v=2.exp&key=TVABZ-XEVAX-M6E4K-ZAUPQ-L5U7O-OPB6P&callback=qqinit");ta&&Z(window.location.protocol+"//pub.idqqimg.com/qqmobile/qqapi.js?_bid=152").done(function(){try{mqq.ui.setTitleButtons({left:{title:"返回",callback:function(){window.history.back()}}}),mqq.device.isMobileQQ(function(a){ta=a})}catch(a){}});Sc().done(function(){I&&Ha&&lg("user_action","1.0",
{clickid:"jdapp_wkwebview"})});Vc()},60)})});h.s={"j":'<div class="a3r"><ul class="store-top-wrap"><li class="dr" ><a class="s8 {{if isShare}}activityToStore{{/if}}" node-type="index-gotoStore" orgCode="{{result.params.orgCode}}" storeId="{{result.params.storeId}}" skuId="{{result.params.skuId}}"><div class="ae0"><img class="d9" src={{if result.imgUrl}}"{{result.imgUrl}}"{{else}}"//static-o2o.360buyimg.com/daojia/new/images/show_default.png"{{/if}} onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\'/><div class="d7"><h2>{{result.name}}</h2><div class="a20">{{if result.carrierNo == "9966"}}<p class="da" {{if result.colorCode}}style="background:{{result.colorCode}}"{{/if}}>达达专送</p>{{/if}} {{if result.deliveryFirst}}<p class="aeq {{if !result.deliverySecond}} index-store-list-descrip-only{{/if}}">{{result.deliveryFirst}}</p>{{/if}}</div><p class="adq">{{$40(result.storeStar)}}</p><p class="ae9">{{ if result.inSale && result.monthSale}} | {{result.monthSale}}{{/if}}</p><span class="s9" {{if bgColor}}style="background-color:{{bgColor}};"{{/if}}>进店逛逛</span></div></div></a>{{if (result.tags && result.tags.length>0)}}<div class="adv">{{if result.tags && result.tags.length>0}}<div class="a2p {{if $54() && ((result.tags.length == 1) && $55(result.tags))}}cf{{/if}}"><div class="dt"><ul node-type="index-storeActivityList" class="ady">{{include("hd",{storetags:result.tags})}}</ul></div><div class="xa" node-type="index-checkStoreActivity">{{if result.tags && $56(result.tags).length>2}}}}<span>{{$56(result.tags).length}}个活动</span><i class="adw a2q"></i>{{/if}}</div>{{/if}}</div>{{/if}}</li></ul><div class="s5"><i class="left"></i><i class="center"></i><i class="right"></i></div></div>',
"k":'<div class="sb">{{if result.storeInfo}}<div class="sc"><a class="si" onclick=\'lg("user_action", "1.0", {"click_name":"active_store_item","activityId":"{{result.activityId}}","store_id":"{{(result.storeInfo.params||{}).storeId}}"})\' href="{{$15(result.storeInfo.to,result.storeInfo.params,"",result.storeInfo.isOverZone)}}"><img class="sd" src= \'{{result.storeInfo.imgUrl || "//static-o2o.360buyimg.com/daojia/new/images/icon/notfound-2.png"}}\'/></a><div class="se"><a class="store-act-link2" onclick=\'lg("user_action", "1.0", {"click_name":"active_store_item","activityId":"{{result.activityId}}","store_id":"{{(result.storeInfo.params||{}).storeId}}"})\' href="{{$15(result.storeInfo.to,result.storeInfo.params,"",result.storeInfo.isOverZone)}}"><span class="sf">{{result.storeInfo.storeName}}</span><span class="sg">{{if result.storeInfo.inSale}}共{{result.storeInfo.inSale}}{{else}} -- 件商品 {{/if}}</span></a></div><div class="{{if result.storeInfo.isFollow == false}}ss js-store-act-extend{{/if}}"><div class="sh {{if result.storeInfo.isFollow == false && !result.isIndexPage}}sq{{/if}}">{{include(\'l\',{result:result})}}</div></div></div>{{/if}}<div class="sk">{{include("c",{result:result,isCart:true,cartreduceDate:cartreduceDate,cartaddDate:cartaddDate,skuDate:skuDate,hideLink:hideLink})}}</div><div class="ct"><i></i><span>继续滑动查看更多内容</span></div>{{if result.storeInfo}}<div class=\'rf sl \'><p><a class="sj" onclick=\'lg("user_action", "1.0", {"click_name":"active_store_item","activityId":"{{result.activityId}}","store_id":"{{(result.storeInfo.params||{}).storeId}}"})\' href="{{$15(result.storeInfo.to,result.storeInfo.params,"",result.storeInfo.isOverZone)}}"><span class="sm">更多商品，进店凑单</span></a></p></div></div>{{else }} {{/if}}',
"l":'{{if result.isIndexPage}}<a class="sj clearfix" href="javascript:void(0)" onclick=\'lg("user_action", "1.0", {"click_name":"to_more_store","activityId":"{{result.activityId}}","store_id":"{{(result.storeInfo.params||{}).storeId}}"})\'>逛更多门店</a>{{else}} {{if result.storeInfo.isFollow == true}}<a class="sj clearfix" href="{{$15(result.storeInfo.to,result.storeInfo.params,"",result.storeInfo.isOverZone)}}" onclick=\'lg("user_action", "1.0", {"click_name":"active_store_item","activityId":"{{result.activityId}}","store_id":"{{(result.storeInfo.params||{}).storeId}}"})\'>进店逛逛<span class="so"></span></a>{{else}}<div class="sp" {{if result.storeInfo.isFollow == false}}data-focus=0 onclick="lg(\'user_action\', \'1.0\', {\'click_name\':\'store_focus_20160815_1\',\'activityId\':\'{{result.activityId}}\',\'store_id\':\'{{(result.storeInfo.params||{}).storeId}}\'})" {{/if}} >关注</div>{{/if}} {{/if}}',
"m":'<div class="yv"><div class="yw a2">{{if city}}<h2 class="yx none" clstag="pageclick|keycount|choose_city_20160623_1|1">{{city || "北京市"}}</h2>{{/if}}<input class="yy defaultWidth" clstag="pageclick|keycount|indexaddress_search_20160815|1" maxlength="50" type="text" placeholder="选择城市、小区、写字楼、学校" /></div><div class="yz"><div class="z0" clstag="pageclick|keycount|choose_add_201605164|1"><i></i><p>点击定位当前地点</p></div>{{if hasLogin}} {{if addresslist && addresslist.length>0}}<p class="z2">我的收货地址</p>{{/if}}<div class="z1 {{if !addresslist || addresslist.length<=0}}noAddress{{/if}}">{{if addresslist && addresslist.length>0}}<ul>{{each addresslist}}<li addressid="{{$value.id}}" clstag="pageclick|keycount|choose_add_201605164|2"><p class="z4 {{if $index == (addresslist.length-1)}}borderNone{{/if}} a2"><span class="z3"><em>{{$value.name}}</em><b>{{$value.mobile}}</b></span><span class="uy">{{if $value.tags && $value.tags.length>0}}<i class="zi">{{$value.tags==1?"家":($value.tags == 2?"公司":"学校")}}</i>{{/if}} {{$value.fullAddress}}</span><span class="ul" addressId="{{$value.id}}"></span></p></li>{{/each}}</ul>{{else}} {{if $24()}}<div class="zd">无法获取您的定位信息<br/>请手动输入地址</div>{{else}} {{if !$108()}}<div class="address-prompt"><p class="ze">无法获取您的定位信息<br/>请手动输入地址</p><a href="#newaddress{{if sharePage}}/sharePage:true{{/if}}" class="z6">新建收货地址</a></div>{{else}}<div class="address-prompt"><p class="ze">请手动输入地址</p><a href="#newaddress{{if sharePage}}/sharePage:true{{/if}}" class="z6">新建收货地址</a></div>{{/if}} {{/if}} {{/if}}</div>{{else if $108()}}<div class="b3">请手动输入地址</div>{{else}}<div class="b3">无法获取您的定位信息<br/>请手动输入地址</div>{{/if}}</div><div class="z8 none"></div><div class="z7 none"><ul></ul></div></div>{{if hasLogin}}<p class="z5"><a {{if addresslist && addresslist.length!=20}}href="#newaddress{{if sharePage}}/sharePage:true{{/if}}"{{/if}} class="z6 {{if addresslist && addresslist.length==20}}toomany{{/if}}">新建收货地址</a></p>{{/if}}<div class="zf none"><h2 class="zg"><span>已开通城市</span></h2></div><div class="z9 none"><ul></ul></div>',
"n":"<h2>历史搜索记录</h2><ul>{{include('o',{result:result})}}</ul><p class=\"zc\"><button>清除搜索历史</button></p>","o":'{{if result}} {{each result}} {{if $value && $value.title}}<li jsondata=\'{{$33($value)}}\'><p class="list_wrapper {{if $index == (result.length-1)}}borderNone{{else}}a2{{/if}}"><span class="za">{{$value.title}}{{if $value.tuijian}}<i>推荐</i>{{/if}}</span><span class="zb">{{$value.address}}</span></p></li>{{/if}} {{/each}} {{/if}}',
"p":'<ul class="zh scroller">{{each result}}<li areaName="{{$value.areaName}}" cityId="{{$value.areaCode}}" {{if $value.areaName == cityName}}class="curr"{{/if}} tap>{{$value.areaName}}</li>{{/each}}</ul>',"q":'<div class="address_form"><div class="address_content"><span class="address_title">当前位置是：</span><span class="address_name">{{address}}</span><p class="address_btn h"><a href="#indexaddress{{if addressId}}/addressId:{{addressId}}{{/if}}{{if type}}/type:{{type}}{{/if}}" class="changeAddress k">更换地址</a><span class="address_go" tap>送到这里</span></p></div></div>',
"r":'<div class="cw"><iframe id="mapPage" scrolling="no" border="0" width="100%" height="100%" frameborder=0 src="https://3gimg.qq.com/lightmap/components/locationPicker2/index_https.html?search=1&type=1&key=TVABZ-XEVAX-M6E4K-ZAUPQ-L5U7O-OPB6P&referer=jddjapp"></iframe></div>',"s":'<div class="c qd {{if className}}{{className}}{{/if}}"><div class="alert">{{if type != "order" && title!==false}}<h2>{{=title}}</h2>{{/if}}<div class="f" {{if type == "order"}}style="padding:20px;"{{/if}}>{{=msg}}</div>{{if button.length==1}}<ul class="g alert-just-one-button h">{{else if button.length==2}}<ul class="g i h">{{/if}} {{each button}} {{if $value.tel}} {{=$value.text}} {{else}}<li index="{{$index}}" {{if $index==0}}class="j k"{{/if}}>{{=$value.text}}</li>{{/if}} {{/each}}</ul></div></div>',
"y":'<div class="adg" style="min-height:{{$29()}}px"><div class="adf"><p>{{msg || \'您还没有会员卡哦~\'}}</p></div></div>',"ar":'<div class="wd"><span>{{if showmsg}}{{showmsg}}{{else}}没有更多商品啦{{/if}}</span></div>',"aw":"<ul>{{include('ha',{autoaddcart: autoaddcart || '0',List:List,skuDate:skuDate,cartaddDate:cartaddDate,cartreduceDate:cartreduceDate,isCart:true,className:className,abTest:abTest,key: key,pagetype: pagetype})}}</ul>",
"b4":'<div class="indexTopWrapper"><div class="adh" {{if topImg}}style="background-image:url({{topImg}});background-size:100% {{$96(imgWidth,imgHeight,true,true)}}px"{{/if}}><a class="location" go-to-indexaddress-page href="#indexaddress/{{$64()}}"><span>{{(address && (address.poi || address.title || address.address || address.fullAddress || address.addressDetail))||\'获取地址失败\'}}</span><i class=\'ca cd\'></i></a><i class="adm" clstag="pageclick|keycount|home_search_20160623_2|1"></i><a class="cr" href="#message"><i class="hideDot"></i></a></div><div class="adi"><a class="location" go-to-indexaddress-page href="#indexaddress/{{$64()}}"><span>{{(address && (address.poi || address.title || address.address || address.fullAddress || address.addressDetail))||\'获取地址失败\'}}</span><i class=\'ca cd\'></i></a><i class="adm" clstag="pageclick|keycount|home_search_20160623_2|1"></i><a class="cr" href="#message"><i class="hideDot"></i></a></div></div>',
"b5":'{{if data}}<div class="adj" {{if data.borderImg}}style="background-image:url({{data.borderImg}});background-size:100% {{$96(data.imgWidth,data.imgHeight,true,true)}}px"{{/if}}><div class="adk" clstag="pageclick|keycount|home_search_layer" style="opacity:{{1-data.transparency/100}};{{if data.recommendKeyList && data.recommendKeyList.length>0}}margin-bottom:0px{{/if}}"><span realSearchWords={{data.realSearchWords||\'\'}}>{{data.searchWords||\'搜索附近的商家、商品\'}}</span></div>{{if data.recommendKeyList && data.recommendKeyList.length>0}}<div class="adl">{{each data.recommendKeyList}}<a class="keywords" source="{{$value.source}}" {{if $value.to=="storeListByKey"}} skipByKeys="{{$value.to}}" keySkipData=\'{{$33($value.params)}}\' userAction=\'{{$value.userAction}}\'{{/if}} {{if $value.to!="storeListByKey"}}href="{{$15(($value.to),($value.params),address,"","",$value.userAction)}}"{{/if}} {{if $value.fontColor}}style="color:{{$value.fontColor}}"{{/if}}>{{$value.recommendKey}}</a>{{/each}}</div>{{/if}}</div>{{/if}}',
"b6":'{{if !$23()}}<div class="av"><a class="aw" target=\'openapp\' clstag="pageclick|keycount|pdjdownload_201506251|1"><div class="ay"></div></a><a class="ax" tap></a><iframe name="openapp" style="display:none"></iframe></div>{{/if}}',"b7":'{{if noLocation}} {{include(\'bk\')}} {{/if}} {{if contentWrapper}}<div class="c2" style="min-height:{{$29(-150,\'index\')}}px" node-type="index-page"><div class="a8">{{include(\'b9\',{data:result.data,config:result.config,address:result.userAddress || result.lbsAddress || result.address})}}</div><div class="index-content-wrapper-recommend"></div><div class="ct"><i></i><span>继续滑动查看更多内容</span></div><div class=\'rf\'><p><i class="bb"></i>没有更多商家啦<i class="bc"></i></p></div></div>{{/if}}',
"b8":'{{if $value.data.length>0}}<div class="swipe7 {{if $value.floorStyle==\'floorBanner\'}}c1{{else if type == "old"}}a9{{/if}} {{if !$20($data) && type=="old"}}b2{{/if}} {{if type}}type{{/if}}" swipe>{{include(\'ba\',{data:$value,address:address,type:type})}} {{if $value.borderImg}}<div class="bannerImgBorder" style="background:url({{$value.borderImg}}) top center;height:{{$94()}}px;" ></div>{{/if}}</div>{{if $index == 0}}<div class="co" style="display:none"><div class="cm"><i class="cn"></i></div><div class="cp"><div class="cq location"><p>{{(address && (address.poi || address.title || address.address || address.fullAddress || address.addressDetail))||\'获取地址失败\'}}</p><i class=\'ca cd\'></i></div></div></div>{{/if}} {{/if}}',
"b9":'{{if config && config.searchConfig}} {{include(\'b5\',{data:config.searchConfig,address:address})}} {{/if}} {{each data}} {{if $value.floorStyle==\'banner\'}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{if $value.styleTpl == "tpl1" || $value.styleTpl == ""}} {{include(\'b8\',{$value:$value,type:"old",address:address})}} {{/if}} {{if $value.styleTpl == "tpl2"}}<div class="indexNewBanner">{{include(\'b8\',{$value:$value,type:"new",address:address})}}</div>{{/if}} {{else if $value.floorStyle==\'floorBanner\' && $value.styleTpl==\'tpl1\'}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{if $value.data.length>0}} {{if $value.floorTitle && $value.floorTitle.floorName}}<div class="bd"><h3 class="bj">{{$value.floorTitle.floorName}}</h3></div>{{/if}}<div class="floorBannerWrapper"><div class="swipe7 {{if $value.floorStyle==\'floorBanner\'}}c1{{/if}} {{if !$20($data)}}b2{{/if}}" swipe>{{include(\'ba\',{data:$value,address:address})}} {{if $value.borderImg}}<div class="bannerImgBorder" style="background:url({{$value.borderImg}}) top center;height:{{$94()}}px;" ></div>{{/if}}</div></div>{{/if}} {{else if $value.floorStyle == \'floorBanner\' && $value.styleTpl == \'tpl4\'}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}}<a {{if $value.data[0].floorCellData.to=="storeListByKey" }} skipByKeys="{{$value.data[0].floorCellData.to}}" keySkipData=\'{{$33($value.data[0].floorCellData.params)}}\' userAction=\'{{$value.data[0].floorCellData.userAction}}\'{{/if}} {{if $value.data[0].floorCellData.to!="storeListByKey" }}href="{{$value.data[0].activityUrl || $15(($value.data[0].floorCellData.to),($value.data[0].floorCellData.params),address,"","",$value.data[0].floorCellData.userAction)}}"{{/if}}><img src="{{$value.data[0].floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/index_banner_default_2.0.png"\' style="height:{{$96($value.data[0].floorCellData.imgWidth,$value.data[0].floorCellData.imgHeight)}}px;width:100%" /></a>{{else if $value.floorStyle==\'floorBanner\' && $value.styleTpl==\'tpl2\'}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{else if $value.floorStyle==\'floorBanner\' && $value.styleTpl==\'tpl5\'}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}}<div class="floorBannerWrapper"><div class="swipe7 floorBannerTpl5Wrapper" swipe>{{include(\'ba\',{data:$value,address:address,floorBannerTplType:$value.styleTpl})}}</div></div>{{else if $value.floorStyle==\'floorBanner\' && $value.styleTpl==\'tpl6\'}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}}<a class="floorBannerTpl6" {{if $value.data[0].floorCellData.to=="storeListByKey" }} skipByKeys="{{$value.data[0].floorCellData.to}}" keySkipData=\'{{$33($value.data[0].floorCellData.params)}}\' userAction=\'{{$value.data[0].floorCellData.userAction}}\'{{/if}} {{if $value.data[0].floorCellData.to!="storeListByKey" }}href="{{$value.data[0].activityUrl || $15(($value.data[0].floorCellData.to),($value.data[0].floorCellData.params),address,"","",$value.data[0].floorCellData.userAction)}}"{{/if}} style="height:{{$96($value.data[0].floorCellData.imgWidth,$value.data[0].floorCellData.imgHeight,true,true)}}px;width:100%"><img src="{{$value.data[0].floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/index_banner_default_2.0.png"\' style="height:{{$96($value.data[0].floorCellData.imgWidth,$value.data[0].floorCellData.imgHeight,true,true)}}px;width:100%" /></a>{{else if $value.floorStyle==\'ball\' && $value.styleTpl==\'tpl1\'}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{=include(\'bf\',$117($value,address))}} {{else if $value.floorStyle==\'ball\' && $value.styleTpl==\'tpl3\'}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{if $value.data && $value.data.length>0}}<div class="ab" {{if $value.borderImg}}style="background-image:url(\'{{$value.borderImg}}\');background-size:cover;background-repeat:no-repeat;background-position:center;"{{/if}}><div class="ac ballTpl3Wrapper {{if $value.data.length<=5}}ballNum{{$value.data.length}}{{/if}}"><div class="swipe7 ballSwipe" swipe><div class="swipe7list">{{each $87($value.data)}}<div class="swipe7item" style="text-align:left"><ul class="ballTpl3Ul {{if actNineData && actNineData.length}}new-channel-9{{/if}}">{{each $value.data}} {{if $109($value)}}<li><a class="ad ballTpl3" {{if $value.floorCellData.to=="storeListByKey" }} skipByKeys="{{$value.floorCellData.to}}" keySkipData=\'{{$33($value.floorCellData.params)}}\' userAction=\'{{$value.floorCellData.userAction}}\'{{/if}} {{if $value.floorCellData.to!="storeListByKey" }}href="{{$15($value.floorCellData.to,$value.floorCellData.params, address,"","",$value.floorCellData.userAction)}}" clstag="pageclick|keycount|home_click_channel_20160714_{{$index+1}}"{{/if}} style="{{if $value.floorCellData.titleColor }}color:{{$value.floorCellData.titleColor}};{{/if}} {{if $data.data.length>4}}{{$21($data.data.length)}}{{/if}}" ><img class="ae ballTpl3Img" src="{{$value.floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/index_ball_default_2.0.png"\' />{{$value.floorCellData.title}} {{if $value.floorCellData.words}}<span class="ballTpl3Words">{{$value.floorCellData.words}}</span>{{/if}}</a></li>{{/if}} {{/each}}</ul></div>{{/each}}</div></div></div></div>{{/if}} {{else if $value.floorStyle==\'seckill\' && $value.styleTpl==\'tpl1\'}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{include(\'bg\',{data:$value,address:address})}} {{else if $value.styleTpl==\'tpl1\' && $value.floorStyle.indexOf(\'act\')==0}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{include(\'be\',{data:$value,address:address})}} {{else if $value.floorStyle==\'miaoSha\'}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}}<div class=\'an\'>{{include(\'bo\',{data:$value.data || $value.dataObj,address:address,grab:""})}}<span class="preLoadImage"></span></div>{{else if $value.styleTpl==\'tpl2\' && $value.floorStyle.indexOf(\'act\')==0}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{include(\'bb\',{data:$value,address:address})}} {{else if $value.styleTpl==\'tpl2\' && $value.floorStyle==\'ball\'}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{include(\'bc\',{data:$value,address:address})}} {{else if $value.styleTpl==\'tpl5\' && $value.floorStyle.indexOf(\'act\')==0}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{include(\'bd\',{data:$value,address:address})}} {{else if $value.styleTpl==\'tpl4\'}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{include(\'bi\',{data:$value,address:address})}} {{else if $value.floorStyle.indexOf(\'product2\')==0}} {{else if $value.floorStyle.indexOf(\'product3\')==0}} {{else if $value.floorStyle.indexOf(\'product6\')==0}} {{else if $value.styleTpl==\'tpl1\' && $value.floorStyle.indexOf(\'product7\')==0}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{include(\'bl\',$value)}} {{else if $value.styleTpl==\'tpl7\' && $value.floorStyle.indexOf(\'act\')==0}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{include(\'bn\',{data:$value,address:address})}} {{else if $value.styleTpl==\'tpl6\' && $value.floorStyle.indexOf(\'act\')==0}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{if $value.data.length}}<div class="by"><div class="bz entrance-total{{$value.data.length}}">{{each $value.data}}<a class="c0 entrance-num{{$index}}" {{if $value.floorCellData.to=="storeListByKey" }} skipByKeys=\'{{$value.floorCellData.to}}\' keySkipData=\'{{$33($value.floorCellData.params)}}\' userAction=\'{{$value.floorCellData.userAction}}\'{{/if}} {{if $value.floorCellData.to!="storeListByKey" }}href="{{$15($value.floorCellData.to,$value.floorCellData.params,address,"","",$value.floorCellData.userAction)}}"{{/if}} onclick="lg(\'user_action\',\'1.0\',{{$value.floorCellData.userAction || \'{}\'}})"><strong class="as">{{if $value.floorCellData.title}}<span class="captionTitle">{{$value.floorCellData.title}}</span>{{/if}} {{if $value.floorCellData.words}}<span class="subtitle">{{$value.floorCellData.words}}</span>{{/if}}</strong><img class="at" src="{{$value.floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\' /></a>{{/each}}</div></div>{{/if}} {{else if $value.styleTpl==\'tpl8\' && $value.floorStyle.indexOf(\'act\')==0}} {{if $value.data && $value.data.length>0}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}}<div class="actTpl8Wrapper"><ul>{{each $value.data as item}} {{if item.floorCellData}}<li class="tpl8Act{{$value.data.length}}" {{if item.floorCellData.bgColourValue}}style="background-color:{{item.floorCellData.bgColourValue}}"{{/if}}><a class="actTpl8Jump" {{if item.floorCellData.to=="storeListByKey" }} skipByKeys=\'{{item.floorCellData.to}}\' keySkipData=\'{{$33(item.floorCellData.params)}}\' userAction=\'{{item.floorCellData.userAction}}\'{{/if}} {{if item.floorCellData.to!="storeListByKey" }}href="{{$15(item.floorCellData.to,item.floorCellData.params,address,"","",item.floorCellData.userAction)}}"{{/if}} onclick="lg(\'user_action\',\'1.0\',{{item.floorCellData.userAction || \'{}\'}})">{{if $value.data.length == 2}}<div class="tpl8ActLeft"><h3 class="tpl8ActH3">{{item.floorCellData.title}}</h3><span class="tpl8ActSpan">{{item.floorCellData.words}}</span></div>{{else}}<h3 class="tpl8ActH3">{{item.floorCellData.title}}</h3><span class="tpl8ActSpan">{{item.floorCellData.words}}</span>{{/if}}<img src="{{item.floorCellData.imgUrl}}" /></a></li>{{/if}} {{/each}}</ul></div>{{/if}} {{else if $value.styleTpl==\'tpl9\' && $value.floorStyle.indexOf(\'act\')==0}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{if $value.data && $value.data.length>0}}<div class="actTpl9Wrapper"><ul>{{each $value.data}} {{if $value.floorCellData}}<li style="width:{{$115()}};display:inline-block"><a class="actTpl9Img {{if $index==1}}addMargin{{/if}}" style="width:{{$115()}}" {{if $value.floorCellData.to=="storeListByKey" }} skipByKeys=\'{{$value.floorCellData.to}}\' keySkipData=\'{{$33($value.floorCellData.params)}}\' userAction=\'{{$value.floorCellData.userAction}}\'{{/if}} {{if $value.floorCellData.to!="storeListByKey" }}href="{{$15($value.floorCellData.to,$value.floorCellData.params,address,"","",$value.floorCellData.userAction)}}"{{/if}} onclick="lg(\'user_action\',\'1.0\',{{$value.floorCellData.userAction || \'{}\'}})"><img src="{{$value.floorCellData.imgUrl}}" style="width:{{$115()}}" /></a></li>{{/if}} {{/each}}</ul></div>{{/if}} {{else if $value.floorStyle == \'storeArea\'}} {{if $value.edge}}<div class={{$116($value.borderStyle)}}></div>{{/if}} {{include(\'bq\',{data:$value.data})}} {{/if}} {{/each}}',
"ba":'{{if data.data && data.data.length>0}}<ul class="swipe7list">{{each data.data}}<li class="swipe7item" {{if floorBannerTplType}}floorBannerType={{floorBannerTplType}}{{/if}} {{if $value.floorCellData.advertisingType}}advertisingType={{$value.floorCellData.advertisingType}} exposalUrl={{$value.floorCellData.exposalUrl}}{{/if}} onclick=\'lg("user_action","1.0",{"click_id":"home_click_active_20160714_1",{{$41($value.floorCellData.userAction || "{}")}}})\' userAction=\'{{$value.floorCellData.userAction}}\' ><a {{if $value.floorCellData.to=="storeListByKey" }} skipByKeys="{{$value.floorCellData.to}}" keySkipData=\'{{$33($value.floorCellData.params)}}\' userAction=\'{{$value.floorCellData.userAction}}\'{{/if}} {{if $value.floorCellData.to!="storeListByKey" }}href="{{$value.activityUrl || $15(($value.floorCellData.to),($value.floorCellData.params),address,"","",$value.floorCellData.userAction)}}"{{/if}}><img src="{{$value.floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/index_banner_default_2.0.png"\' style="height:{{if data.floorStyle=="banner" && type=="old"}}{{$96($value.floorCellData.imgWidth||data.data[0].floorCellData.imgWidth,$value.floorCellData.imgHeight||data.data[0].floorCellData.imgHeight,"true",isChannel)}}{{else if type=="old"}}{{$96($value.floorCellData.imgWidth||data.data[0].floorCellData.imgWidth,$value.floorCellData.imgHeight||data.data[0].floorCellData.imgHeight)}}{{/if}}px" /></a></li>{{/each}}</ul>{{/if}}',
"bb":'{{if data.data && data.data.length>0}}<div class="b6"><div class="b7">{{each data.data}}<a class="b8" {{if $value.floorCellData.to=="storeListByKey" }} skipByKeys="{{$value.floorCellData.to}}" keySkipData=\'{{$33($value.floorCellData.params)}}\' userAction=\'{{$value.floorCellData.userAction}}\'{{/if}} {{if $value.floorCellData.to!="storeListByKey" }}href="{{$39($15($value.floorCellData.to,$value.floorCellData.params,address,"","",$value.floorCellData.userAction))}}"{{/if}} title="{{$value.floorCellData.title}}" onclick="lg(\'user_action\',\'1.0\',{{$value.floorCellData.userAction || \'{}\'}})"><img class="b9" src="{{$value.floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/index_brand_default.png"\' width="205" height="79" /></a>{{/each}}</div></div>{{/if}}',
"bc":'{{if data.data && data.data.length>0}}<ul class="bk" {{if data.borderImage}}style="background-image:url(\'{{data.borderImg}}\');background-size:cover;background-repeat:no-repeat;"{{/if}}>{{if data.floorTitle && data.floorTitle.floorName}}<div class="bd"><h3 class="bj">{{data.floorTitle.floorName}}</h3></div>{{/if}} {{each data.data}}<li class="bl color-bolock-index{{$index%12+1}}" onclick="lg(\'user_action\',\'1.0\',{{$value.floorCellData.userAction || \'{}\'}})"><a class="bm" {{if $value.floorCellData.to=="storeListByKey" }} skipByKeys="{{$value.floorCellData.to}}" keySkipData=\'{{$33($value.floorCellData.params)}}\' userAction=\'{{$value.floorCellData.userAction}}\'{{/if}} {{if $value.floorCellData.to!="storeListByKey" }}href="{{$39($15($value.floorCellData.to,$value.floorCellData.params,address,"","",$value.floorCellData.userAction))}}"{{/if}}><img class="bn" src="{{$value.floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/index_ball_default_2.0.png"\' /><strong class="bp">{{$value.floorCellData.title || $value.floorCellData.name}}</strong><span class="bo">{{$value.floorCellData.words}}</span></a></li>{{/each}}</ul>{{/if}}',
"bd":'{{if data.data && data.data.length>0}}<div class="bu">{{if data.floorTitle && data.floorTitle.floorName}}<div class="bd "><h3 class="bj">{{data.floorTitle.floorName}}</h3></div>{{/if}}<ul class="bq">{{each data.data}}<li class="br" onclick="lg(\'user_action\',\'1.0\',{{$value.floorCellData.userAction || \'{}\'}})"><a class="bs" {{if $value.floorCellData.to=="storeListByKey" }} skipByKeys="{{$value.floorCellData.to}}" keySkipData=\'{{$33($value.floorCellData.params)}}\' userAction=\'{{$value.floorCellData.userAction}}\'{{/if}} {{if $value.floorCellData.to!="storeListByKey" }}href="{{$39($15($value.floorCellData.to,$value.floorCellData.params,address,"","",$value.floorCellData.userAction))}}"{{/if}}><img class="bv" src="{{$value.floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\' /><h4 class="bx rectangular-tilte-{{$index}}">{{$value.floorCellData.title || $value.floorCellData.name}}</h4><p class="bw">{{$value.floorCellData.words}}</p></a></li>{{/each}}</ul></div>{{/if}}',
"be":'{{if data.data && data.data.length}}<div class="index-act-wrap">{{if data.floorTitle && data.floorTitle.floorName}}<div class="bd"><h3 class="bj">{{data.floorTitle.floorName}}</h3></div>{{/if}} {{if data.data.length == 1 && data.data[0].floorCellType == \'miaosha\'}}<div class=\'an\'>{{=include(\'bo\',{msTpl1:true,data:data.data[0].dataObj,address:address,grab:(data.data[0].seckillType == 2) ? true:false})}}<span class="preLoadImage"></span></div>{{else}}<ul class="af actcount{{data.data.length}} {{if data.data[0].floorCellType!=\'miaosha\' && data.data[0].floorCellData.exposureType!=\'recommendActive\' && data.data.length!=5}}aj{{/if}}">{{each data.data}} {{if $value.floorCellType==\'miaosha\'}}<li class="ag sequence0 k miaoSha" id="act-miaosha">{{=include(\'bp\',{msTpl1:true,data:$value.dataObj,address:address,grab:($value.seckillType == 2) ? true:false})}}<span class="preLoadImage"></span></li>{{else if $value.floorCellData.exposureType==\'recommendActive\'}}<li class="ag sequence0 k recommend miaoSha"><a class="ah" {{if $value.floorCellData.to=="storeListByKey" }} skipByKeys="{{$value.floorCellData.to}}" keySkipData=\'{{$33($value.floorCellData.params)}}\' userAction=\'{{$value.floorCellData.userAction}}\'{{/if}} {{if $value.floorCellData.to!="storeListByKey" }}href="{{$39($15($value.floorCellData.to,$value.floorCellData.params,address,"","",$value.floorCellData.userAction))}}"{{/if}}><strong class="as"><span class="aq miaosha" style="background-image:url({{$value.floorCellData.fontImgUrl}})" ></span><span class="ap">{{$22($value.floorCellData.words,data.length)}}</span></strong><img class="at" src="{{$value.floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\' /></a></li>{{else if $index==0 && data.data.length==5}}<li class="ag sequence0 k miaoSha"><a class="ah" {{if $value.floorCellData.to=="storeListByKey" }} skipByKeys="{{$value.floorCellData.to}}" keySkipData=\'{{$33($value.floorCellData.params)}}\' userAction=\'{{$value.floorCellData.userAction}}\'{{/if}} {{if $value.floorCellData.to!="storeListByKey" }}href="{{$39($15($value.floorCellData.to,$value.floorCellData.params,address,"","",$value.floorCellData.userAction))}}"{{/if}}><strong class="ak"><span class="al specialFirst" style="color:#333333">{{$value.floorCellData.title}}</span><span class="ap">{{$22($value.floorCellData.words,data.length)}}</span></strong><img class="at" src="{{$value.floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\' /></a></li>{{else}}<li class="ag sequence{{$index}} {{if ($index==0&&data.data.length==2) || (data.data.length==5&&($index==1||$index==3)) || ($index==2&&data.data.length==4)||($index==0&&data.data.length==4)}}ar{{/if}} {{if ($index==1&&data.data.length==3)||(data.data.length==5&&$index==2) || (data.data.length==4&&$index==1)}}a2{{/if}} {{if $index==1&&data.data.length==5}}borderBottom{{/if}}" onclick="lg(\'user_action\',\'1.0\',{{$value.floorCellData.userAction || \'{}\'}})"><a class="ah" {{if $value.floorCellData.to=="storeListByKey" }} skipByKeys="{{$value.floorCellData.to}}" keySkipData=\'{{$33($value.floorCellData.params)}}\' userAction=\'{{$value.floorCellData.userAction}}\'{{/if}} {{if $value.floorCellData.to!="storeListByKey" }}href="{{$39($15($value.floorCellData.to,$value.floorCellData.params,address,"","",$value.floorCellData.userAction))}}"{{/if}}><strong class="ak"><em class="al" style="color:#333333">{{$value.floorCellData.title || $value.floorCellData.name}}</em><span class="am" style="color:#9cac96">{{$22($value.floorCellData.words,data.length)}}</span></strong><img class="ai" src="{{$value.floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\' /></a></li>{{/if}} {{/each}}</ul>{{/if}}</div>{{/if}}',
"bf":'{{if $data.data && $data.data.length>0}}<div class="ab" {{if $data.borderImg}}style="background-image:url(\'{{$data.borderImg}}\');background-size:cover;background-repeat:no-repeat;background-position:center;"{{/if}}><div class="ac {{if $data.tpl == "tpl3"}}ballTpl3Wrapper{{/if}} {{if $data.data.length<=5}}ballNum{{$data.data.length}}{{/if}}">{{each $data.data}} {{if $109($value)}}<a class="ad {{if $data.tpl == "tpl3"}}ballTpl3{{/if}}" {{if $value.floorCellData.to=="storeListByKey" }} skipByKeys="{{$value.floorCellData.to}}" keySkipData=\'{{$33($value.floorCellData.params)}}\' userAction=\'{{$value.floorCellData.userAction}}\'{{/if}} {{if $value.floorCellData.to!="storeListByKey" }}href="{{$15($value.floorCellData.to,$value.floorCellData.params, $data.address,"","",$value.floorCellData.userAction)}}" clstag="pageclick|keycount|home_click_channel_20160714_{{$index+1}}"{{/if}} style="{{if $value.floorCellData.titleColor }}color:{{$value.floorCellData.titleColor}};{{/if}} {{if $data.data.length>4}}{{$21($data.data.length)}}{{/if}}" ><img class="ae {{if $data.tpl == "tpl3"}}ballTpl3Img{{/if}}" src="{{$value.floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/index_ball_default_2.0.png"\' />{{$value.floorCellData.title}}</a>{{/if}} {{/each}}</div></div>{{/if}}',
"bg":'{{if data.data && data.data.length}}<div class="de {{if !data.data||!data.data.length}}dp{{/if}}" id="de"><div class="dg" id="dg"><a class="df" href="#grabList/res_type:seckill_20/longitude:{{if address && address.longitude}}{{address.longitude}}{{/if}}/latitude:{{if address}}{{address && address.latitude}}{{/if}}/city:{{if address && address.city }}{{$44(address.city)}}{{else if address && address.cityName}}{{$44(address.cityName)}}{{/if}}{{if data.userAction}}{{$101(data.userAction)}}{{/if}}">{{data.moreBtnDesc}}</a></div><div class="dh" id="dh">{{each data.data}}<a class="di" href=\'{{$15($value.floorCellData.to,$value.floorCellData.params, $value.floorCellData.title,"","",$value.floorCellData.userAction)}}\'><p class="dj"><img src="{{$value.floorCellData.grabSku.imageurl}}" class="dk"/><span class="dl">{{$value.floorCellData.grabSku.storeName}}</span></p><p class="dm">￥<i>{{$value.floorCellData.grabSku.miaoShaPrice}}</i></p><p class="dn">￥<i>{{$value.floorCellData.grabSku.price}}</i></p></a>{{/each}}<a class="do" href="#grabList/res_type:seckill_20/longitude:{{if address && address.longitude}}{{address.longitude}}{{/if}}/latitude:{{if address}}{{address && address.latitude}}{{/if}}/city:{{if address && address.city }}{{$44(address.city)}}{{else if address && address.cityName}}{{$44(address.cityName)}}{{/if}}{{if data.userAction}}{{$101(data.userAction)}}{{/if}}">查看更多</a></div></div>{{/if}}',
"bh":'{{each data}}<a class="di" href=\'{{$15($value.floorCellData.to,$value.floorCellData.params, $value.floorCellData.title,"","",$value.floorCellData.userAction)}}\'><p class="dj"><img src="{{$value.floorCellData.grabSku.imageurl}}" class="dk"/><span class="dl">{{$value.floorCellData.grabSku.storeName}}</span></p><p class="dm">￥<i>{{$value.floorCellData.grabSku.miaoShaPrice}}</i></p><p class="dn">￥<i>{{$value.floorCellData.grabSku.price}}</i></p></a>{{/each}}<a class="do" href="#grabList/longitude:{{if address && address.longitude}}{{address.longitude}}{{/if}}/latitude:{{if address}}{{address && address.latitude}}{{/if}}/city:{{if address && address.city }}{{$44(address.city)}}{{else if address && address.cityName}}{{$44(address.cityName)}}{{/if}}{{if data.userAction}}{{$101(data.userAction)}}{{/if}}" clstag="pageclick|keycount|see_more|1">查看更多</a>',
"bi":'{{if actNineData && actNineData.length}} {{if data.floorTitle && data.floorTitle.floorName}}<div class="bd"><h3 class="bj">{{data.floorTitle.floorName}}</h3></div>{{/if}}<div class="swipe7" swipe><div class="swipe7list">{{each actNineData}}<div class="swipe7item"><ul class="actcount9 {{if actNineData && actNineData.length}}new-channel-9{{/if}}">{{each $value.data}}<li class="sequence{{$index}}" onclick="lg(\'user_action\',\'1.0\',{{$value.floorCellData.userAction || \'{}\'}})"><a {{if $value.floorCellData.to=="storeListByKey" }} skipByKeys="{{$value.floorCellData.to}}" keySkipData=\'{{$33($value.floorCellData.params)}}\' userAction=\'{{$value.floorCellData.userAction}}\'{{/if}} {{if $value.floorCellData.to!="storeListByKey" }}href="{{$39($15($value.floorCellData.to,$value.floorCellData.params,address,"","",$value.floorCellData.userAction))}}"{{/if}}><img src="{{$value.floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/index_sudoku_default_2.0.png"\' /><em style="color:#333">{{$value.floorCellData.title || $value.floorCellData.name}}</em>{{if !actNineData || !actNineData.length}}<span style="color:#686868">{{$22($value.floorCellData.words,data.length)}}</span>{{/if}}</a></li>{{/each}}</ul></div>{{/each}}</div></div>{{/if}}',
"bj":'<div class="au {{if $data.edge == true}}aa{{/if}}"><div class="y"><div class="z"><h2 class="w x">附近外卖</h2></div></div>{{include(\'be\',{data:$data,edge:$data.edge})}}</div>',"bk":'<div class="y8 oj" style="min-height:{{$29()}}px"><div class="y9"><p>无法获取您的位置信息</p><a class="y5 sendto">切换地址</a></div></div>',"bl":'{{if data && data.length}}<div class="index-shop-wrap">{{if floorTitle && floorTitle.floorName && !floorTitle.notShowTitle}}<div class="c8"><span>{{floorTitle.floorName}}</span></div>{{/if}}<ul class="vo">{{include(\'gu\',{data:data})}}</ul></div>{{/if}} {{if !floorStyle}}<div class="sz tb" node-type="storeListGoodsEnd"><span class="t6"></span><span class="t7">更多商家入驻中，敬请期待</span><span class="t6"></span></div>{{/if}} {{if noHaveFloor}}<div class="dc"></div>{{/if}}',
"bm":'{{if data && data.length}}<div class="index-shop-wrap">{{if floorTitle && floorTitle.floorName && !floorTitle.notShowTitle}}<div class="c8"><span><i class="ci cj"></i>{{floorTitle.floorName}}</span></div>{{/if}}<ul class="vo">{{include(\'gv\',{data:data})}}</ul></div>{{/if}} {{if !floorStyle}}<div class="sz tb" node-type="storeListGoodsEnd"><span class="t6"></span><span class="t7">更多商家入驻中，敬请期待</span><span class="t6"></span></div>{{/if}}',
"bn":'{{if data.data && data.data.length}}<ul class="triple-floor-{{data.data.length}} cg">{{each data.data}} {{if $value.floorCellType == "miaosha"}}<li class="miaoSha num{{$index+1}} tripleMiaoSha ch">{{=include("bp",{data:$value.dataObj,grab:(($value.seckillType == 2) ? true:false),address:address})}}<span class="preLoadImage"></span></li>{{else}}<li class="common num{{$index+1}} ch"><a class="ao" {{if $value.floorCellData.to!="storeListByKey" }}href="{{$15(($value.floorCellData.to),($value.floorCellData.params),address,"","",$value.floorCellData.userAction)}}"{{/if}} {{if $value.floorCellData.to=="storeListByKey" }} skipByKeys=\'{{$value.floorCellData.to}}\' keySkipData=\'{{$33($value.floorCellData.params)}}\' userAction=\'{{$value.floorCellData.userAction}}\'{{/if}} onclick="lg(\'user_action\',\'1.0\',{{$value.floorCellData.userAction || \'{}\'}})"><strong class="as"><span class="aq"></i>{{$value.floorCellData.title}}</span><span class="ap">{{$value.floorCellData.words}}</span></strong><img class="at" src="{{$value.floorCellData.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\' /></a></li>{{/if}} {{/each}}</ul>{{/if}}',
"bo":'<div class="b5 miaoSha">{{include("bp",{msTpl1:msTpl1,data:data,address:address,grab:grab})}}</div>',"bp":'<a class="ao" href="#{{if grab}}grabList{{else}}seckillList{{/if}}/longitude:{{if address && address.longitude}}{{address.longitude}}{{/if}}/latitude:{{if address}}{{address && address.latitude}}{{/if}}/city:{{if address && address.city }}{{$44(address.city)}}{{else if address && address.cityName}}{{$44(address.cityName)}}{{/if}}{{if data.userAction}}{{$101(data.userAction)}}{{/if}}" onclick="lg(\'user_action\',\'1.0\',{\'click_id\':\'floor_action_sec\'})"><strong class="as"><span class="aq {{if msTpl1}}miaosha{{/if}}">{{if !msTpl1}}{{data.title}}{{/if}}</span><span class="ap">{{data.adwords}}</span>{{if msTpl1}}<em></em>{{/if}}</strong><img class="at" src="{{data.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\' /></a>',
"bq":'{{if data && data.length>0 && data[0].floorCellData.imgWidth && data[0].floorCellData.imgHeight}}<div class="d6"><div class="d8" style="height:{{$98(data[0].floorCellData.imgWidth,data[0].floorCellData.imgHeight,data[0].floorCellData.storeList.length)}}px"><image class="night-image" src="{{data[0].floorCellData.imgUrl}}" style="width:100%;height:{{$97(data[0].floorCellData.imgWidth,data[0].floorCellData.imgHeight)}}px" />{{if data[0].floorCellData.storeList.length == 1}}<div class="d5"><img class="d9" src={{if data[0].floorCellData.storeList[0].imgUrl}}"{{data[0].floorCellData.storeList[0].imgUrl}}"{{else}}"//static-o2o.360buyimg.com/daojia/new/images/show_default.png"{{/if}} onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\'/><div class="d7 clearfix"><a href="{{$100(data[0].floorCellData.storeList[0].params.storeId,data[0].floorCellData.storeList[0].params.orgCode,data[0].floorCellData.storeList[0].userAction)}}"><h2>{{data[0].floorCellData.storeList[0].name}}</h2><div class="a20 ae4">{{if data[0].floorCellData.storeList[0].carryCapacityStatus&&data[0].storeList[0].carryCapacityStatus.status != "1"}}<strong class="d4">{{data[0].floorCellData.storeList[0].carryCapacityStatus.text}}</strong>{{/if}} {{include(\'h4\',{sendObj:data[0].floorCellData.storeList[0]})}}</div><div class="ae8"><p class="adq">{{include("h6",{score:data[0].floorCellData.storeList[0].storeStar})}}</p><p class="ae9">{{ if data[0].floorCellData.storeList[0].inSale && data[0].floorCellData.storeList[0].monthSale}}<span class="line_split"></span>{{/if}}{{data[0].floorCellData.storeList[0].monthSale}}</p></div></a></div></div>{{else if data[0].floorCellData.storeList.length == 2}} {{each data[0].floorCellData.storeList}}<div class="d5 second {{if $index==1}}right{{/if}}"><img class="d9" src={{if $value.imgUrl}}"{{$value.imgUrl}}"{{else}}"//static-o2o.360buyimg.com/daojia/new/images/show_default.png"{{/if}} onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\'/><div class="d7 clearfix"><a href="{{$100($value.params.storeId,$value.params.orgCode,$value.userAction)}}"><h2>{{$value.name}}</h2><div class="a20 ae4">{{include(\'h4\',{sendObj:$value})}}</div><div class="ae8"><p class="adq">{{include("h6",{score:$value.storeStar})}}</p></div></a></div></div>{{/each}} {{else if ((data[0].floorCellData.storeList.length %3 == 0 || data[0].floorCellData.storeList.length % 3 == 2)&&data[0].floorCellData.storeList.length<=6)}}<div class="d5"><div class="three clearfix">{{each data[0].floorCellData.storeList}}<a href="{{$100($value.params.storeId,$value.params.orgCode,$value.userAction)}}"><dl><dd><img src={{if $value.imgUrl}}"{{$value.imgUrl}}"{{else}}"//static-o2o.360buyimg.com/daojia/new/images/show_default.png"{{/if}} onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\'/></dd><dt><span>{{$value.name}}</span></dt></dl></a>{{/each}}</div></div>{{else if data[0].floorCellData.storeList.length == 4 || data[0].floorCellData.storeList.length == 7 || data[0].floorCellData.storeList.length == 8}}<div class="d5"><div class="four clearfix">{{each data[0].floorCellData.storeList}}<a href="{{$100($value.params.storeId,$value.params.orgCode,$value.userAction)}}"><dl><dd><img src={{if $value.imgUrl}}"{{$value.imgUrl}}"{{else}}"//static-o2o.360buyimg.com/daojia/new/images/show_default.png"{{/if}} onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\'/></dd><dt><span>{{$value.name}}</span></dt></dl></a>{{/each}}</div></div>{{else}}<div class="d5"><div class="four clearfix"><div class="swipe7" swipe><div class="swipe7list">{{each $99(data[0].floorCellData.storeList)}}<div class="swipe7item"><ul>{{each $value.data}}<li><a href={{$100($value.params.storeId,$value.params.orgCode,$value.userAction)}}><dl><dd><img src={{if $value.imgUrl}}"{{$value.imgUrl}}"{{else}}"//static-o2o.360buyimg.com/daojia/new/images/show_default.png"{{/if}} onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\'/></dd><dt><span>{{$value.name}}</span></dt></dl></li></a>{{/each}}</ul></div>{{/each}}</div></div></div></div>{{/if}}</div></div>{{/if}}',
"bs":'{{if data.evaluateList.length}}<ul class="acc aca">{{each data.evaluateList as item}}<li class="acd"><span class="ace {{item.points>0 || \'add\'}}">{{item.points >0 ? \'+\'+item.points : item.points}}</span><p class="acf">{{item.typeName}}<b class="acg">{{item.createTime}}</b></p></li>{{/each}}</ul>{{else}}<div class="yr">您还没有鲜豆，快去下单赚取大量鲜豆吧！</div>{{/if}}',"ca":'<div class="a4x {{if discountTipInfo && (discountTipInfo.addOnOff==1)}}a4y{{/if}}" showFullGatherList style="display:{{if $61(discountTipInfo)}}block{{/if}}">{{include(\'cb\')}}</div><div class="a53"><p class="a54" hideGatherList></p><ul class="a55"></ul></div><div class="a50"></div><a href="javascript:void 0;" class="a4r outcartcontent show {{if !isEmpty_}}light{{/if}}" carticon {{if !isEmpty_}}showup{{/if}} clstag="pageclick|keycount|cart_open_20160623_1|{{totalNum}}">{{include(\'cd\')}}</a><div class="a4t {{if $118() && (discountName || discountDesc)}}money{{/if}}" pricearea>{{include(\'ce\')}}</div><a class="a4w {{if buttonState==1}}disabled{{/if}}" qujiesuan href="javascript:void 0;" onclick=\'lg("user_action","1.0",{"clickid":"bottom_buy","num":"{{totalNum}}"})\'>{{buttonName}}</a><div class="minicart-content" cartcontent><a href="javascript:void 0;" class="a4r incartcontent {{if !isEmpty_}}light{{/if}}" carticon {{if !isEmpty_}}showup{{/if}} clstag="pageclick|keycount|cart_open_20160623_1|{{totalNum}}">{{include(\'cd\')}}</a><i class="a57"></i>{{if $66(itemList)}}<div class="a58 {{if numWeightDesc&&$74(numWeightDesc)}}a6g{{/if}}">{{include(\'cc\')}}</div>{{else if $67(itemList)}} {{include(\'cg\')}} {{/if}}<div class="a5b" cartitemlist>{{include(\'ch\')}}</div><div style="height:{{if discountPromptMsg}}75{{else}}49{{/if}}px;" discountPromptMsgHeight></div><div style="display:{{if discountPromptMsg}}block{{else}}none{{/if}}" class="a6i" discountPromptMsg>{{discountPromptMsg}}</div></div><div giftcontent>{{include(\'cf\')}}</div><div class="a51" cartmask clstag="pageclick|keycount|cart_close_20160623_1|1"></div>',
"cb":'{{if discountTipInfo && (discountTipInfo.addOnOff==1)}}<a class="a4z">去凑单&gt;</a>{{/if}}<div>{{$61(discountTipInfo)}}</div>',"cc":'<span class="a6e a6f {{if $38(itemList)}}checked{{/if}}" checkAllGoods onclick=\'lg("user_action","1.0",{"clickid":"store_cart_allselect_click_20160729", "store_id":"{{storeId}}"})\' >全选</span>{{if numWeightDesc}}<p class="a6h">{{numWeightDesc}}</p>{{/if}}<a href="javascript:void 0;" class="a59" deleteAll clstag="pageclick|keycount|cart_clean_20160623_1|1">清空购物车</a>',
"cd":'{{if totalNum>0}}<i class="a4s">{{if totalNum>99}}99+{{else}}{{totalNum}}{{/if}}</i>{{/if}}',"ce":'{{if !isEmpty_}}<div class="{{$60(payMoneyPriceValue,discountDesc)}}">￥{{payMoneyPriceValue}}{{if discountName||discountDesc}}<span class="a4u">{{discountName||discountDesc}}</span>{{/if}}</div>{{else}}<div class="a4v">购物车是空的</div>{{/if}}',"cf":'{{each itemList}} {{if $value.giftList && $value.giftList.length}}<div class="a56" attachListType="{{$value.suitType}}" attachListIndex="{{$index}}"><div class="a5c">{{$value.giftButton}}</div>{{if !$value.giftCanChooseNum}}<div class="a5d">{{$value.giftNumsDesc}}</div>{{/if}}<ul>{{each $value.giftList as $v}}<li class="a5e {{if $v.checkType==1}}checked{{/if}} {{if $v.skuState !== 1}}a73{{/if}}" {{if $v.canUse}} giftCanUse {{else}} style="opacity:0.4" tipWhenClick="您无法{{if $value.suitType==\'exchange\'}}换购该商品{{else}}领取该赠品{{/if}}" {{/if}} giftSkuId="{{$v.skuId}}" ladderId="{{$v.ladderId}}" infoId="{{$v.infoId}}" skuName="{{$v.skuName}}" price="{{$v.price}}" tap ><span class="a5f"><img src="{{$v.imageUrl}}" class="a5g" /><i class="a5h">{{$v.ladderName}}</i>{{if $v.skuState !== 1}}<i class="a72">{{$v.skuStateName || \'无货\'}}</i>{{/if}}</span><span class="a5i">{{$v.skuName}}</span><span class="a5j">{{if $value.suitType!=\'gift\'}}<em class="a75">￥{{$v.price}}</em>{{/if}}<del class="a74">￥{{$v.basePrice}}</del></span><span class="a5k"></span></li>{{/each}}</ul></div>{{/if}} {{/each}}',
"cg":'<div class="a5a"><span>失效商品</span><a href="javascript:void 0;" class="a59" deleteAllInvalid clstag="pageclick|keycount|cart_drop_invalid_20160623_1|1">清空失效商品</a></div>',"ch":'{{each itemList as itm index}}<div class="a5m {{itm.suitType}}" {{if itm.giftList && itm.giftList.length}}attachListIndex="{{index}}"{{/if}}>{{if (!$67(itemList)) && (itm.suitType==\'invalidate\')}} {{include(\'cg\')}} {{else if itm.suitName && itm.colorCode}}<div class="a5s" expandGift="{{itm.suitType}}" {{if itm.suitType=="exchange"}} {{if itm.giftButton == "重新换购"}} clstag="pageclick|keycount|cart_repeat_addbuy_20160623_1|1" {{else}} clstag="pageclick|keycount|cart_addprice_buy_20160623_1|1" {{/if}} {{else}} clstag="pageclick|keycount|cart_fullprice_gift_20160623_1|1" {{/if}} activityId="{{itm.activityId}}" {{if itm.addOnOff==1}}addOnOff="{{(itm.suitDescrip||[]).join(\'\')}}"{{/if}}><i class="a5t" style="background: {{if itm.colorCode}}{{itm.colorCode}}{{/if}}"><i class="a5u" style="border-top-color: {{if itm.colorCode}}{{itm.colorCode}}{{/if}}"></i>{{itm.suitName}}</i><table style="max-width:{{$75(itm.suitName)}}px"><tr><td>{{itm.suitDescrip && itm.suitDescrip.join(\'，\')}}</td></tr></table><span>{{itm.button || (itm.addOnOff==1?\'去凑单\':\'\')}}</span><div style="display:none">{{$61({discountTips:itm.discountTips})}}</div></div>{{/if}}<ul class="minicart-goods-list {{itm.suitType}}">{{each itm.giftList}} {{if $value.checkType==1}}<li class="a5o {{itm.suitType}} {{if $value.skuState!=1}}invalidGift{{/if}}" goodsId="{{$value.skuId}}" GiftGoods_ suitType="{{itm.suitType}}" infoId="{{$value.infoId||\'\'}}"><a class="a5v" href="#goodsDetails/skuId:{{$value.skuId}}/storeId:{{storeId}}/orgCode:{{orgCode}}" onclick=\'lg("user_action","1.0",{"clickid":"{{$84(wrapperName)}}","sku_id":"{{$value.skuId}}"})\'><table class="a5w"><tr><td style="width:62px;"><img class="a5x" src="{{$value.imageUrl}}">{{if $value.skuState!=1}}<i class="a62">{{$value.skuStateName}}</i>{{/if}}</td><td><div class="a60">{{$value.skuName}}</div><div class="a69">{{include(\'ck\',{tags:$value.tags,giftInfo:$value.giftInfo})}}<div class="a5q">￥{{$value.realTimePrice||$value.price}}</div></div></td></tr></table></a><a class="a5y" giftMinus clstag="pageclick|keycount|cart_add_20160623_1|1"></a><em class="a61">{{$value.skuNum}}</em><a class="a5z disabled" clstag="pageclick|keycount|cart_add_20160623_1|2"></a><i class="a6b {{itm.suitType}}"></i></li>{{/if}} {{/each}} {{each itm.skuList}} {{if $76($value.skuId,itm)}}<div style="position:relative;">{{/if}} {{include(\'ci\',{itm:itm,$value:$value,orgCode:orgCode,storeId:storeId,wrapperName:wrapperName})}} {{each $76($value.skuId,itm)}}<li class="a5o {{itm.suitType}}"><a class="a5v" href="#goodsDetails/skuId:{{$value.skuId}}/storeId:{{storeId}}/orgCode:{{orgCode}}" onclick=\'lg("user_action","1.0",{"clickid":"{{$84(wrapperName)}}","sku_id":"{{$value.skuId}}"})\'><table class="a5w"><tr><td style="width:62px;"><img class="a5x" src="{{$value.imageUrl}}"></td><td><div class="a60">{{$value.skuName}}</div><div class="a69">{{include(\'ck\',{tags:$value.tags,giftInfo:$value.giftInfo})}}<div class="a5q"><del>￥{{$value.basePrice}}</del><i class="a68">×{{$value.skuCount}}</i></div></div></td></tr></table></a><i class="a6b {{itm.suitType}}"></i></li>{{/each}} {{if (itm.suitType==\'single\') && $76($value.skuId,itm)}}<div class="a5l"></div></div>{{/if}} {{/each}}</ul><div class="a5n {{itm.suitType}}" style="{{if $73(itm.skuList,itm.singleGiftMap)}}bottom:50px;{{/if}}"></div></div>{{/each}}',
"ci":'<li class="a5o {{itm.suitType}} {{if ($index+1)==itm.skuList.length}}last{{/if}}" goodsId="{{$value.skuId}}" NormalGoods_><span class="a6e a5p {{if $value.checkType==1}}checked{{/if}}" {{if itm.suitType!=\'invalidate\'}}checkGoods{{/if}} onclick=\'lg("user_action","1.0",{"clickid":"store_cart_productselect_click_20160729", "store_id":"{{storeId}}"})\' ></span><a class="a5v" href="#goodsDetails/skuId:{{$value.skuId}}/storeId:{{storeId}}/orgCode:{{orgCode}}" onclick=\'lg("user_action","1.0",{"clickid":"{{$84(wrapperName)}}","sku_id":"{{$value.skuId}}"})\'><table class="a5w"><tr><td style="width:62px;"><img class="a5x" src="{{$value.imageUrl||$value.imgUrl}}"></td><td><div class="a60">{{$value.skuName}}</div>{{if $value.promotePrice}}<div class="a65"><span style="background-color:#{{$value.promotePrice.promoteTag.colorCode}}" class="a64">{{$value.promotePrice.promoteTag.iconText}}</span><span class="a66">￥</span><span class="a67">{{$value.promotePrice.promotePrice}}</span><i class="a68">×{{$value.promotePrice.promoteNum}}</i>{{if !$value.memberPriceVO}}<br><span style="background-color:#{{$value.promotePrice.basicTag.colorCode}}" class="a64">{{$value.promotePrice.basicTag.iconText}}</span><span class="a66">￥</span><span class="a67">{{$value.promotePrice.basicPrice}}</span><i class="a68">×{{$value.promotePrice.basicNum}}</i>{{else}} {{if $30($value.memberPriceVO.memberPrice)>$value.promotePrice.promotePrice}}<br><span style="background-color:#{{$value.promotePrice.memberTag.colorCode}}" class="a64">{{$value.promotePrice.memberTag.iconText}}</span><span class="a66">￥</span><span class="a67">{{$value.promotePrice.memberPriceVO.memberPrice}}</span><i class="a68">×{{$value.promotePrice.memberNum}}</i>{{else}} {{include(\'hc\',{v:{vipPrice:$value.memberPriceVO.memberPrice,vipPriceIcon:$value.memberPriceVO.icon,vipPriceColorCode:$value.memberPriceVO.color},fontSize:16,emfontSize:16})}} {{/if}} {{/if}}</div>{{else}} {{if includeSource==\'gather\'}}<div class="a69">{{include(\'ck\',{tags:$value.tags,giftInfo:$value.giftInfo})}}<div class="a5q" style="margin-right:5px">￥{{$value.realTimePrice||$value.price}} {{if $30($value.basePrice) >$30($value.price)&& !$value.memberPriceVO}}<del class="a5r">￥{{$value.basePrice}}</del>{{/if}}</div></div>{{if $value.memberPriceVO}}<div class="a69"><div class="a5q" style="margin-right:150px">{{include(\'hc\',{v:{vipPrice:$value.memberPriceVO.memberPrice,vipPriceIcon:$value.memberPriceVO.icon,vipPriceColorCode:$value.memberPriceVO.color},fontSize:16,emfontSize:16})}}</div></div>{{/if}} {{else}} {{if $value.memberPriceVO}}<div class="a69"><div class="a5q" style="margin-right:150px">{{include(\'hc\',{v:{vipPrice:$value.memberPriceVO.memberPrice,vipPriceIcon:$value.memberPriceVO.icon,vipPriceColorCode:$value.memberPriceVO.color},fontSize:16,emfontSize:16})}}</div></div>{{else}}<div class="a69">{{include(\'ck\',{tags:$value.tags,giftInfo:$value.giftInfo})}}<div class="a5q" style="margin-right:5px">￥{{$value.realTimePrice||$value.price}} {{if $30($value.basePrice) >$30($value.price)}}<del class="a5r">￥{{$value.basePrice}}</del>{{/if}}</div></div>{{/if}} {{/if}} {{/if}}</td></tr></table>{{if ($value.skuState!=1)&&($value.skuState!=3)&&(includeSource!=\'gather\')}}<i class="a62">{{$value.skuStateName}}</i>{{else if $value.skuStateName}}<span class="a63">{{$value.skuStateName}}{{if $value.promotionTip}}，{{$value.promotionTip}}{{/if}}</span>{{/if}} {{if $value.promotionTip && (!$value.skuStateName)}}<span class="a63">{{$value.promotionTip}}</span>{{/if}}</a><a style="{{if $63($value)}}display:none{{/if}}" onclick=\'lg("user_action","1.0",{"pagename":"{{lg_pagename||null}}","clickid":"store_cart_reduce_20160714_1", "sku_id": "{{$value.skuId}}"})\' class="a5y" {{if itm.suitType==\'invalidate\'}}delete_Invalid{{else}}minusgoods tap{{/if}}></a><em style="{{if $63($value)}}display:none{{/if}}" class="a61">{{$value.incartCount||$value.cartNum}}</em><a onclick=\'lg("user_action","1.0",{"page_name":"{{lg_pagename||null}}","clickid":"store_cart_add_20160714_1", "sku_id": "{{$value.skuId}}"})\' class="a5z {{if itm.suitType==\'invalidate\'}}disabled{{/if}}" addgoods tap></a></li>',
"cj":"{{if itm && itm.skuList && itm.skuList.length}} {{each itm.skuList}} {{include('ci',{itm:itm,$value:$value,orgCode:orgCode,storeId:storeId,wrapperName:wrapperName,includeSource:'gather',lg_pagename:'makeup'})}} {{/each}} {{else}}<div class=\"a76\">手慢啦，商品已被抢光！</div>{{/if}}","ck":'{{if tags && tags.length>0}} {{each tags}}<span class="a64" style="background-color:#{{$value.colorCode}}">{{$value.iconText}}</span>{{/each}} {{if $62(tags,giftInfo)}}<div class="a6a">{{$62(tags,giftInfo)}}</div>{{/if}} {{/if}}',
"cu":'{{if listData && listData.stores && listData.stores.length >0}} {{each listData.stores as value index}} {{if value.storeName}}<li {{if storeId == value.storeId }}class="active"{{/if}} data-storeid="{{value.storeId}}"><span class="rightMark"></span>{{if value.logoUrl}}<img src="{{value.logoUrl}}" class="logoImg"/>{{/if}} {{if value.storeName}}<div class="a3h">{{value.storeName}}</div>{{/if}} {{if value.inScope && value.inScope == 1}}<span class="overZone">超区</span>{{/if}}</li>{{/if}} {{/each}} {{/if}}',
"cv":'<div class="{{if result && result.storeInfo && result.storeInfo.tags.length == 0}}a3a{{/if}}"><div class="storeHomeNew a37"><div class="a0j clearfix"><img class="sd" src= \'{{result.storeInfo.logoUrl || "//static-o2o.360buyimg.com/daojia/new/images/icon/notfound-2.png"}}\'/><div class="se"><div class="a3r clearfix"><h2 class="sf" id="sf">{{result.storeInfo.storeName}}</h2><div class="a1v {{if result.storeInfo.isFollow == true}}a1y{{/if}}" {{if result.storeInfo.isFollow == true}}data-focus=1 clstag="pageclick|keycount|store_focus_20160815_2" {{else}}data-focus=0 clstag="pageclick|keycount|store_focus_20160815_1" {{/if}} ><i class="a1x "></i></div></div>{{if result.storeInfo.freightTag}}<p class="a0k"><span class="a45">{{result.storeInfo.freightTag.words.replace(/###/gi, "，")}}</span></p>{{/if}}</div><u class="a3b"></u>{{if result.storeInfo && result.storeInfo.tags && result.storeInfo.tags.length >0}}<div class="a2p"><ul class="a3t dt">{{=include("hd",{storetags:result.storeInfo.tags,classname:"a3o"})}}</ul></div>{{/if}}</div></div><div class="a0x a39"><div class="a1f clearfix">{{include(\'fn\',{cateList: result.cateList})}}<div class="a1e store-origin-title"><div class="a2g"></div></div><div class="a24">{{if showZhanwei}}<div class="a1e a2f"><div class="a2g"></div></div>{{/if}}<div class="a1b xb {{if result.storeInfo.searchLinkageFlag}}a1z{{/if}}"><div class="a1d ri" ><p class="ct">努力加载中<i></i></p></div></div></div></div></div></div>',
"cw":'{{if shared}}<div class="a21"><a class="a22 js-open-app" href="javascript:0;" clstag="pageclick|keycount|store_app_download_20160908|1">下载App可享更多满减、领券等优惠呦~<span>立享优惠</span></a></div>{{/if}}<div class="a3c"><div class="new-topStore-listWrap"></div><ul class="a3g"></ul></div><div class="storeFastWrap" >{{include("cv",{"result":result, "shared": shared, "showZhanwei": showZhanwei, "hasLogin": hasLogin, "appVersion": appVersion})}}</div>',
"cx":'<div class="a3i"></div><div class="a3j"><div class="a3k"></div><div class="a3l"></div><div class="newStoreOneHour"></div><div class="a3m"><span class="a3n"></span></div></div>',"cz":'<div class="az"><div class="b0"><i class="icon"></i><h1>尊敬的用户：</h1><p>{{if floorTitle}} {{=floorTitle.floorName}} {{else}} 您所在的地点暂无服务，请换个地址试试！商家入驻链接:https://ruzhu.jd.com {{/if}}</p></div><form><textarea class="feedbackContent" {{if floorTitle}} placeholder="{{floorTitle.floorWords}}" {{else}} placeholder="把您的意见告诉我们" {{/if}}></textarea><input id="noShopFeedBackMobile" maxlength="11" placeholder="请输入您的手机号（选填）"/></form><div class="b1">提交</div></div>',
"dx":'<article class="scrolling"><div class="content scroller">{{if insert}} {{include(insert)}} {{/if}} {{if loading}}<div class="loading" style="height:{{$29()}}px"></div>{{/if}}</div></article>{{if includefooter}} {{include(\'dy\')}} {{/if}}',"dy":'{{if !$57()}}<footer class="o {{pagename}}"><a class="index" {{if pagename!=\'index\'}}href="#index"{{/if}}>首页</a>{{if (pagename==\'faxian\') || ($68() && (pagename!=\'homeCategorySearch\'))}}<a class="faxian" {{if pagename!=\'faxian\'}}href="#faxian"{{/if}} clstag="pageclick|keycount|click_find|1">福利{{if $70()}}<i class="r" unReadFeedNum style="display:block">{{$70()}}</i>{{else}}<i class="r" unReadFeedNum></i>{{/if}}</a>{{else}}<a class="homeCategorySearch" {{if pagename!=\'homeCategorySearch\'}}href="#homeCategorySearch"{{/if}}>分类</a>{{/if}}<a class="cartList" {{if pagename!=\'cartList\'}}href="#shopCartList"{{/if}}>购物车</a><a class="orderList {{if $78()}}news{{/if}}" {{if pagename!=\'orderList\'}}href="#orderlist"{{/if}}>订单</a><a class="mine {{if $79()}}news{{/if}}" {{if pagename!=\'mine\'}}href="#user"{{/if}}>我的</a>{{if pagename!=\'faxian\'}}<a class="fuli-message" FuliMessage href="#faxian" clstag="pageclick|keycount|click_bubble|1"></a>{{/if}}<a class="s" CouponsMessage href="#couponsList"></a></footer>{{/if}}',
"dz":'{{if type == 1}}<img class="t" src="{{$4(publisherImgUrl)}}">{{/if}}<p class="u">{{latestFeedText}}</p><i class="v"></i>',"e0":'<article class="scrolling"><div class="sb store-act-parent-wrap1">{{if result}}<div class="sc"><a class="si" href="#storeHome/storeId:{{result.stationNo}}/orgCode:{{result.venderId}}" onclick=\'lg("user_action", "1.0", {"click_id":"active_store_item","store_id":"{{(result||{}).stationNo}}","activityId":""})\'><img class="sd" src= \'{{result.logo || "//static-o2o.360buyimg.com/daojia/new/images/icon/notfound-2.png"}}\'/></a><div class="se"><a class="store-act-link2" href="#storeHome/storeId:{{result.stationNo}}/orgCode:{{result.venderId}}" onclick=\'lg("user_action", "1.0", {"click_id":"active_store_item","store_id":"{{(result||{}).stationNo}}","activityId":""})\'><span class="sf">{{result.stationName}}</span><span class="sg">{{if result.googsNum}}共{{$114(result.googsNum)}}{{else}} -- {{/if}}件商品</span></a></div><div><div class="sh"><a class="sj clearfix" href="#storeHome/storeId:{{result.stationNo}}/orgCode:{{result.venderId}}" onclick=\'lg("user_action", "1.0", {"click_id":"active_store_item","store_id":"{{(result||{}).stationNo}}","activityId":""})\'>进店逛逛<span class="so"></span></a></div></div></div>{{/if}}<div class="adn">以下商品可用<span>{{result.couponDesc}}</span>优惠券</div>{{=include(\'ax\',{result: result,skuDate: skuDate,cartaddDate: cartaddDate,cartreduceDate: cartreduceDate, isCart: result.showCartButton||true, purTickets:true})}} {{if result.searchResultVOList.length}}<div class="rf sl" style="display:block"><p><a class="sj" href="#storeHome/storeId:{{result.stationNo}}/orgCode:{{result.venderId}}" onclick=\'lg("user_action", "1.0", {"click_id":"active_store_item","store_id":"{{(result||{}).stationNo}}","activityId":""})\'><span class="sm">更多商品，进店凑单</span></a></p></div></div>{{/if}}</div></article>',
"e1":'<a class="a7m" newPer="{{newPer}}" href="{{$39($15(to,params,address))}}" onclick=\'lg("user_action","1.0",{"clickid":"window"})\'><img src="{{imgUrL}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/index/index_red_pack.png"\' /></a>',"e2":'<div class="a7p" id="guideStore"><div class="a7q"><div class="a7r"><p>{{storeName}}</p></div><a href="javascript:;" class="a7s store"></a></div></div>',
"e3":'<div class="a7p" id="guideCart"><div class="a7t"><a href="javascript:;" class="a7s cart"></a></div></div>',"e6":"<div class=\"a8s\"><a href=\"{{$39($15(to,params,address))}}\" onclick=\"lg('user_action', '1.0', {'click_id': 'click_close','color':'green'})\"><img src=\"{{if imgUrl}}{{imgUrl}}{{else}}//static-o2o.360buyimg.com/daojia/new/images/redPacket/indexLayerJD.png{{/if}}\" style=\"{{if imgUrl}}width:100%;top:40%;{{else}}width:85%{{/if}}\" class=\"indexLayerJD\"/></a></div>",
"e7":'<div class="a8s redPacket"><div class="a8t"><img src="{{if headPic}}{{headPic}}{{else}}//static-o2o.360buyimg.com/daojia/new/images/redPacket/redpacket_top.png{{/if}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/redPacket/redpacket_top.png"\' width="100%"/><div class="a8u">{{if list && list.length >0}}<ul class="couponList">{{each list as coupon}}<li couponCode="{{coupon.couponCode}}"><a href="{{$15(coupon.to,coupon.params,"","",coupon.params.limitId)}}" ><div class="a8v"><span>{{coupon.amount}}</span><em>{{coupon.amountUnit}}</em></div><div class="a8w"><div class="a8x"><p class="a8y">{{coupon.couponTitle}}</p><p class="a8z"><span>{{coupon.couponTypeDesc}}</span><em>{{coupon.limitRule}}</em></p></div><div class="a90"><p class="a91">去使用</p></div></div></a></li>{{/each}}</ul>{{/if}}</div><a href="javascript:;" class="a93"></a></div></div>',
"e8":'<div class="a94"><div class="a95"><img src="//static-o2o.360buyimg.com/daojia/new/images/redPacket/storeCouponsTop.png" width="100%"/><div class="a96">{{include("h7",{"coupons":coupons,"storeInfo": storeInfo,from:"new"})}}</div><a href="javascript:;" class="a7z"></a></div></div>',"e9":'<div class="a97"><div class="a98"><p class="a99"></p><em class="a9a"></em><i class="a9b"></i><a href="javascript:;" class="a9c"></a></div></div>',
"ea":'<div class="a97 signIn-masker1"><div class="jsdStyPos"><a class="jsdSty" href="javascript:0;"><img src="{{v.entrancePhoto}}" /></a></div><em class="a9a"></em><div class="a98"><p class="a99" style="background: url(//static-o2o.360buyimg.com/daojia/new/images/icon_title1.png) no-repeat center center;background-size:100% 100%"></p><a href="javascript:;" class="a9c"></a></div></div>',"ed":'<div class="xe" clstag="pageclick|keycount|store_searchbar_click_20160623_1|1"><span class="xm">搜索店内商品</span></div>',
"ef":'{{if index}} {{include(\'b4\',{"address":address, "searchWords": placeHolder})}} {{else if storeSearch}} {{include(\'ed\')}} {{else if storeTop}} {{include(\'ee\',{"storeName":storeName})}} {{else if searchGlobal}} {{include(\'ec\',{"searchGlobal":searchGlobal,"placeHolder":placeHolder})}} {{else}} {{include(\'eb\',{"storeIndex":storeIndex,"cateIndex":cateIndex,"searchResult":searchResult,"placeHolder":placeHolder})}} {{/if}}',
"fg":'{{if from == "storeDetail"}} {{if tagList && tagList.length}}<ul class="a42"><li class="a2i">{{each tagList}}<a class="a2j {{if $value.type == 1}}a2k{{else if $value.type == 2}}a2l{{else if $value.type == 3}}a2m{{/if}}" style="background-image:url(\'{{$value.tagLogoUrl}}\')" href="{{$value.tagDescUrl}}" onclick=\'lg("user_action","1.0",{"clickid":"medal_get","storeId":"{{storeInfo.storeId}}","model_type":"{{$value.type}}"})\'><strong class="a1n a0e"></strong><span class="so">{{$value.tagName}}</span><span class="a43">{{$value.tagDesc}}</span></a>{{/each}}</li></ul>{{/if}} {{/if}}<ul class="a0g a2">{{if from != \'storeDetail\'}} {{if tagList && tagList.length}}<li class="a2i"><div class="a2 clearfix a2n">{{each tagList}}<a class="a2j honor-box-{{tagList.length}} k {{if $value.type == 1}}a2k{{else if $value.type == 2}}a2l{{else if $value.type == 3}}a2m{{/if}}" style="background-image:url(\'{{$value.tagLogoUrl}}\')" href="{{$value.tagDescUrl}}" onclick=\'lg("user_action","1.0",{"clickid":"medal_get","storeId":"{{storeInfo.storeId}}","model_type":"{{$value.type}}"})\'><span class="so">{{$value.tagName}}</span></a>{{/each}}</div></li>{{/if}} {{/if}}<li class="a0o clearfix">{{if from != \'storeDetail\'}}<div class="a2o clearfix"><span class="a0h">商品数量：</span><var class="a0i">{{if storeInfo.inSaleNum}}{{storeInfo.inSaleNum}}件{{else}} -- 件 {{/if}}</var></div><div class="a2o clearfix"><span class="a0h">月销单量：</span><var class="a0i">{{if storeInfo.monthSaleNum}}{{storeInfo.monthSaleNum}}单{{else}} -- 单{{/if}}</var></div>{{if storeInfo.followNo}}<div class="a2o clearfix"><span class="a0h">关注人数：</span><var class="a0i"><em class="js-store-follow">{{storeInfo.followNo}}</em>人</var></div>{{/if}} {{if storeInfo.serviceTimes}}<div class="a2o clearfix"><span class="a0h">营业时间：</span><var class="a0i">{{storeInfo.serviceTimes[0].startTime}}-{{storeInfo.serviceTimes[0].endTime}}</var></div>{{/if}} {{if storeInfo.storeAddress}}<div class="a2o clearfix"><span class="a0h">门店地址：</span><var class="a0i">{{storeInfo.storeAddress}}</var></div>{{/if}} {{if storeInfo.storeTel}}<div class="a2o clearfix"><span class="a0h">门店电话：</span><a href="tel:{{storeInfo.storeTel}}" class="telPhone" clstag="pageclick|keycount|store_get_mobile_20160729|1">{{storeInfo.storeTel}}</a></div>{{/if}} {{else}} {{if storeInfo.serviceTimes}}<div class="a2o clearfix"><span class="a0h a3x">营业时间：</span><var class="a0i">{{storeInfo.serviceTimes[0].startTime}}-{{storeInfo.serviceTimes[0].endTime}}</var></div>{{/if}} {{if storeInfo.storeTel}}<div class="a2o clearfix"><span class="a0h a3y">门店电话：</span><a href="tel:{{storeInfo.storeTel}}" class="telPhone" clstag="pageclick|keycount|store_get_mobile_20160729|1">{{storeInfo.storeTel}}</a></div>{{/if}} {{if storeInfo.storeAddress}}<div class="a2o clearfix"><span class="a0h a3z">门店地址：</span><var class="a0i">{{storeInfo.storeAddress}}</var></div>{{/if}} {{/if}}</li>{{if storeInfo.flag}}<li class="a0o a1m h clearfix"><a href="{{storeInfo.storeCertificateUrl ||\'javascript:;\'}}" class="clearfix a1o"><span class="a0h a40">商家资质</span><strong class="a1n a0e"></strong></a></li>{{/if}} {{if isJb == 1}} {{if from != \'storeDetail\'}}<li class="a0o a1m h clearfix"><a href="{{$12(hasLogin,\'/activity/report/reportMerchant.html?pageType=report&storeId=\'+storeInfo.storeId+\'&appVersion=\'+appVersion,\'true\')}}" class="clearfix a1o" onclick=\'lg("user_action","1.0",{"clickid":"accuse_store","storeId":"{{storeInfo.storeId}}"})\'><span class="a0h">举报商家得红包</span>最高奖100元<strong class="a1n a0e"></strong></a></li>{{else}}<li class="a0o a1m h clearfix"><a href="{{$12(hasLogin,\'/activity/report/reportMerchant.html?pageType=report&storeId=\'+storeInfo.storeId+\'&appVersion=\'+appVersion,\'true\')}}" class="clearfix a1o" onclick=\'lg("user_action","1.0",{"clickid":"accuse_store","storeId":"{{storeInfo.storeId}}"})\'><span class="a0h a41">举报商家</span>有机会获得100元优惠券<strong class="a1n a0e"></strong></a></li>{{/if}} {{/if}}</ul>',
"fh":'<p class="a0k">{{if result.storeInfo.carrierNo == "9966"}}达达专送<var class="line_split"></var><span {{if result.storeInfo.isTimeFight}} class="store_closed_sendtime" {{/if}}>{{result.storeInfo.deliveryFirst}}</span>{{else if result.storeInfo.carrierNo == "2938" }}商家自送<var class="line_split"></var><span {{if result.storeInfo.isTimeFight}}class="store_closed_sendtime"{{/if}}>{{result.storeInfo.deliveryFirst}}</span>{{/if}}</p>',"fi":'<p class="a0k"><span class="a45">{{result.storeInfo && result.storeInfo.freightTag && result.storeInfo.freightTag.words && result.storeInfo.freightTag.words.replace(/###/gi, "，")}}</span></p>',
"fj":'<ul class="a0g a2">{{if result.storeCommentVO.score4 >= 0}} {{if (result.storeCommentVO.totalCount == 0 && result.storeCommentVO.scoreAvg == 0)}}<p class="noCommentWrap">该商家近期暂无评价，无法给出评分参考</p>{{else}} {{if result.storeCommentVO.showTotalCount}}<li><div class="a2 commentWrap clearfix">{{if result.storeCommentVO.scoreAvg >0}}<dl class="scoreWrap k"><dt>{{if result.storeCommentVO.scoreAvg >= \'0\'}}{{result.storeCommentVO.scoreAvg}}</dt>{{/if}}<dd>综合评分</dd></dl>{{/if}}<dl class="numberWrap" style="{{if result.storeCommentVO.scoreAvg<= \'0\'}}width:100%;{{/if}}">{{if result.storeCommentVO.totalCount || result.storeCommentVO.totalCount == \'0\'}}<dt>{{$92(result.storeCommentVO.totalCount)}}</dt>{{/if}}<dd>评论数</dd></dl></div></li>{{/if}}<li class="a0q clearfix"><ul class="evaluateListWrap"><li class="list_li"><div class="headerPic"><img src="//static-o2o.360buyimg.com/daojia/new/images/store/evaluateHeader.jpg" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/store/evaluateHeader.jpg"\' class="pic"></div><dl class="evaluateList"><dt>{{if result.storeCommentVO.buyerShowName}}<div class="pName">{{result.storeCommentVO.buyerShowName}}</div>{{/if}} {{if result.storeCommentVO.createTime}}<span class="DateTime">{{result.storeCommentVO.createTime}}</span>{{/if}}</dt><dd>{{include("h6",{score:result.storeCommentVO.score4})}} {{if result.storeCommentVO.score4Content}}<p class="userComment">{{result.storeCommentVO.score4Content}}</p>{{/if}} {{if result.storeCommentVO && result.storeCommentVO.tagInfoItemList && result.storeCommentVO.tagInfoItemList.length >0}}<div class="hj"><i class="peisongMark"></i><div class="serviceWrap">{{each result.storeCommentVO.tagInfoItemList}}<span class="pieceFont">{{$value}}</span>{{/each}}</div></div>{{/if}} {{if result.storeCommentVO.isOrgComment == \'1\' && result.storeCommentVO.orgCommentContent}}<div class="merchantReply"><u class="markBtn"></u><div class="topLineWrap"><div class="leftLine"></div><div class="rightLine"></div></div><p class="content">商家回复：{{result.storeCommentVO.orgCommentContent}}</p></div>{{/if}} {{if result.storeCommentVO && result.storeCommentVO.skus && result.storeCommentVO.skus.length >0}}<div class="productWrap" {{if result.storeCommentVO.skus.length<= 1 && !result.storeCommentVO.skus[0].skuName}}style="display: none"{{/if}}><i class="fingerMark"></i><div class="singleProWrap">{{each result.storeCommentVO.skus}} {{if $value.skuName && $value.params}}<a href="#goodsDetails/skuId:{{$value.params.skuId}}/storeId:{{$value.params.storeId}}/orgCode:{{$value.params.orgCode}}" class="singlePro">{{$value.skuName}}</a>{{/if}} {{/each}}</div></div>{{/if}}</dd></dl></li></ul></li>{{if result.storeInfo && result.storeInfo.storeId}} {{if from !=\'storeDetail\'}}<li class="h a3v clearfix"><a href="#evaluate/storeId:{{result.storeInfo.storeId}}" class="GotoAllComments" onclick=\'lg("user_action","1.0",{"clickid":"evaluate_query","storeId":"{{result.storeInfo.storeId}}"})\'>查看用户的全部评价&nbsp;></a></li>{{else}}<li class="h a3v clearfix"><a href="#evaluate/storeId:{{result.storeInfo.storeId}}" class="GotoAllComments" onclick=\'lg("user_action","1.0",{"clickid":"evaluate_query","storeId":"{{result.storeInfo.storeId}}"})\'>查看全部评价&nbsp;></a></li>{{/if}} {{/if}} {{/if}} {{else if !result.storeCommentVO.totalCount || result.storeCommentVO.totalCount == 0 || !result.storeCommentVO.score4Content}}<p class="noCommentWrap">该商家近期暂无评价，无法给出评分参考</p>{{/if}}</ul>',
"fk":'{{if result.storeInfo && result.storeInfo.expectArrivedTips && result.storeInfo.expectArrivedTips.length >0}}<dl class="tipsList {{if from != \'storeDetail\'}}h{{/if}}">{{if from != "storeDetail"}}<dt>商家公告</dt>{{else}}<dt>公告:</dt>{{/if}} {{each result.storeInfo.expectArrivedTips}} {{if $value.msg}}<dd>{{if from != "storeDetail"}}<u class="mark{{$value.type}}"></u>{{/if}}<span class="fontTxt">{{$value.msg}}</span></dd>{{/if}} {{/each}}</dl>{{/if}}',"fl":'{{if shared}}<div class="a21"><a class="a22 js-open-app" href="javascript:0;" clstag="pageclick|keycount|store_app_download_20160908|1">下载App可享更多满减、领券等优惠呦~<span>立享优惠</span></a></div>{{/if}}<div class="storeHomeNew store-industry-{{(result.storeInfo.backgroundType && result.storeInfo.backgroundType >5 ? 1 : result.storeInfo.backgroundType) || 5}}"><div class="a0j clearfix"><img class="sd" src= \'{{result.storeInfo.logoUrl || "//static-o2o.360buyimg.com/daojia/new/images/icon/notfound-2.png"}}\'/><div class="se {{if result.storeInfo.isMembership && result.storeInfo.storeMember && result.storeInfo.storeMember.entrancePhoto}}isMembership{{/if}}"><div class="a3r clearfix"><h2 class="sf" {{if result.storeInfo.isMembership && result.storeInfo.storeMember && result.storeInfo.storeMember.entrancePhoto}} style="max-width:{{$112(201)}}"{{else}}style="width:100%"{{/if}}>{{result.storeInfo.storeName}}</h2>{{if result.storeInfo.isMembership && result.storeInfo.storeMember && result.storeInfo.storeMember.entrancePhoto}}<div class="a1v {{if result.storeInfo.isFollow == true}}a1y{{/if}}" {{if result.storeInfo.isFollow == true}}data-focus=1 clstag="pageclick|keycount|store_focus_20160815_2" {{else}}data-focus=0 clstag="pageclick|keycount|store_focus_20160815_1" {{/if}} ><i class="a1x "></i></div>{{/if}}</div>{{if result.storeInfo.isMembership && result.storeInfo.storeMember && result.storeInfo.storeMember.entrancePhoto && result.storeInfo.storeMember.membersUrl}}<div class="jsdStyPos"><a class="jsdSty" href="{{result.storeInfo.storeMember.membersUrl}}"><img src="{{result.storeInfo.storeMember.entrancePhoto}}" /></a></div>{{/if}} {{if result.storeInfo.deliveryFirst}} {{include(\'fh\',{result:result})}} {{/if}} {{if result.storeInfo.freightTag}} {{include(\'fi\',{result:result})}} {{/if}}</div>{{if !result.storeInfo.isMembership || !result.storeInfo.storeMember || !result.storeInfo.storeMember.entrancePhoto}}<div class="a1v a1w {{if result.storeInfo.isFollow == true}}a1y{{/if}}" {{if result.storeInfo.isFollow == true}}data-focus=1 clstag="pageclick|keycount|store_focus_20160815_2" {{else}}data-focus=0 clstag="pageclick|keycount|store_focus_20160815_1" {{/if}} ><i class="a1x "></i></div>{{/if}} {{if !result.storeInfo.isMembership || !result.storeInfo.storeMember || !result.storeInfo.storeMember.entrancePhoto}}<div class="a0r a0e a1s {{if !(result.storeInfo && result.storeInfo.tags && result.storeInfo.tags.length)}}a1t {{/if}}" onclick=\'lg("user_action","1.0",{"clickid":"store_get_info_20160623_1","storeId":"{{result.storeInfo.storeId}}"})\'>店铺信息</div>{{/if}} {{if result.storeInfo && result.storeInfo.tags && result.storeInfo.tags.length >0}}<div class="a2p"><ul class="a3t dt">{{if $56(result.storeInfo.tags).length< 6}} {{include("hd",{storetags:result.storeInfo.tags,classname:"a38"})}} {{else}} {{=include("hd",{storetags:$56(result.storeInfo.tags,true)[0],classname:"a38"})}}<div class="af6">{{=include("hd",{storetags:$56(result.storeInfo.tags,true)[1],classname:"a38"})}}</div>{{/if}}</ul>{{if result.storeInfo.tags && $56(result.storeInfo.tags).length>0}}<div class="xa" node-type="index-checkStoreActivity"><span>{{$56(result.storeInfo.tags).length}}个活动</span><i class="a2q a0e"></i></div>{{/if}} {{if result.storeInfo.tags && $56(result.storeInfo.tags).length>5}}<div class="a2v" node-type="store-checkStoreActivity" onclick=\'lg("user_action","1.0",{"clickid":"click_pickup","storeId":"{{result.storeInfo.storeId}}",type:1})\'><span>查看更多</span><i class="a2q a0e"></i></div>{{/if}}</div>{{/if}} {{if result.storeInfo.expectArrivedTips && result.storeInfo.expectArrivedTips.length >0}}<div class="a1u">{{each result.storeInfo.expectArrivedTips}} {{if $value.msg}}<div class="noticeTips" clstag="pageclick|keycount|store_status_click_20160729|1"><i>公告</i><div class="tipsAuto"><div class="tipsFont">{{$value.msg}}</div></div></div>{{/if}} {{/each}}</div>{{/if}}</div><div class="a1k" >{{if result.coupons && result.coupons.length >0}}<div class="store-new-sales-warp"><div class="a0m"><h2 class="a0l">店铺优惠券</h2></div><div class="a0t">{{include(\'h7\',{"coupons":result.coupons,"storeInfo":result.storeInfo,from:"old",type:"storeHomeInfo"})}}</div></div>{{/if}} {{if result.storeCommentVO}}<div class="a0n a0p"><div class="a0m"><h2 class="a0l">店铺评价</h2></div>{{include(\'fj\',{result:result})}}</div>{{/if}}<div class="a0n"><div class="a0m"><h2 class="a0l">店铺信息</h2></div>{{include(\'fg\',{"storeInfo":result.storeInfo,"tagList":result.tagList||[],"type":"new",hasLogin:hasLogin,isJb:result.isJb,appVersion:appVersion})}}</div></div></div><div class="a0x {{if (result.storeInfo.expectArrivedTips && (result.storeInfo.expectArrivedTips.length >1 || (result.storeInfo.expectArrivedTips.length == 1 && result.storeInfo.expectArrivedTips[0].msg))) || (result.storeInfo.tags && result.storeInfo.tags.length >0) }}a0y{{/if}}"><div class="a1f clearfix">{{include(\'fn\',{cateList: result.cateList})}}<div class="a1e store-origin-title"><div class="a2g"></div></div><div class="a24">{{if showZhanwei}}<div class="a1e a2f"><div class="a2g"></div></div>{{/if}}<div class="a1b xb {{if result.storeInfo.searchLinkageFlag}}a1z{{/if}}"><div class="storePromptWrap a2" style="display:none">没找到<span>“<span class="searchKey"></span>”</span>,为您推荐<span>“<span class="searchPrompt"></span>”</span></div><div class="a1d ri" ><p class="ct">努力加载中<i></i></p></div></div></div></div></div>',
"fm":'<div class="a0v" onclick=\'lg("user_action","1.0",{"clickid":"store_coupons_close","store_id":"{{storeId}}"})\'><i class="a0e a0w"></i><span>点击继续购物</span></div>',"fn":'{{if cateList && cateList.length >0}}<ul class="a0z">{{each cateList}}<li class="a10 {{if $value.ispromotcat == true}}promotion{{/if}}" ><strong category _catId="{{$value.catId}}" catName="{{$value.title}}" promotLable="{{$value.promotLabel||\'\'}}" hasSearchResult="{{if $value.hasSearchResult}}has{{/if}}" class="a13 a2 k {{if $value.openCatetory}}active{{/if}}" onclick=\'lg("user_action","1.0",{"clickid":"store_left_first","index":"{{$index}}","name":"{{$value.title}}"})\'>{{if $value.ispromotcat == true}}<em class="a0e a11 {{if $value.promotLabel == 101}}a12 {{/if}}"></em>{{/if}}<var class="a19">{{$value.title}}</var></strong>{{if $value.childCategoryList && $value.childCategoryList.length >0}}<strong class="a16">{{each $value.childCategoryList as secondCate index }}<span category _catId="{{secondCate.catId}}" catName="{{secondCate.title}}" promotLable="{{secondCate.promotLabel||\'\'}}" class="a15 h a17 {{if secondCate.openCatetory}}active{{/if}}" onclick=\'lg("user_action","1.0",{"clickid":"store_left_second","index":"{{index}}","name":"{{secondCate.title}}"})\' >{{secondCate.title}}</span>{{/each}}</strong>{{/if}}</li>{{/each}}</ul>{{else}}<ul class="a0z"><li class="a10"><strong category _catId="" catName="全部商品" class="a13">全部商品</strong></li></ul>{{/if}}',
"fo":'{{each List as $v1 $i1}} {{if $v1.catTitle}}<h3 class="cateTitle" {{if $v1.type!=4}}_cateId ="{{$v1.catId}}"{{else}} _promotLabel="{{$v1.catId}}" {{/if}} _count={{$v1.productCount}}>{{$v1.catTitle}}({{$v1.productCount}})</h3>{{/if}} {{if $v1.anchoredProduct && $v1.anchoredProduct.skuId}} {{=include(\'ha\',{autoaddcart: autoaddcart,List:$80($v1.anchoredProduct),skuDate: skuDate,cartaddDate: cartaddDate,cartreduceDate: cartreduceDate,isCart:true,from:from,className:"store_anchoredProduct",abTest:abTest})}} {{/if}}<ul>{{if $v1.searchResultVOList && $v1.searchResultVOList.length }} {{=include(\'ha\',{autoaddcart: autoaddcart,List:$v1.searchResultVOList,skuDate: skuDate,cartaddDate: cartaddDate,cartreduceDate: cartreduceDate,isCart:true,from:from,abTest:abTest})}} {{/if}}</ul>{{/each}}',
"fp":'<div class="a23 {{if isShow}}isShow{{/if}} {{if initShow}}initShow{{/if}}">{{include("h7",{"coupons":result.coupons,"cPkg":result.cPkg,"storeInfo": result.storeInfo,from:"new",type:type})}} {{if result && (result.storeActPageList ||[]).length}}<div class="a2b">{{each result.storeActPageList}}<a class="a2d" href="{{$value.activityUrl || $15($value.to,$value.params)}}" onclick=\'lg("user_action","1.0",{"click_id":"store_active",{{$41($value.userAction || "{}")}}})\' ><img class="a2e" src="{{$value.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/index_banner_default_2.0.png"\' /></a>{{/each}}</div>{{/if}}</div>',
"fq":'{{if coupon}}<div class="a33"><div class="titleName">恭喜你获得</div><div class="a34"><div class="moneyNum">{{if coupon.amount}}<span class="bigNum">{{coupon.amount}}</span>{{/if}} {{if coupon.amountUnit}}<span class="smallNum">{{coupon.amountUnit}}</span>{{/if}}</div>{{if coupon.limitRule}}<div class="a35">{{coupon.limitRule}}</div>{{/if}} {{if coupon.avilableDate}}<div class="a36">{{coupon.avilableDate}}</div>{{/if}}</div></div>{{/if}}',
"fs":'<div class="yk {{if other_tip_bg}}{{other_tip_bg}}{{else}}yo{{/if}}" style="min-height:{{$29()- (cutHeight || 0)}}px"><div class="tg "><p>{{msg || \'网络开小差，请稍后再试哦~[0001]\'}}</p>{{if !hideBtn}}<a class="y5" href="{{btnHref || \'javascript:window.location.reload()\'}}">{{btnText || \'重新加载\'}}</a>{{/if}} {{if loginError}}<a class="y5 yj" tap>重新登录</a>{{/if}}</div></div>',"fu":'<div class="yn full oj"><div class="fresher"><p>{{msg}}</p><a class="ym" href="#index">手动搜索地址</a></div></div>',
"fw":'<div class="ya oj {{if height}}yc{{/if}}" {{if !height}}style="min-height:{{$29()}}px"{{/if}}><div class="yb "><p>{{=msg || \'没有找到符合的商品[0001]\'}}</p>{{if subMsg}}<span>{{subMsg}}</span>{{/if}} {{if fromDepriceList}}<a href="#index" class="y5">返回首页</a>{{/if}}</div></div>',"fx":'<div class="yd">{{msg||"无法获取地址"}}<br><a class="y5" href="#indexaddress">手动搜索地址</a></div>',"fz":'<div class="yh" {{if fromTargetIndex}}style="min-height:{{$29(-45)}}px"{{else}}style="min-height:{{$29(-90)}}px"{{/if}}><div class="yi"><p>{{msg || \'当前城市未开通服务[0001]\'}}</p><a class="y5 {{if noHeight}}yg{{/if}} " href="#index">回首页</a></div></div>',
"gk":'<div class="aau oj" style="min-height:{{$29()}}px"><div class="aat"><p>{{msg || \'暂无运费减免记录，快去下单吧~\'}}</p></div></div>',"gl":'<div class="aav oj" style="min-height:{{$29()}}px"><div class="aas"><p>{{msg || \'暂无VIP会员购买记录,开通会员，立享运费减免优惠~\'}}</p></div></div>',"gm":'<div style="min-height:{{$29(0)}}px;" class="a9u"><div class="a9v {{if status!=103}}aa0{{/if}}">{{if status==103}}<div class="a9x"><div class="a9z"><h4>{{onceReduceText}}</h4><p>—— {{monthReduceText}} ——</p><p class="abk">可与优惠券叠加使用</p></div></div>{{else}}<div class="a9w"></div><div class="a9y"><dl class="vip-card"><dt class="aa1"><a class="aa2">续费</a><p><i>{{nickName || pin || \'\'}}</i><i>{{phone || \'\'}}</i></p><p class="aa4">有效期至 {{$102(endTime)}}</p>{{if isManage && isOpenAutoRenew != 2}}<p class="aa3"><a href="?h5hash=renewManage#renewManage">{{isOpenAutoRenew == 0 ? \'管理连续包月\':\'开通连续包月\'}} ></a></p>{{/if}}</dt><dd class="aa5"><p class="aa6 aa7"><b>{{reduceMoney}}元</b><span>累计节省运费<a href="#vipFreight">明细></a></span></p><p class="aa6"><b>{{usableTime}}次</b><span>剩余减免次数</span></p></dd></dl></div>{{/if}}</div>{{if vipRightsResponseList&&vipRightsResponseList.length}}<div class="aa8"><h3 class="aae"><a class="aa9" href="/activity/vip/m_aboutVip.html">详细介绍&nbsp;</a>会员权益</h3><ul class="aaa">{{each vipRightsResponseList}}<li class="aab"><img src="{{$value.icon}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/vip/default.png"\' ><p>{{$value.title}}</p><span>{{$value.showInfo}}</span></li>{{/each}}</ul></div>{{/if}}<div class="aac"><h3 class="aae"><a class="aa9" href="#vipPurchaseHistory">购买记录&nbsp;</a>会员套餐</h3><ul class="meal_list" {{if status == 103}} style="padding-bottom: 60px;"{{/if}}>{{each vipPackageResponseList}}<li class="meal_item {{if $value.isAuto && !isManage}}none{{/if}}" itemId="{{$value.id}}" isAuto="{{$value.isAuto}}"><p class="meal_item_fs"><i>{{$value.name}}</i><span class="red {{if !$value.primeCostStr}}line42{{/if}}">{{if $value.recommonedSign}}<i class="icon_tigs">{{$value.recommonedSign}}</i>{{/if}}￥{{$value.renewCost || $value.promotionCostStr}}</span></p><p class="meal_item_color"><em><i>{{$value.beforeCouponDesc}}</i><i class="red">{{$value.couponDesc}}</i><i>{{$value.afterCouponDesc}}</i>{{if $value.isAuto}}<b class="aaf"></b>{{/if}}</em>{{if $value.primeCostStr}}<span class="right_fs">￥{{$value.primeCostStr}}</span>{{/if}}</p></li>{{/each}}</ul><div class="open_button {{if status==103}} open_fixed{{/if}}">{{if status==103}}<a class="m5" href="javascript:void(0)">立即开通VIP会员</a>{{else}}<a class="m5" href="javascript:void(0)">立即续费</a>{{/if}}</div><div class="abm"></div></div></div><div class="vip-masker"></div>',
"go":'{{if $data && vipReduceRecordResponseList && vipReduceRecordResponseList.length}}<div class="aah"><p class="aai">总计使用<i class="red">{{useTotalTime}}</i>次，累计节省运费<i class="red">{{reduceMoney}}</i>元</p><ul class="vip-freight-list">{{each vipReduceRecordResponseList}}<li class="aaj {{if $value.status==102}} aap{{/if}}" cardNo="{{$value.cardNo}}"><h4 class="aak">卡号：{{$value.cardNo}}</h4><dl><dt class="aal"><p class="vip-freight-16">使用{{$value.useTimes}}次</p><p class="vip-freight-20">节省运费{{$value.costSaving}}元</p><p>有效期：{{$102($value.createTime)}}到{{$102($value.endTime)}}</p><i class="icon_seal {{if $value.status==102}} icon_seal_end{{else}}icon_seal_use{{/if}}"></i></dt><dd class="aam"></dd></dl><p class="aao"><span class="aar">收起</span><span class="freight-item-tab-hide">展开详细记录</span><i class="icon_arrow"></i></p></li>{{/each}}</ul></div>{{else}} {{include(\'gk\')}} {{/if}}',
"gq":'<div class="aax"><div class="aay">{{if showXFPop}}<dl class="aaz"><dt>连续包月服务说明</dt><dd class="ab2">{{each data}}<P>{{$value}}</P>{{/each}}</dd><dd><span class="ab0 close-pop">我知道了</span><p class="ab1">查看<a href="#vipAutoRenewDesc">《连续包月服务条款》</a></p></dd></dl>{{/if}} {{if showBYPop}}<dl class="aaz"><dt>开通连续包月服务</dt><dd class="ab3">{{if data.promotionCostStr == data.renewCost}}<p class="abn"><i>￥</i>{{data.promotionCostStr}}/月<p><p class="abo">原价{{data.primeCostStr}}</p>{{else}}<p class="ab4">{{if data.promotionCostStr}}本月 ￥<i>{{data.promotionCostStr}}</i>{{else}}￥<i>{{data.renewCost}}/月</i>{{/if}}</p><p class="ab5 {{if !data.promotionCostStr}}fs16{{/if}}">{{if data.promotionCostStr}}次月自动续费<b>￥{{data.renewCost}}/月</b>{{/if}}<i>原价{{data.primeCostStr}}</i></p>{{/if}}<p class="ab6">自动续费，开通后可随时取消</p></dd><dd><span class="ab0 pay-vip-baoyue">立即支付</span><p class="ab1">开通表示同意<a href="#vipAutoRenewDesc">《连续包月服务条款》</a></p></dd></dl>{{/if}} {{if cancelRenew}}<dl class="aaz"><dt>取消连续包月</dt><dd class="ab3"><p class="ab6 ab9">取消之后将无法享受连续包月的特价优惠</p></dd></dl><p class="ab7"><span class="cancel-button">确认取消</span><span class="ab8 close-pop">再考虑一下</span></p>{{/if}}</div></div>',
"gt":'<li class="dr {{if $value.brosStore && $value.brosStore.length == 1}}aea{{/if}}"><div {{if isShare}}storeId="{{$value.storeId}}" orgCode="{{$value.venderId}}" {{/if}} class="s8 {{if isShare}}activityToStore{{/if}}" {{if from == "mine" }} onclick=\'lg("user_action","1.0",{"clickid":"myfocus_storelist_20160815","store_id":"{{$value.storeId}}"})\' {{else}} onclick=\'lg("user_action","1.0",{"click_id": "{{if fromHash == \' newMember \'}}home_newperson_20160815{{else if fromHash == \'newStore \'}}home_newstore_20160815{{else}}home_click_store_20160714_1{{/if}}", {{$41($value.userAction || "{}")}}})\' {{/if}}><div class="ae0"><a class="adz" {{if $16(fromHash)}} href="{{$17($value)}}" {{else}} {{if $value.to}} href="{{$15($value.to,$value.params,null,null,null,$value.userAction)}}" {{else}} href="#storeHome/storeId:{{$value.storeId}}/orgCode:{{$value.venderId || $value.orgCode}}{{if $42($value.userAction)}}/res_type:{{$42($value.userAction)}}{{/if}}" {{/if}} {{/if}} >{{include(\'gw\',{$value:$value})}}</a><div class="d7"><a class="ado" {{if $16(fromHash)}} href="{{$17($value)}}" {{else}} {{if $value.to}} href="{{$15($value.to,$value.params,null,null,null,$value.userAction)}}" {{else}} href="#storeHome/storeId:{{$value.storeId}}/orgCode:{{$value.venderId || $value.orgCode}}{{if $42($value.userAction)}}/res_type:{{$42($value.userAction)}}{{/if}}" {{/if}} {{/if}} >{{include("gx",{$value:$value})}}</a><div>{{if ($value.tags && $value.tags.length>0) || ($value.skus && $value.skus.length>0)}}<div class="adv {{if fromHash && fromHash == \'newMember\'}}ds{{/if}}">{{include(\'gz\',{tags:$value.tags,fromHash:fromHash,$value:$value})}} {{if fromHash != \'newMember\' && fromHash != \'newStore\'}} {{if $value.skus && $value.skus.length>0}} {{include("h0",{skus:$value.skus})}} {{/if}} {{/if}}</div>{{/if}} {{if !(fromHash == \'newMember\' || fromHash == \'newStore\' || fromHash == \'mineCollectStore\')}} {{if $value.brosStore && $value.brosStore.length}} {{=include("h2",{nearstorelist:$value.brosStore,showStoreId:($value.params||{}).storeId})}} {{/if}} {{/if}}</div></div></div></div>{{if fromHash && fromHash == \'newMember\'}}<div class="StoreBtnBox"><a {{if $16(fromHash)}} href="{{$17($value)}}" {{else}} {{if $value.to}} href="{{$15($value.to,$value.params,null,null,null,$value.userAction)}}" {{else}} href="#storeHome/storeId:{{$value.storeId}}/orgCode:{{$value.venderId}}" {{/if}} {{/if}} class="storeBtn">进店逛逛</a></div>{{/if}} {{if fromHash != \'newMember\' && fromHash != \'newStore\'}} {{include("h1",{$value:$value})}} {{/if}} {{if fromHash == "mineCollectStore"}}<div class="vn" deleteCart storeId="{{$value.storeId}}" onclick=\'lg("user_action","1.0",{"clickid":"myfocus_storelist_cancel_20160815","store_id":"{{$value.storeId}}"})\'><span>取消关注</span></div><div class="a6u" swipeMask></div>{{/if}}</li>',
"gu":'{{each data}} {{include("gt",{$value:$value.floorCellData,fromHash:fromHash})}} {{/each}}',"gv":'{{each data}} {{include("gt",{$value:$value,fromHash:fromHash})}} {{/each}}',"gw":'<span class="clearfix ae1"><img class="d9" src="{{$value.imgUrl || $value.logo}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\' />{{if $value.closeStatus == 1}}<span class="ae2">门店休息中</span>{{/if}} {{if fromHash != \'newMember\' && fromHash != \'newStore\'}} {{if $value.inCartNum>0}}<i class="vm">{{if $value.inCartNum>99}}99+{{else}}{{$value.inCartNum}}{{/if}}</i>{{/if}} {{/if}}</span>',
"gx":'<div class="ae3 clearfix {{if $value.closeStatus == 1}}adp{{/if}}"><h2 class="{{if (fromHash == \'newMember\') && ($value.carrierNo != " 9966 ")}}noDadah2{{/if}}">{{$value.name || $value.storeName}}</h2>{{if $value.tagList && $value.tagList.length}}<div class="store_honor_box">{{each $value.tagList}}<span class="store_honor_icon {{if $value.type == 1}}ae6{{else if $value.type == 2}}ae5{{else if $value.type == 3}}ae7{{/if}}" style="background-image:url(\'{{$value.tagLogoUrl}}\')"></span>{{/each}}</div>{{/if}}</div><div class="a20 ae4">{{if $value.carryCapacityStatus&&$value.carryCapacityStatus.status != "1"}}<strong class="d4">{{$value.carryCapacityStatus.text}}</strong>{{/if}} {{include(\'h4\',{sendObj:$value})}}</div><div class="ae8"><p class="adq">{{include("h6",{score: $value.storeStar || $value.starGrade })}}</p>{{include("gy",{monthSale: $value.monthSale })}}</div>{{if $value.carryCapacityStatus && $value.carryCapacityStatus.status != "1"}}<span class="vk ra">{{$value.carryCapacityStatus.msg}}</span>{{else if ($value.freightWords || $value.ferightDesc)}}<span class="vk">{{$value.freightWords || $value.ferightDesc}}</span>{{/if}} {{if $value.couponTag && $value.couponTag.iconText}} {{include(\'h3\',{couponTag:$value.couponTag})}} {{/if}}',
"gy":'{{ if monthSale}}<p class="ae9"><span class="line_split"></span>{{monthSale}}</p>{{/if}}',"gz":'{{if tags && tags.length>0}}<div class="a2p {{if $54() && ((tags.length == 1) && $55(tags))}}cf{{/if}}"><a class="dt" {{if $16(fromHash)}} href="{{$17($value)}}" {{else}} {{if $value.to}} href="{{$15($value.to,$value.params,null,null,null,$value.userAction)}}" {{else}} href="#storeHome/storeId:{{$value.storeId}}/orgCode:{{$value.venderId || $value.orgCode}}" {{/if}} {{/if}} ><ul node-type="index-storeActivityList" class="ady">{{include(\'hd\',{storetags:tags})}}</ul></a>{{if fromHash != \'newMember\'}} {{if tags && $56(tags).length>2 }}<div class="xa" node-type="index-checkStoreActivity"><i class="adw a2q"></i></div>{{/if}} {{/if}}</div>{{/if}}',
"h0":'<div class="ads">{{each skus as item index}}<a class="adt" href="#storeHome/skuId:{{item.skuId}}/storeId:{{item.storeId}}/orgCode:{{item.venderId || item.orgCode}}/promotionType:{{item.tags && item.tags[0] && item.tags[0].type}}/fromAnchor:true" onclick=\'lg("user_action","1.0",{"click_id":"home_store_item",{{$41(item.userAction || "{}")}}})\'><span class="d0" ><img src="{{item.imgUrl}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/show_default.png"\' />{{if item.priceDesc}}<span class="cz">{{item.priceDesc}}</span>{{/if}}</span>{{if item.vipPrice || item.realTimePrice}}<span class="d1">￥{{item.vipPrice||item.realTimePrice}}</span>{{/if}}</a>{{/each}}</div>',
"h1":'{{if ($value.isfollow == 1 || $value.attentionStatus == 1)}}<span class="searchFollowStore"></span>{{else if $value.recommendType}} {{if $value.recommendType == "1"}}<span class="vl"></span>{{else if $value.recommendType == "2"}}<span class="vi"></span>{{else if $value.recommendType == "6"}}<span class="adr"></span>{{/if}} {{/if}}',"h2":'<div class="aeb {{if nearstorelist.length == 1}}aed{{/if}}" ><div class="aec" {{if nearstorelist.length >1}} node-type="index-checknearbyStore" onclick=\'lg("user_action","1.0",{"clickid":"foldStore","storeId":"{{showStoreId}}","isFlold":"false"})\'{{/if}} data-storeId={{showStoreId}} ><i class="aee"></i><span>附近还有{{nearstorelist.length}}家</span>{{if nearstorelist.length >1}}<div class="xa"><i class="adw a2q" ></i></div>{{/if}}</div><ul class="aef {{if nearstorelist.length>1}}aeg{{/if}}">{{each nearstorelist}}<li class="aei" ><a class="aej" {{if $value.to}} href="{{$15($value.to,$value.params,null,null,null,$value.userAction)}}" {{/if}}><span class="aek">{{$value.name}}</span><span class="ael">{{$value.deliveryFirst}}</span></a></li>{{/each}}</ul></div>',
"h3":'<div class="aem"><span class="aen" style="background:{{couponTag.color}}">{{couponTag.iconText}}</span><span class="aeo" style="border-color:{{couponTag.color}}">{{couponTag.words}}</span></div>',"h4":'{{if (sendObj.carrierNo == \'9966\' || sendObj.carrierNo == \'2938\') }} {{if sendObj.isTimeFight == 0}}<strong class="{{if sendObj.carrierNo == \'9966\'}}kh{{else}}aep{{/if}}">{{if sendObj.carrierNo == "9966"}}<span class="da">达达专送</span>{{else if sendObj.carrierNo == "2938"}}<span class="da">商家自送</span>{{/if}} {{if sendObj.deliveryFirst}}<span class="db">-</span><span class="aeq {{if !sendObj.deliverySecond}} index-store-list-descrip-only{{/if}}">{{sendObj.deliveryFirst}}</span>{{/if}}</strong>{{else if sendObj.isTimeFight == 1}}<strong class="aer">{{if sendObj.deliveryFirst}}<span class="aeq {{if !sendObj.deliverySecond}} index-store-list-descrip-only{{/if}}">{{sendObj.deliveryFirst}}</span>{{/if}} {{if sendObj.carrierNo == "9966"}}<span class="da aes">达达专送</span>{{else if sendObj.carrierNo == "2938"}}<span class="da">商家自送</span>{{/if}}</strong>{{/if}} {{else}}<span class="aeq {{if !sendObj.deliverySecond}} index-store-list-descrip-only{{/if}}">{{sendObj.deliveryFirst}}</span>{{/if}}',
"h6":'<span class="a9q clearfix">{{$40(score)}}</span>',"h7":'{{if coupons && coupons.length >0}}<div class="a0u"><ul class="a25">{{if type == "storeHome"}} {{if coupons.length >1}} {{if cPkg && ( cPkg.gainedC == 0 || cPkg.btnTyp ==2 ) && cPkg.btnTyp != 1}}<li class="{{if cPkg.btnTyp == 2 && coupons.length<= 1}}a31{{else if cPkg.btnTyp == 2 && coupons.length >1}}a31 moreCoupon{{else if cPkg.btnTyp == 0}}moreCoupon{{/if}}" data-type="moreCoupon" onclick=\'lg("user_action","1.0",{"clickid":"get_coupon","store_id":"{{storeInfo.storeId}}","coupon_type":{{if cPkg}}{{$33(cPkg)}}{{/if}} })\'><div class="aet"><div class="a26"><div class="aey">{{cPkg.totC}}张优惠券</div><div class="aez">{{cPkg.desc}}</div></div></div><div class="a28"><div class="a27"><div class="a32">{{if cPkg.btnTyp == 2}}已抢光{{else if cPkg.btnTyp == 0}}领券{{/if}}</div></div></div></li>{{else if cPkg && !$107(cPkg) && ( cPkg.gainedC != 0 || cPkg.btnTyp == 0) }}<div class="conponLinksWrap {{if cPkg.btnTyp == 1}} soldOutWrap{{else if cPkg.btnTyp == 0}}receiveBtnShow{{/if}}" onclick=\'lg("user_action","1.0",{"clickid":"get_coupon","store_id":"{{storeInfo.storeId}}","coupon_type":{{if cPkg}}{{$33(cPkg)}}{{/if}} })\'><div class="a2z">{{if cPkg.btnTyp == 1}} 已领{{cPkg.gainedC}}张 {{else if cPkg.btnTyp == 0}} {{cPkg.totC}}张券，已领{{cPkg.gainedC}}张 {{/if}} {{if cPkg.desc}}：{{cPkg.desc}}{{/if}}</div>{{if cPkg.btnTyp == 1}}<span class="a30"></span>{{else if cPkg.btnTyp == 0}}<span class="receiveBtn">领券</span>{{/if}}</div>{{/if}} {{else if coupons.length == 1}} {{each coupons as coupons}} {{if !coupons.isGain}}<li class=" {{if coupons.toUse}}aex coupon-type-gain1{{else if (coupons.isGain == true && !coupons.toUse)}}aex{{else if (coupons.remainCount == 0 || coupons.soldOut == true )}} coupon-type-0{{/if}} {{if coupons.isFans == 1}}fans{{/if}} clearfix" _couponCode="{{coupons.couponCode}}" _operType="1" _isShowLayer="{{if coupons.isShowLayer}}1{{else}}2{{/if}}" onclick=\'lg("user_action","1.0",{"clickid":"get_coupon","codeid":"{{coupons.couponCode}}","store_id":"{{storeInfo.storeId}}","coupon_type":{{if cPkg}}{{$33(cPkg)}}{{/if}} })\'><a {{if coupons.toUse}}href="{{$15(coupons.to,coupons.params)}}"{{else}}href="javascript:0;"{{/if}}>{{include(\'h9\',{coupons:coupons})}}<div class="a28"><div class="a27"><div class="a32">{{if coupons.toUse}}去使用{{else if (coupons.isGain == true && !coupons.toUse)}}已领取{{else if (coupons.remainCount == 0 || coupons.soldOut == true)}}已抢光{{else}}领券{{/if}}</div></div></div></a></li>{{else}} {{if cPkg && cPkg.desc}}<div class="conponLinksWrap soldOutWrap"><div class="a2z">已领{{cPkg.gainedC}}张{{cPkg.desc}}</div><span class="a30"></span></div>{{/if}} {{/if}} {{/each}} {{/if}} {{else}} {{each coupons as coupons}}<li class=" {{if coupons.toUse}}aex coupon-type-gain1{{else if (coupons.isGain == true && !coupons.toUse)}}aex{{else if (coupons.remainCount == 0 || coupons.soldOut == true )}} coupon-type-0{{/if}} {{if coupons.isFans == 1}}fans{{/if}} clearfix" {{if type}}_type={{type}}{{/if}} _isShowLayer="{{if coupons.isShowLayer}}1{{else}}2{{/if}}" _couponCode="{{coupons.couponCode}}" _operType="1" onclick=\'lg("user_action","1.0",{"clickid":"click_coupon","codeid":"{{coupons.couponCode}}","store_id":"{{storeInfo.storeId}}","coupon_type":{{if from =="new"}}"2"{{else}}"1"{{/if}},{{if type =="storeHomeInfo"}}"type": "background"{{/if}} })\'><a {{if coupons.toUse}}href="{{$15(coupons.to,coupons.params)}}"{{else}}href="javascript:0;"{{/if}}>{{if gotoStore == true}}<a class="aet" style="display:block;" href="#storeHome/storeId:{{storeInfo.storeId}}/orgCode:{{storeInfo.venderId || storeInfo.orgCode}}">{{include(\'h8\',{coupons:coupons})}}</a><div class="a2a">{{if coupons.amount}}<span class="a2r {{if $53(coupons.amount)}}a2s{{/if}}">{{coupons.amount}}</span>{{/if}} {{if coupons.amountUnit}}<span class="a2u {{if $53(coupons.amount)}}a2t{{/if}}">{{coupons.amountUnit}}</span>{{/if}}</div>{{else}}<div class="af0">{{include(\'h9\',{coupons:coupons})}}</div>{{/if}} {{if gotoStore == true}}<div class="a28 conpon-to-store-wrap" {{if logType == \'fuli\'}}onclick=\'lg("user_action","1.0",{"clickid":"store_coupons_get_20160623_1","codeid":"{{coupons.couponCode}}","store_id":"{{storeInfo.storeId}}","coupon_type":{{if from =="new"}}"2"{{else}}"1"{{/if}} })\' {{/if}}><div class="a27"><a style="display:block;width:100%;height:100%;border:1px solid #FFF;border-radius: 5px;box-sizing: border-box;" href="#storeHome/storeId:{{storeInfo.storeId}}/orgCode:{{storeInfo.venderId || storeInfo.orgCode}}"><span class="a32">{{if coupons.toUse}}去使用{{else if (coupons.isGain == true && !coupons.toUse)}}已领取{{else if (coupons.remainCount == 0 || coupons.soldOut == true)}}已抢光{{else}}领券{{/if}}</span></a></div></div>{{else}}<div class="a28"><div class="a27"><div class="a32">{{if coupons.toUse}}去使用{{else if (coupons.isGain == true && !coupons.toUse)}}已领取{{else if (coupons.remainCount == 0 || coupons.soldOut == true)}}已抢光{{else}}领券{{/if}}</div></div></div>{{/if}}</a></li>{{/each}} {{/if}}</ul></div>{{/if}}',
"h8":'<div class="a29"><div class="a44"><div class="aeu">{{if coupons.limitRule}} {{coupons.limitRule}} {{/if}}</div>{{if coupons.couponTip}}<div class="aev">{{coupons.couponTip}}</div>{{/if}} {{if coupons.avilableDate}}<div class="aev">{{coupons.avilableDate}}</div>{{/if}}</div></div>',"h9":'<div class="aet">{{include(\'h8\',{coupons:coupons})}}</div><div class="a2a">{{if coupons.amount}}<span class="a2r {{if $53(coupons.amount)}}a2s{{/if}}">{{coupons.amount}}</span>{{/if}} {{if coupons.amountUnit}}<span class="a2u {{if $53(coupons.amount)}}a2t{{/if}}">{{coupons.amountUnit}}</span>{{/if}}</div>',
"ha":'{{each List}}<li _goodsid="{{$value.skuId}}" _storeId="{{$value.storeId}}" _orgCode="{{$value.orgCode}}" _num="{{if $value.incartCount}}{{$value.incartCount}}{{else}}0{{/if}}" class="{{className}} {{if $value.stockCount<1 || !$value.fixedStatus}}store_stockCount{{/if}}" {{if className != "store_anchoredProduct" && ($index == List.length-1)}}node-type="last-child"{{/if}}><a {{if !abTest}}href="#goodsDetails/skuId:{{$value.skuId}}/storeId:{{$value.storeId}}/orgCode:{{$value.orgCode}}"{{/if}} {{if skuDate}}onclick=\'lg("user_action","1.0",{"clickid":"{{skuDate}}",{{if key}}"floor_type":"search_result",{{/if}}{{$41($value.userActionSku || $value.userAction)}}})\'{{/if}} class="linksGoods a2 {{if abTest}}abTest{{/if}}"><span class="af3">{{if from == "searchAllGoods"}}<img class="pic" src="{{if !$value.imgUrl}}//static-o2o.360buyimg.com/daojia/new/images/index_sudoku_default_2.0.png{{else}}{{$value.imgUrl}}{{/if}}" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/index_sudoku_default_2.0.png"\'>{{else}}<img src="{{if !$value.imgUrl}}//static-o2o.360buyimg.com/daojia/new/images/index_sudoku_default_2.0.png{{else}}{{$value.imgUrl}}{{/if}}" class="pic" onerror=\'this.src="//static-o2o.360buyimg.com/daojia/new/images/index_sudoku_default_2.0.png"\'>{{/if}} {{if !$value.fixedStatus}}<span class="store_stockCount_tag">已下架</span>{{else if $value.stockCount< 1}}<span class="store_stockCount_tag">已抢光</span>{{else if $value.stockCount<= 3}}<span class="af4">仅剩<var>{{$value.stockCount}}</var>件</span>{{/if}}</span><dl><dt>{{$value.skuName}}</dt>{{if $value.funcIndicatinsOrAdWord}}<dd class="af5 store-des-h2">{{$value.funcIndicatinsOrAdWord}}</dd>{{/if}} {{if $value.monthSales || $value.highOpinion}}<dd class="af5">{{if $value.monthSales}}<strong class="line_pre">月售{{$value.monthSales}}件</strong>{{/if}} {{if $value.monthSales && $value.highOpinion }}<var class="line_split"></var>{{/if}} {{if $value.highOpinion}}<strong class="line_after">{{$value.highOpinion}}</strong>{{/if}}</dd>{{/if}}<dd>{{if $value.tags && $value.tags.length >0}} {{each $value.tags}} {{if $value.colorCode && $value.iconText}}<span class="a1r" style="background:#{{$value.colorCode}}">{{$value.iconText}}</span>{{/if}} {{/each}} {{/if}}</dd>{{if $value.giftInfo}}<dd class="af2">{{$value.giftInfo}}</dd>{{/if}}<dd class="a2x {{if !$value.vipPrice || $value.vipPrice === \'暂无报价\'}}store-good-price-wrap-padding{{/if}}"><label><em>￥</em>{{$value.realTimePrice}}</label>{{if $value.promotion == 0 && $value.basicPrice && (!$value.vipPrice || $value.vipPrice === \'暂无报价\')}}<strong class="a2y"><em>￥</em>{{$value.basicPrice}}</strong>{{/if}} {{if !$110()}} {{include("hc",{v:$value})}} {{/if}}</dd>{{if $110()}} {{include("hc",{v:$value})}} {{/if}}</dl></a><div class="Box">{{include("hb",{v:$value,cartreduceDate:cartreduceDate,cartaddDate:cartaddDate,skuDate:skuDate,autoaddcart: autoaddcart})}}</div></li>{{/each}}',
"hb":'{{if v.showCartButton}}<span class="reduce {{if !v.incart}}hide{{/if}}" _skuId="{{v.skuId}}" _storeId="{{v.storeId}}" _orgCode="{{v.orgCode}}" {{if cartreduceDate}} onclick=\'lg("user_action","1.0",{"clickid":"{{cartreduceDate}}",{{$41(v.userActionSku || v.userAction)}}})\' {{/if}}>减</span><label class="{{if !v.incart}}hide{{/if}}">{{v.incartCount}}</label><span class="add storeSearchCart" _skuId="{{v.skuId}}" _storeId="{{v.storeId}}" _orgCode="{{v.orgCode}}" {{if cartaddDate}} onclick=\'lg("user_action","1.0",{"clickid":"{{cartaddDate}}",{{$41(v.userActionSku || v.userAction)}}, "autoaddcart": "{{autoaddcart}}"})\' {{/if}}>加</span>{{else}} {{if !hideLink}}<a href="#goodsDetails/skuId:{{v.skuId}}/storeId:{{v.storeId}}/orgCode:{{v.orgCode}}" {{if skuDate}}onclick=\'lg("user_action","1.0",{"clickid":"{{skuDate}}",{{$41(v.userActionSku || v.userAction)}}})\'{{/if}}><span class="linksMark">箭头</span></a>{{else}}<span class="linksMark">箭头</span>{{/if}} {{/if}}',
"hc":'{{if v.vipPrice && v.vipPrice !== \'暂无报价\'}}<div class="af1 {{if $111()||paddingLeft}}member-padding-left5{{/if}}"><label class="memfontSty" style="color:{{$113(v.vipPriceColorCode)}};{{if fontSize}}font-size:{{fontSize}}px{{/if}}"><em {{if emfontSize}}style="font-size:{{emfontSize}}px;"{{/if}}>￥</em>{{v.vipPrice}}</label>{{if v.vipPriceIcon}}<img src="{{v.vipPriceIcon}}" class="rs"/>{{/if}}</div>{{/if}}',"hd":'{{each $56(storetags)}} {{if $value.colorCode && $value.iconText}} {{if type == "goods"}}<li class="dv {{if classname}}{{classname}}{{/if}} {{if $index == 0}}first-promotion-item{{/if}} {{if $index != 0 && $index == storetags.length-1}}ew{{/if}}">{{if $index == 0 && storetags.length<= 2}}<span class="en promotion-left-1" >促销</span>{{/if}} {{if $value.activityRange==2}}<a class="clearfix afb" href="#storeHome/storeId:{{storeInfo.storeId}}/orgCode:{{storeInfo.venderId}}/activityId:{{$value.activityId}}/promotionType:{{$value.type}}/fromAnchor:true"><i class="ik" style="background:#{{$value.colorCode}}">{{$value.iconText}}</i>{{if $value.type == 13}}<span class="du">{{$value.promoteGiftDetail.rule}}</span>{{if $value.promoteGiftDetail && $value.promoteGiftDetail.giftDetails.length ==1 && $value.promoteGiftDetail.giftDetails[0].skuId == orignskuId}}<span>赠品为同款商品</span>{{else if $value.activityRange==2 && $value.activityId}}<i class="dw arrow eu"></i>{{/if}} {{if $value.promoteGiftDetail && $value.promoteGiftDetail.giftDetails.length }} {{include(\'he\',{ skuGifts:$value.promoteGiftDetail,storeInfo:storeInfo})}} {{/if}} {{else}}<span class="du">{{$value.words.replace(/###/gi, "，")}}</span>{{/if}} {{if $value.activityId}}<i class="dw arrow eu"></i>{{/if}}</a>{{else}}<span class="clearfix afb"><i class="ik" style="background:#{{$value.colorCode}}">{{$value.iconText}}</i>{{if $value.type == 13}}<span class="du">{{$value.promoteGiftDetail.rule}}</span>{{if $value.promoteGiftDetail && $value.promoteGiftDetail.giftDetails.length ==1 && $value.promoteGiftDetail.giftDetails[0].skuId == orignskuId}}<span>赠品为同款商品</span>{{else if $value.promoteGiftDetail && $value.promoteGiftDetail.giftDetails.length }} {{include(\'he\',{ skuGifts:$value.promoteGiftDetail,storeInfo:storeInfo})}} {{/if}} {{else}}<span class="du">{{$value.words.replace(/###/gi, "，")}}</span>{{/if}}</span>{{/if}}</li>{{else}}<li class="dv {{if classname}}{{classname}}{{/if}}" ><i class="ik" style="background:#{{$value.colorCode}}">{{$value.iconText}}</i><span class="du">{{$value.words.replace(/###/gi, "，")}}</span></li>{{/if}} {{else if $value.flagText && $value.flagColor}}<p class="dv "><em><i class="ik" style="background:{{$value.flagColor}}">{{$value.flagText}}</i><strong class="du">{{$value.name}}</strong>{{if $value.desc || $value.descText}}<i freight="{{$value.desc || $value.descText}}" freighttitle="{{$value.title}}" class="io"></i>{{/if}}</em><span style="color:{{$value.color}}">{{$value.value}}</span></p>{{/if}} {{/each}}'};
$(function(){ra(function(){Z("//static-o2o.360buyimg.com/daojia/new/v/index_20180315_191215_separate.js")})})